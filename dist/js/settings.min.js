if(angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(t){var e=t.storageKey(),n=t.storage(),a=function(){var a=t.preferredLanguage();angular.isString(a)?t.use(a):n.put(e,t.use())};n?n.get(e)?t.use(n.get(e))["catch"](a):a():angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}]),angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(t){var e,n,a,i,o,r,s,l,c,u,d,p,f,m,h,g={},v=[],b=t,y=[],$=!1,w="translate-cloak",x=!1,k=".",C="2.5.2",D=function(){var t,e,n=window.navigator,a=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(n.languages))for(t=0;t<n.languages.length;t++)if(e=n.languages[t],e&&e.length)return e;for(t=0;t<a.length;t++)if(e=n[a[t]],e&&e.length)return e;return null};D.displayName="angular-translate/service: getFirstBrowserLanguage";var T=function(){return(D()||"").split("-").join("_")};T.displayName="angular-translate/service: getLocale";var E=function(t,e){for(var n=0,a=t.length;a>n;n++)if(t[n]===e)return n;return-1},S=function(){return this.replace(/^\s+|\s+$/g,"")},O=function(t){for(var e=[],a=angular.lowercase(t),i=0,o=v.length;o>i;i++)e.push(angular.lowercase(v[i]));if(E(e,a)>-1)return t;if(n){var r;for(var s in n){var l=!1,c=Object.prototype.hasOwnProperty.call(n,s)&&angular.lowercase(s)===angular.lowercase(t);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===t.slice(0,s.length-1)),(c||l)&&(r=n[s],E(e,angular.lowercase(r))>-1))return r}}var u=t.split("_");return u.length>1&&E(e,angular.lowercase(u[0]))>-1?u[0]:t},M=function(t,e){if(!t&&!e)return g;if(t&&!e){if(angular.isString(t))return g[t]}else angular.isObject(g[t])||(g[t]={}),angular.extend(g[t],A(e));return this};this.translations=M,this.cloakClassName=function(t){return t?(w=t,this):w};var A=function(t,e,n,a){var i,o,r,s;e||(e=[]),n||(n={});for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s=t[i],angular.isObject(s)?A(s,e.concat(i),n,i):(o=e.length?""+e.join(k)+k+i:i,e.length&&i===a&&(r=""+e.join(k),n[r]="@:"+o),n[o]=s));return n};this.addInterpolation=function(t){return y.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return u=t,this},this.useSanitizeValueStrategy=function(t){return $=t,this},this.preferredLanguage=function(t){return P(t),this};var P=function(t){return t&&(e=t),e};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(f=t,this):f},this.translationNotFoundIndicatorRight=function(t){return t?(m=t,this):m},this.fallbackLanguage=function(t){return I(t),this};var I=function(t){return t?(angular.isString(t)?(i=!0,a=[t]):angular.isArray(t)&&(i=!1,a=t),angular.isString(e)&&E(a,e)<0&&a.push(e),this):i?a[0]:a};this.use=function(t){if(t){if(!g[t]&&!d)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return o=t,this}return o};var F=function(t){return t?(b=t,void 0):l?l+b:b};this.storageKey=F,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return d=t,p=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return s=t,this},this.storagePrefix=function(t){return t?(l=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return c=t,this},this.usePostCompiling=function(t){return x=!!t,this},this.determinePreferredLanguage=function(t){var n=t&&angular.isFunction(t)?t():T();return e=v.length?O(n):n,this},this.registerAvailableLanguageKeys=function(t,e){return t?(v=t,e&&(n=e),this):v},this.useLoaderCache=function(t){return t===!1?h=void 0:t===!0?h=!0:"undefined"==typeof t?h="$translationCache":t&&(h=t),this},this.$get=["$log","$injector","$rootScope","$q",function(t,n,l,v){var k,D,T,L=n.get(u||"$translateDefaultInterpolation"),U=!1,N={},V={},j=function(t,n,i){if(angular.isArray(t)){var r=function(t){for(var e={},a=[],o=function(t){var a=v.defer(),o=function(n){e[t]=n,a.resolve([t,n])};return j(t,n,i).then(o,o),a.promise},r=0,s=t.length;s>r;r++)a.push(o(t[r]));return v.all(a).then(function(){return e})};return r(t)}var l=v.defer();t&&(t=S.apply(t));var c=function(){var t=e?V[e]:V[o];if(D=0,s&&!t){var n=k.get(b);if(t=V[n],a&&a.length){var i=E(a,n);D=0===i?1:0,E(a,e)<0&&a.push(e)}}return t}();return c?c.then(function(){J(t,n,i).then(l.resolve,l.reject)},l.reject):J(t,n,i).then(l.resolve,l.reject),l.promise},H=function(t){return f&&(t=[f,t].join(" ")),m&&(t=[t,m].join(" ")),t},z=function(t){o=t,l.$emit("$translateChangeSuccess",{language:t}),s&&k.put(j.storageKey(),o),L.setLocale(o),angular.forEach(N,function(t,e){N[e].setLocale(o)}),l.$emit("$translateChangeEnd",{language:t})},_=function(t){if(!t)throw"No language key specified for loading.";var e=v.defer();l.$emit("$translateLoadingStart",{language:t}),U=!0;var a=h;"string"==typeof a&&(a=n.get(a));var i=angular.extend({},p,{key:t,$http:angular.extend({},{cache:a},p.$http)});return n.get(d)(i).then(function(n){var a={};l.$emit("$translateLoadingSuccess",{language:t}),angular.isArray(n)?angular.forEach(n,function(t){angular.extend(a,A(t))}):angular.extend(a,A(n)),U=!1,e.resolve({key:t,table:a}),l.$emit("$translateLoadingEnd",{language:t})},function(t){l.$emit("$translateLoadingError",{language:t}),e.reject(t),l.$emit("$translateLoadingEnd",{language:t})}),e.promise};if(s&&(k=n.get(s),!k.get||!k.put))throw new Error("Couldn't use storage '"+s+"', missing get() or put() method!");angular.isFunction(L.useSanitizeValueStrategy)&&L.useSanitizeValueStrategy($),y.length&&angular.forEach(y,function(t){var a=n.get(t);a.setLocale(e||o),angular.isFunction(a.useSanitizeValueStrategy)&&a.useSanitizeValueStrategy($),N[a.getInterpolationIdentifier()]=a});var R=function(t){var e=v.defer();return Object.prototype.hasOwnProperty.call(g,t)?e.resolve(g[t]):V[t]?V[t].then(function(t){M(t.key,t.table),e.resolve(t.table)},e.reject):e.reject(),e.promise},q=function(t,e,n,a){var i=v.defer();return R(t).then(function(r){Object.prototype.hasOwnProperty.call(r,e)?(a.setLocale(t),i.resolve(a.interpolate(r[e],n)),a.setLocale(o)):i.reject()},i.reject),i.promise},B=function(t,e,n,a){var i,r=g[t];return r&&Object.prototype.hasOwnProperty.call(r,e)&&(a.setLocale(t),i=a.interpolate(r[e],n),a.setLocale(o)),i},W=function(t){if(c){var e=n.get(c)(t,o);return void 0!==e?e:t}return t},G=function(t,e,n,i){var o=v.defer();if(t<a.length){var r=a[t];q(r,e,n,i).then(o.resolve,function(){G(t+1,e,n,i).then(o.resolve)})}else o.resolve(W(e));return o.promise},Y=function(t,e,n,i){var o;if(t<a.length){var r=a[t];o=B(r,e,n,i),o||(o=Y(t+1,e,n,i))}return o},K=function(t,e,n){return G(T>0?T:D,t,e,n)},Q=function(t,e,n){return Y(T>0?T:D,t,e,n)},J=function(t,e,n){var i=v.defer(),r=o?g[o]:g,s=n?N[n]:L;if(r&&Object.prototype.hasOwnProperty.call(r,t)){var l=r[t];"@:"===l.substr(0,2)?j(l.substr(2),e,n).then(i.resolve,i.reject):i.resolve(s.interpolate(l,e))}else{var u;c&&!U&&(u=W(t)),o&&a&&a.length?K(t,e,s).then(function(t){i.resolve(t)},function(t){i.reject(H(t))}):c&&!U&&u?i.resolve(u):i.reject(H(t))}return i.promise},Z=function(t,e,n){var i,r=o?g[o]:g,s=n?N[n]:L;if(r&&Object.prototype.hasOwnProperty.call(r,t)){var l=r[t];i="@:"===l.substr(0,2)?Z(l.substr(2),e,n):s.interpolate(l,e)}else{var u;c&&!U&&(u=W(t)),o&&a&&a.length?(D=0,i=Q(t,e,s)):i=c&&!U&&u?u:H(t)}return i};if(j.preferredLanguage=function(t){return t&&P(t),e},j.cloakClassName=function(){return w},j.fallbackLanguage=function(t){if(void 0!==t&&null!==t){if(I(t),d&&a&&a.length)for(var e=0,n=a.length;n>e;e++)V[a[e]]||(V[a[e]]=_(a[e]));j.use(j.use())}return i?a[0]:a},j.useFallbackLanguage=function(t){if(void 0!==t&&null!==t)if(t){var e=E(a,t);e>-1&&(T=e)}else T=0},j.proposedLanguage=function(){return r},j.storage=function(){return k},j.use=function(t){if(!t)return o;var e=v.defer();l.$emit("$translateChangeStart",{language:t});var n=O(t);return n&&(t=n),g[t]||!d||V[t]?(e.resolve(t),z(t)):(r=t,V[t]=_(t).then(function(n){return M(n.key,n.table),e.resolve(n.key),z(n.key),r===t&&(r=void 0),n},function(t){r===t&&(r=void 0),l.$emit("$translateChangeError",{language:t}),e.reject(t),l.$emit("$translateChangeEnd",{language:t})})),e.promise},j.storageKey=function(){return F()},j.isPostCompilingEnabled=function(){return x},j.refresh=function(t){function e(){i.resolve(),l.$emit("$translateRefreshEnd",{language:t})}function n(){i.reject(),l.$emit("$translateRefreshEnd",{language:t})}if(!d)throw new Error("Couldn't refresh translation table, no loader registered!");var i=v.defer();if(l.$emit("$translateRefreshStart",{language:t}),t)g[t]?_(t).then(function(n){M(n.key,n.table),t===o&&z(o),e()},n):n();else{var r=[],s={};if(a&&a.length)for(var c=0,u=a.length;u>c;c++)r.push(_(a[c])),s[a[c]]=!0;o&&!s[o]&&r.push(_(o)),v.all(r).then(function(t){angular.forEach(t,function(t){g[t.key]&&delete g[t.key],M(t.key,t.table)}),o&&z(o),e()})}return i.promise},j.instant=function(t,n,i){if(null===t||angular.isUndefined(t))return t;if(angular.isArray(t)){for(var r={},s=0,l=t.length;l>s;s++)r[t[s]]=j.instant(t[s],n,i);return r}if(angular.isString(t)&&t.length<1)return t;t&&(t=S.apply(t));var u,d=[];e&&d.push(e),o&&d.push(o),a&&a.length&&(d=d.concat(a));for(var p=0,f=d.length;f>p;p++){var m=d[p];if(g[m]&&"undefined"!=typeof g[m][t]&&(u=Z(t,n,i)),"undefined"!=typeof u)break}return u||""===u||(u=L.interpolate(t,n),c&&!U&&(u=W(t))),u},j.versionInfo=function(){return C},j.loaderCache=function(){return h},d&&(angular.equals(g,{})&&j.use(j.use()),a&&a.length))for(var X=function(t){return M(t.key,t.table),l.$emit("$translateChangeEnd",{language:t.key}),t},te=0,ee=a.length;ee>te;te++)V[a[te]]=_(a[te]).then(X);return j}]}]),angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",["$interpolate",function(t){var e,n={},a="default",i=null,o={escaped:function(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=angular.element("<div></div>").text(t[n]).html());return e}},r=function(t){var e;return e=angular.isFunction(o[i])?o[i](t):t};return n.setLocale=function(t){e=t},n.getInterpolationIdentifier=function(){return a},n.useSanitizeValueStrategy=function(t){return i=t,this},n.interpolate=function(e,n){return i&&(n=r(n)),t(e)(n||{})},n}]),angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",["$translate","$q","$interpolate","$compile","$parse","$rootScope",function(t,e,n,a,i,o){return{restrict:"AE",scope:!0,compile:function(e,r){var s=r.translateValues?r.translateValues:void 0,l=r.translateInterpolation?r.translateInterpolation:void 0,c=e[0].outerHTML.match(/translate-value-+/i),u="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",d="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(e,p,f){e.interpolateParams={},e.preText="",e.postText="";var m={},h=function(t){if(angular.equals(t,"")||!angular.isDefined(t)){var a=p.text().match(u);angular.isArray(a)?(e.preText=a[1],e.postText=a[3],m.translate=n(a[2])(e.$parent),watcherMatches=p.text().match(d),angular.isArray(watcherMatches)&&watcherMatches[2]&&watcherMatches[2].length&&e.$watch(watcherMatches[2],function(t){m.translate=t,$()})):m.translate=p.text().replace(/^\s+|\s+$/g,"")}else m.translate=t;$()},g=function(t){f.$observe(t,function(e){m[t]=e,$()})};f.$observe("translate",function(t){h(t)});for(var v in f)f.hasOwnProperty(v)&&"translateAttr"===v.substr(0,13)&&g(v);if(f.$observe("translateDefault",function(t){e.defaultText=t}),s&&f.$observe("translateValues",function(t){t&&e.$parent.$watch(function(){angular.extend(e.interpolateParams,i(t)(e.$parent))})}),c){var b=function(t){f.$observe(t,function(n){var a=angular.lowercase(t.substr(14,1))+t.substr(15);e.interpolateParams[a]=n})};for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&"translateValue"===y.substr(0,14)&&"translateValues"!==y&&b(y)}var $=function(){for(var t in m)m.hasOwnProperty(t)&&m[t]&&w(t,m[t],e,e.interpolateParams)},w=function(e,n,a,i){t(n,i,l).then(function(t){x(t,a,!0,e)},function(t){x(t,a,!1,e)})},x=function(e,n,i,o){if("translate"===o){i||"undefined"==typeof n.defaultText||(e=n.defaultText),p.html(n.preText+e+n.postText);var s=t.isPostCompilingEnabled(),l="undefined"!=typeof r.translateCompile,c=l&&"false"!==r.translateCompile;(s&&!l||c)&&a(p.contents())(n)}else{i||"undefined"==typeof n.defaultText||(e=n.defaultText);var u=f.$attr[o].substr(15);p.attr(u,e)}};e.$watch("interpolateParams",$,!0);var k=o.$on("$translateChangeSuccess",$);p.text().length&&h(""),$(),e.$on("$destroy",k)}}}}]),angular.module("pascalprecht.translate").directive("translateCloak",["$rootScope","$translate",function(t,e){return{compile:function(n){var a=function(){n.addClass(e.cloakClassName())},i=function(){n.removeClass(e.cloakClassName())},o=t.$on("$translateChangeEnd",function(){i(),o(),o=null});return a(),function(t,n,o){o.translateCloak&&o.translateCloak.length&&o.$observe("translateCloak",function(t){e(t).then(i,a)})}}}}]),angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(t,e){var n=function(n,a,i){return angular.isObject(a)||(a=t(a)(this)),e.instant(n,a,i)};return n.$stateful=!0,n}]),function(t,e){"use strict";function n(){this.$get=["$$sanitizeUri",function(t){return function(e){var n=[];return o(e,l(n,function(e,n){return!/^unsafe/.test(t(e,n))})),n.join("")}}]}function a(t){var n=[],a=l(n,e.noop);return a.chars(t),n.join("")}function i(t){var e,n={},a=t.split(",");for(e=0;e<a.length;e++)n[a[e]]=!0;return n}function o(t,n){function a(t,a,o,s){if(a=e.lowercase(a),C[a])for(;y.last()&&D[y.last()];)i("",y.last());k[a]&&y.last()==a&&i("",a),s=$[a]||!!s,s||y.push(a);var l={};o.replace(p,function(t,e,n,a,i){var o=n||a||i||"";l[e]=r(o)}),n.start&&n.start(a,l,s)}function i(t,a){var i,o=0;if(a=e.lowercase(a))for(o=y.length-1;o>=0&&y[o]!=a;o--);if(o>=0){for(i=y.length-1;i>=o;i--)n.end&&n.end(y[i]);y.length=o}}"string"!=typeof t&&(t=null===t||"undefined"==typeof t?"":""+t);var o,s,l,b,y=[],w=t;for(y.last=function(){return y[y.length-1]};t;){if(b="",s=!0,y.last()&&E[y.last()]?(t=t.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+y.last()+"[^>]*>","i"),function(t,e){return e=e.replace(h,"$1").replace(v,"$1"),n.chars&&n.chars(r(e)),""}),i("",y.last())):(0===t.indexOf("<!--")?(o=t.indexOf("--",4),o>=0&&t.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(t.substring(4,o)),t=t.substring(o+3),s=!1)):g.test(t)?(l=t.match(g),l&&(t=t.replace(l[0],""),s=!1)):m.test(t)?(l=t.match(d),l&&(t=t.substring(l[0].length),l[0].replace(d,i),s=!1)):f.test(t)&&(l=t.match(u),l?(l[4]&&(t=t.substring(l[0].length),l[0].replace(u,a)),s=!1):(b+="<",t=t.substring(1))),s&&(o=t.indexOf("<"),b+=0>o?t:t.substring(0,o),t=0>o?"":t.substring(o),n.chars&&n.chars(r(b)))),t==w)throw c("badparse","The sanitizer was unable to parse the following block of html: {0}",t);w=t}i()}function r(t){return t?(I.innerHTML=t.replace(/</g,"&lt;"),I.textContent):""}function s(t){return t.replace(/&/g,"&amp;").replace(b,function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+(1024*(e-55296)+(n-56320)+65536)+";"}).replace(y,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(t,n){var a=!1,i=e.bind(t,t.push);return{start:function(t,o,r){t=e.lowercase(t),!a&&E[t]&&(a=t),a||S[t]!==!0||(i("<"),i(t),e.forEach(o,function(a,o){var r=e.lowercase(o),l="img"===t&&"src"===r||"background"===r;P[r]!==!0||O[r]===!0&&!n(a,l)||(i(" "),i(o),i('="'),i(s(a)),i('"'))}),i(r?"/>":">"))},end:function(t){t=e.lowercase(t),a||S[t]!==!0||(i("</"),i(t),i(">")),t==a&&(a=!1)},chars:function(t){a||i(s(t))}}}var c=e.$$minErr("$sanitize"),u=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,d=/^<\/\s*([\w:-]+)[^>]*>/,p=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,f=/^</,m=/^<\//,h=/<!--(.*?)-->/g,g=/<!DOCTYPE([^>]*?)>/i,v=/<!\[CDATA\[(.*?)]]>/g,b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,y=/([^\#-~| |!])/g,$=i("area,br,col,hr,img,wbr"),w=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),x=i("rp,rt"),k=e.extend({},x,w),C=e.extend({},w,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),D=e.extend({},x,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),T=i("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),E=i("script,style"),S=e.extend({},$,C,D,k,T),O=i("background,cite,href,longdesc,src,usemap,xlink:href"),M=i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),A=i("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),P=e.extend({},O,A,M),I=document.createElement("pre");e.module("ngSanitize",[]).provider("$sanitize",n),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/i,i=/^mailto:/i;return function(o,r){function s(t){t&&f.push(a(t))}function l(t,n){f.push("<a "),e.isDefined(r)&&f.push('target="',r,'" '),f.push('href="',t.replace(/"/g,"&quot;"),'">'),s(n),f.push("</a>")}if(!o)return o;for(var c,u,d,p=o,f=[];c=p.match(n);)u=c[0],c[2]||c[4]||(u=(c[3]?"http://":"mailto:")+u),d=c.index,s(p.substr(0,d)),l(u,c[0].replace(i,"")),p=p.substring(d+c[0].length);return s(p),t(f.join(""))}}])}(window,window.angular),function(){"use strict";angular.module("angularLoad",[]).service("angularLoad",["$document","$q","$timeout",function(t,e,n){function a(t){var a={};return function(i){if("undefined"==typeof a[i]){var o=e.defer(),r=t(i);r.onload=r.onreadystatechange=function(t){r.readyState&&"complete"!==r.readyState&&"loaded"!==r.readyState||n(function(){o.resolve(t)})},r.onerror=function(t){n(function(){o.reject(t)})},a[i]=o.promise}return a[i]}}var i=t[0];this.loadScript=a(function(t){var e=i.createElement("script");return e.src=t,i.body.appendChild(e),e}),this.loadCSS=a(function(t){var e=i.createElement("link");return e.rel="stylesheet",e.type="text/css",e.href=t,i.head.appendChild(e),e})}])}(),angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(t,e){return function(n){if(!n||!angular.isString(n.prefix)||!angular.isString(n.suffix))throw new Error("Couldn't load static files, no prefix or suffix specified!");var a=t.defer();return e(angular.extend({url:[n.prefix,n.key,n.suffix].join(""),method:"GET",params:""},n.$http)).success(function(t){a.resolve(t)}).error(function(){a.reject(n.key)}),a.promise}}]),angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(t,e){function n(t,a){e(angular.extend({url:[t.prefix,t.key.toLowerCase(),t.suffix].join(""),method:"GET",params:""},t.$http)).success(function(t){a.resolve(t)}).error(function(){if(t.key.indexOf("_")>=0){var e=t.key.substr(0,t.key.lastIndexOf("_")),i=angular.extend({},t,{key:e});n(i,a)}else a.resolve("{}")})}return function(e){if(!e||!angular.isString(e.prefix)||!angular.isString(e.suffix))throw new Error('Couldn"t load static files, no prefix or suffix specified!');var a=t.defer();return n(e,a),a.promise}}]),angular.module("risevision.common.i18n",["pascalprecht.translate","risevision.common.i18n.config"]).config(["$translateProvider","LOCALES_PREFIX","LOCALES_SUFIX",function(t,e,n){t.useStaticFilesLoader({prefix:e,suffix:n}),t.determinePreferredLanguage().fallbackLanguage("en")}]),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.affix"),o="object"==typeof e&&e;i||a.data("bs.affix",i=new n(this,o)),"string"==typeof e&&i[e]()})}var n=function(e,a){this.options=t.extend({},n.DEFAULTS,a),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=t(document).height(),a=this.$target.scrollTop(),i=this.$element.offset(),o=this.options.offset,r=o.top,s=o.bottom;"object"!=typeof o&&(s=r=o),"function"==typeof r&&(r=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var l=null!=this.unpin&&a+this.unpin<=i.top?!1:null!=s&&i.top+this.$element.height()>=e-s?"bottom":null!=r&&r>=a?"top":!1;if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),u=t.Event(c+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(c).trigger(t.Event(c.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:e-this.$element.height()-s}))}}};var a=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=a,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),a=n.data();a.offset=a.offset||{},a.offsetBottom&&(a.offset.bottom=a.offsetBottom),a.offsetTop&&(a.offset.top=a.offsetTop),e.call(n,a)})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new a(this)),"string"==typeof e&&i[e].call(n)})}var n='[data-dismiss="alert"]',a=function(e){t(e).on("click",n,this.close)};a.VERSION="3.2.0",a.prototype.close=function(e){function n(){o.detach().trigger("closed.bs.alert").remove()}var a=t(this),i=a.attr("data-target");i||(i=a.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var o=t(i);e&&e.preventDefault(),o.length||(o=a.hasClass("alert")?a:a.parent()),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var i=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=a,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",n,a.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.button"),o="object"==typeof e&&e;i||a.data("bs.button",i=new n(this,o)),"toggle"==e?i.toggle():e&&i.setState(e)})}var n=function(e,a){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,a),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",a=this.$element,i=a.is("input")?"val":"html",o=a.data();e+="Text",null==o.resetText&&a.data("resetText",a[i]()),a[i](null==o[e]?this.options[e]:o[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,a.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,a.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var a=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=a,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var a=t(n.target);a.hasClass("btn")||(a=a.closest(".btn")),e.call(a,"toggle"),n.preventDefault()})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.carousel"),o=t.extend({},n.DEFAULTS,a.data(),"object"==typeof e&&e),r="string"==typeof e?e:o.slide;i||a.data("bs.carousel",i=new n(this,o)),"number"==typeof e?i.to(e):r?i[r]():o.interval&&i.pause().cycle()})}var n=function(e,n){this.$element=t(e).on("keydown.bs.carousel",t.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(t){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.to=function(e){var n=this,a=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(e)}):a==e?this.pause().cycle():this.slide(e>a?"next":"prev",t(this.$items[e]))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,n){var a=this.$element.find(".item.active"),i=n||a[e](),o=this.interval,r="next"==e?"left":"right",s="next"==e?"first":"last",l=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[s]()}if(i.hasClass("active"))return this.sliding=!1;var c=i[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:r});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(i)]);d&&d.addClass("active")}var p=t.Event("slid.bs.carousel",{relatedTarget:c,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(i.addClass(e),i[0].offsetWidth,a.addClass(r),i.addClass(r),a.one("bsTransitionEnd",function(){i.removeClass([e,r].join(" ")).addClass("active"),a.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(1e3*a.css("transition-duration").slice(0,-1))):(a.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(p)),o&&this.cycle(),this}};var a=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=a,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var a,i=t(this),o=t(i.attr("data-target")||(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var r=t.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(r.interval=!1),e.call(o,r),s&&o.data("bs.carousel").to(s),n.preventDefault()}}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.collapse"),o=t.extend({},n.DEFAULTS,a.data(),"object"==typeof e&&e);!i&&o.toggle&&"show"==e&&(e=!e),i||a.data("bs.collapse",i=new n(this,o)),"string"==typeof e&&i[e]()})}var n=function(e,a){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,a),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=t.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var a=this.$parent&&this.$parent.find("> .panel > .in");if(a&&a.length){var i=a.data("bs.collapse");if(i&&i.transitioning)return;e.call(a,"hide"),i||a.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var s=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(350)[o](this.$element[0][s])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var a=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?(this.$element[n](0).one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(350),void 0):a.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var a=t.fn.collapse;t.fn.collapse=e,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=a,this
},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var a,i=t(this),o=i.attr("data-target")||n.preventDefault()||(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""),r=t(o),s=r.data("bs.collapse"),l=s?"toggle":i.data(),c=i.attr("data-parent"),u=c&&t(c);s&&s.transitioning||(u&&u.find('[data-toggle="collapse"][data-parent="'+c+'"]').not(i).addClass("collapsed"),i[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),e.call(r,l)})}(jQuery),+function(t){"use strict";function e(e){e&&3===e.which||(t(i).remove(),t(o).each(function(){var a=n(t(this)),i={relatedTarget:this};a.hasClass("open")&&(a.trigger(e=t.Event("hide.bs.dropdown",i)),e.isDefaultPrevented()||a.removeClass("open").trigger("hidden.bs.dropdown",i))}))}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var a=n&&t(n);return a&&a.length?a:e.parent()}function a(e){return this.each(function(){var n=t(this),a=n.data("bs.dropdown");a||n.data("bs.dropdown",a=new r(this)),"string"==typeof e&&a[e].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.VERSION="3.2.0",r.prototype.toggle=function(a){var i=t(this);if(!i.is(".disabled, :disabled")){var o=n(i),r=o.hasClass("open");if(e(),!r){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var s={relatedTarget:this};if(o.trigger(a=t.Event("show.bs.dropdown",s)),a.isDefaultPrevented())return;i.trigger("focus"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},r.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var a=t(this);if(e.preventDefault(),e.stopPropagation(),!a.is(".disabled, :disabled")){var i=n(a),r=i.hasClass("open");if(!r||r&&27==e.keyCode)return 27==e.which&&i.find(o).trigger("focus"),a.trigger("click");var s=" li:not(.divider):visible a",l=i.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var c=l.index(l.filter(":focus"));38==e.keyCode&&c>0&&c--,40==e.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=a,t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,r.prototype.toggle).on("keydown.bs.dropdown.data-api",o+', [role="menu"], [role="listbox"]',r.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.tab");i||a.data("bs.tab",i=new n(this)),"string"==typeof e&&i[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.2.0",n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),a=e.data("target");if(a||(a=e.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=n.find(".active:last a")[0],o=t.Event("show.bs.tab",{relatedTarget:i});if(e.trigger(o),!o.isDefaultPrevented()){var r=t(a);this.activate(e.closest("li"),n),this.activate(r,r.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:i})})}}},n.prototype.activate=function(e,n,a){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),a&&a()}var o=n.find("> .active"),r=a&&t.support.transition&&o.hasClass("fade");r?o.one("bsTransitionEnd",i).emulateTransitionEnd(150):i(),o.removeClass("in")};var a=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=a,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),e.call(t(this),"show")})}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,a=this;t(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||t(a).trigger(t.support.transition.end)};return setTimeout(i,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(n,a){var i=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(n).is("body")?t(window):t(n),this.options=t.extend({},e.DEFAULTS,a),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",i),this.refresh(),this.process()}function n(n){return this.each(function(){var a=t(this),i=a.data("bs.scrollspy"),o="object"==typeof n&&n;i||a.data("bs.scrollspy",i=new e(this,o)),"string"==typeof n&&i[n]()})}e.VERSION="3.2.0",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",n=0;t.isWindow(this.$scrollElement[0])||(e="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var a=this;this.$body.find(this.selector).map(function(){var a=t(this),i=a.data("target")||a.attr("href"),o=/^#./.test(i)&&t(i);return o&&o.length&&o.is(":visible")&&[[o[e]().top+n,i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){a.offsets.push(this[0]),a.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),a=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,r=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=a)return r!=(t=o[o.length-1])&&this.activate(t);if(r&&e<=i[0])return r!=(t=o[0])&&this.activate(t);for(t=i.length;t--;)r!=o[t]&&e>=i[t]&&(!i[t+1]||e<=i[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',a=t(n).parents("li").addClass("active");a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active")),a.trigger("activate.bs.scrollspy")};var a=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=a,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e,a){return this.each(function(){var i=t(this),o=i.data("bs.modal"),r=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);o||i.data("bs.modal",o=new n(this,r)),"string"==typeof e?o[e](a):r.show&&o.show(a)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var n=this,a=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(a),this.isShown||a.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var a=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),a&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=t.Event("shown.bs.modal",{relatedTarget:e});a?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(i)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var n=this,a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&a;if(this.$backdrop=t('<div class="modal-backdrop '+a+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(150):o()}else e&&e()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var a=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=a,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var a=t(this),i=a.attr("href"),o=t(a.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),r=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},o.data(),a.data());a.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){a.is(":visible")&&a.trigger("focus")})}),e.call(o,r,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.tooltip"),o="object"==typeof e&&e;(i||"destroy"!=e)&&(i||a.data("bs.tooltip",i=new n(this,o)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,a){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(a),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),o=i.length;o--;){var r=i[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,a){n[t]!=a&&(e[t]=a)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(document.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var a=this,i=this.tip(),o=this.getUID(this.type);this.setContent(),i.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&i.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,l=s.test(r);l&&(r=r.replace(s,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var c=this.getPosition(),u=i[0].offsetWidth,d=i[0].offsetHeight;if(l){var p=r,f=this.$element.parent(),m=this.getPosition(f);r="bottom"==r&&c.top+c.height+d-m.scroll>m.height?"top":"top"==r&&c.top-m.scroll-d<0?"bottom":"right"==r&&c.right+u>m.width?"left":"left"==r&&c.left-u<m.left?"right":r,i.removeClass(p).addClass(r)}var h=this.getCalculatedOffset(r,c,u,d);this.applyPlacement(h,r);var g=function(){a.$element.trigger("shown.bs."+a.type),a.hoverState=null};t.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",g).emulateTransitionEnd(150):g()}},n.prototype.applyPlacement=function(e,n){var a=this.tip(),i=a[0].offsetWidth,o=a[0].offsetHeight,r=parseInt(a.css("margin-top"),10),s=parseInt(a.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(s)&&(s=0),e.top=e.top+r,e.left=e.left+s,t.offset.setOffset(a[0],t.extend({using:function(t){a.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),a.addClass("in");var l=a[0].offsetWidth,c=a[0].offsetHeight;"top"==n&&c!=o&&(e.top=e.top+o-c);var u=this.getViewportAdjustedDelta(n,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var d=u.left?2*u.left-i+l:2*u.top-o+c,p=u.left?"left":"top",f=u.left?"offsetWidth":"offsetHeight";a.offset(e),this.replaceArrow(d,a[0][f],p)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function e(){"in"!=n.hoverState&&a.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,a=this.tip(),i=t.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(i),i.isDefaultPrevented()?void 0:(a.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],a="BODY"==n.tagName;return t.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:a?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop(),width:a?t(window).width():e.outerWidth(),height:a?t(window).height():e.outerHeight()},a?{top:0,left:0}:e.offset())},n.prototype.getCalculatedOffset=function(t,e,n,a){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-a,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-a/2,left:e.left-n}:{top:e.top+e.height/2-a/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,a){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-r.scroll,l=e.top+o-r.scroll+a;s<r.top?i.top=r.top-s:l>r.top+r.height&&(i.top=r.top+r.height-l)}else{var c=e.left-o,u=e.left+o+n;c<r.left?i.left=r.left-c:u>r.width&&(i.left=r.left+r.width-u)}return i},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var a=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=a,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.popover"),o="object"==typeof e&&e;(i||"destroy"!=e)&&(i||a.data("bs.popover",i=new n(this,o)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var a=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=a,this}}(jQuery),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(t){return{link:function(e,n,a){function i(){n.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),t.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(o)}function o(){n.removeClass("collapsing"),n.css({height:"auto"})}function r(){return n.hasClass("collapse")||n.hasClass("in")?(n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),t.removeClass(n,"in",{to:{height:"0"}}).then(s),void 0):s()}function s(){n.css({height:"0"}),n.removeClass("collapsing"),n.addClass("collapse")}e.$watch(a.collapse,function(t){t?r():i()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(t,e,n){this.groups=[],this.closeOthers=function(a){var i=angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(t){t!==a&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(t,e){return e.templateUrl||"template/accordion/accordion.html"}}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(t,e){return e.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(t,e,n,a){a.addGroup(t),t.openClass=n.openClass||"panel-open",t.panelClass=n.panelClass,t.$watch("isOpen",function(n){e.toggleClass(t.openClass,n),n&&a.closeOthers(t)}),t.toggleOpen=function(e){t.isDisabled||e&&32!==e.which||(t.isOpen=!t.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(t,e,n,a,i){a.setHeading(i(t,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(t,e,n,a){t.$watch(function(){return a[n.accordionTransclude]},function(t){t&&(e.find("span").html(""),e.find("span").append(t))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(t,e){t.closeable=!!e.close,this.close=t.close}]).directive("alert",function(){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(t,e){return e.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(t){return{require:"alert",link:function(e,n,a,i){t(function(){i.close()},parseInt(a.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(t,e){return function(n,a,i){e||t.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),a.addClass("ng-binding").data("$binding",i.bindHtmlUnsafe),n.$watch(i.bindHtmlUnsafe,function(t){a.html(t||"")})}}]),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(t,e,n,a){var i=a[0],o=a[1];e.find("input").css({display:"none"}),o.$render=function(){e.toggleClass(i.activeClass,angular.equals(o.$modelValue,t.$eval(n.btnRadio)))},e.bind(i.toggleEvent,function(){if(!n.disabled){var a=e.hasClass(i.activeClass);(!a||angular.isDefined(n.uncheckable))&&t.$apply(function(){o.$setViewValue(a?null:t.$eval(n.btnRadio)),o.$render()})}})}}}).directive("btnCheckbox",["$document",function(t){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(e,n,a,i){function o(){return s(a.btnCheckboxTrue,!0)}function r(){return s(a.btnCheckboxFalse,!1)}function s(t,n){var a=e.$eval(t);return angular.isDefined(a)?a:n}var l=i[0],c=i[1];n.find("input").css({display:"none"}),c.$render=function(){n.toggleClass(l.activeClass,angular.equals(c.$modelValue,o()))},n.bind(l.toggleEvent,function(){a.disabled||e.$apply(function(){c.$setViewValue(n.hasClass(l.activeClass)?r():o()),c.$render()})}),n.on("keypress",function(i){a.disabled||32!==i.which||t[0].activeElement!==n[0]||e.$apply(function(){c.$setViewValue(n.hasClass(l.activeClass)?r():o()),c.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$element","$interval","$animate",function(t,e,n,a){function i(e,n,i){v||(angular.extend(e,{direction:i,active:!0}),angular.extend(d.currentSlide||{},{direction:i,active:!1}),a.enabled()&&!t.noTransition&&!t.$currentTransition&&e.$element&&d.slides.length>1&&(e.$element.data(h,e.direction),d.currentSlide&&d.currentSlide.$element&&d.currentSlide.$element.data(h,e.direction),t.$currentTransition=!0,f?a.on("addClass",e.$element,function(e,n){"close"===n&&(t.$currentTransition=null,a.off("addClass",e))}):e.$element.one("$animate:close",function(){t.$currentTransition=null})),d.currentSlide=e,g=n,r())}function o(t){if(angular.isUndefined(p[t].index))return p[t];{var e;p.length}for(e=0;e<p.length;++e)if(p[e].index==t)return p[e]}function r(){s();var e=+t.interval;!isNaN(e)&&e>0&&(c=n(l,e))}function s(){c&&(n.cancel(c),c=null)}function l(){var e=+t.interval;u&&!isNaN(e)&&e>0&&p.length?t.next():t.pause()}var c,u,d=this,p=d.slides=t.slides=[],f=angular.version.minor>=4,m="uib-noTransition",h="uib-slideDirection",g=-1;d.currentSlide=null;var v=!1;d.select=t.select=function(e,n){var a=t.indexOfSlide(e);void 0===n&&(n=a>d.getCurrentIndex()?"next":"prev"),e&&e!==d.currentSlide&&!t.$currentTransition&&i(e,a,n)},t.$on("$destroy",function(){v=!0}),d.getCurrentIndex=function(){return d.currentSlide&&angular.isDefined(d.currentSlide.index)?+d.currentSlide.index:g},t.indexOfSlide=function(t){return angular.isDefined(t.index)?+t.index:p.indexOf(t)},t.next=function(){var e=(d.getCurrentIndex()+1)%p.length;return 0===e&&t.noWrap()?(t.pause(),void 0):d.select(o(e),"next")},t.prev=function(){var e=d.getCurrentIndex()-1<0?p.length-1:d.getCurrentIndex()-1;return t.noWrap()&&e===p.length-1?(t.pause(),void 0):d.select(o(e),"prev")},t.isActive=function(t){return d.currentSlide===t},t.$watch("interval",r),t.$on("$destroy",s),t.play=function(){u||(u=!0,r())},t.pause=function(){t.noPause||(u=!1,s())},d.addSlide=function(e,n){e.$element=n,p.push(e),1===p.length||e.active?(d.select(p[p.length-1]),1==p.length&&t.play()):e.active=!1},d.removeSlide=function(t){angular.isDefined(t.index)&&p.sort(function(t,e){return+t.index>+e.index});var e=p.indexOf(t);p.splice(e,1),p.length>0&&t.active?e>=p.length?d.select(p[e-1]):d.select(p[e]):g>e&&g--,0===p.length&&(d.currentSlide=null)},t.$watch("noTransition",function(t){e.data(m,t)})}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(t,e){return e.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(t,e){return e.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(t,e,n,a){a.addSlide(t,e),t.$on("$destroy",function(){a.removeSlide(t)}),t.$watch("active",function(e){e&&a.select(t)})}}}).animation(".item",["$injector","$animate",function(t,e){function n(t,e,n){t.removeClass(e),n&&n()}var a="uib-noTransition",i="uib-slideDirection",o=null;return t.has("$animateCss")&&(o=t.get("$animateCss")),{beforeAddClass:function(t,r,s){if("active"==r&&t.parent()&&!t.parent().data(a)){var l=!1,c=t.data(i),u="next"==c?"left":"right",d=n.bind(this,t,u+" "+c,s);return t.addClass(c),o?o(t,{addClass:u}).start().done(d):e.addClass(t,u).then(function(){l||d(),s()}),function(){l=!0}}s()},beforeRemoveClass:function(t,r,s){if("active"===r&&t.parent()&&!t.parent().data(a)){var l=!1,c=t.data(i),u="next"==c?"left":"right",d=n.bind(this,t,u,s);return o?o(t,{addClass:u}).start().done(d):e.addClass(t,u).then(function(){l||d(),s()}),function(){l=!0}}s()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$log","$locale","orderByFilter",function(t,e,n){function a(t){var e=[],a=t.split("");return angular.forEach(r,function(n,i){var o=t.indexOf(i);if(o>-1){t=t.split(""),a[o]="("+n.regex+")",t[o]="$";for(var r=o+1,s=o+i.length;s>r;r++)a[r]="",t[r]="$";t=t.join(""),e.push({index:o,apply:n.apply})
}}),{regex:new RegExp("^"+a.join("")+"$"),map:n(e,"index")}}function i(t,e,n){return 1>n?!1:1===e&&n>28?29===n&&(t%4===0&&t%100!==0||t%400===0):3===e||5===e||8===e||10===e?31>n:!0}var o=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var r={yyyy:{regex:"\\d{4}",apply:function(t){this.year=+t}},yy:{regex:"\\d{2}",apply:function(t){this.year=+t+2e3}},y:{regex:"\\d{1,4}",apply:function(t){this.year=+t}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1}},M:{regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(t){this.hours=+t}},hh:{regex:"0[0-9]|1[0-2]",apply:function(t){this.hours=+t}},H:{regex:"1?[0-9]|2[0-3]",apply:function(t){this.hours=+t}},h:{regex:"[0-9]|1[0-2]",apply:function(t){this.hours=+t}},mm:{regex:"[0-5][0-9]",apply:function(t){this.minutes=+t}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(t){this.minutes=+t}},sss:{regex:"[0-9][0-9][0-9]",apply:function(t){this.milliseconds=+t}},ss:{regex:"[0-5][0-9]",apply:function(t){this.seconds=+t}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(t){this.seconds=+t}},a:{regex:e.DATETIME_FORMATS.AMPMS.join("|"),apply:function(t){12===this.hours&&(this.hours=0),"PM"===t&&(this.hours+=12)}}};this.parse=function(n,r,s){if(!angular.isString(n)||!r)return n;r=e.DATETIME_FORMATS[r]||r,r=r.replace(o,"\\$&"),this.parsers[r]||(this.parsers[r]=a(r));var l=this.parsers[r],c=l.regex,u=l.map,d=n.match(c);if(d&&d.length){var p,f;angular.isDate(s)&&!isNaN(s.getTime())?p={year:s.getFullYear(),month:s.getMonth(),date:s.getDate(),hours:s.getHours(),minutes:s.getMinutes(),seconds:s.getSeconds(),milliseconds:s.getMilliseconds()}:(s&&t.warn("dateparser:","baseDate is not a valid date"),p={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var m=1,h=d.length;h>m;m++){var g=u[m-1];g.apply&&g.apply.call(p,d[m])}return i(p.year,p.month,p.date)&&(f=new Date(p.year,p.month,p.date,p.hours,p.minutes,p.seconds,p.milliseconds||0)),f}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(t,e){function n(t,n){return t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n]}function a(t){return"static"===(n(t,"position")||"static")}var i=function(e){for(var n=t[0],i=e.offsetParent||n;i&&i!==n&&a(i);)i=i.offsetParent;return i||n};return{position:function(e){var n=this.offset(e),a={top:0,left:0},o=i(e[0]);o!=t[0]&&(a=this.offset(angular.element(o)),a.top+=o.clientTop-o.scrollTop,a.left+=o.clientLeft-o.scrollLeft);var r=e[0].getBoundingClientRect();return{width:r.width||e.prop("offsetWidth"),height:r.height||e.prop("offsetHeight"),top:n.top-a.top,left:n.left-a.left}},offset:function(n){var a=n[0].getBoundingClientRect();return{width:a.width||n.prop("offsetWidth"),height:a.height||n.prop("offsetHeight"),top:a.top+(e.pageYOffset||t[0].documentElement.scrollTop),left:a.left+(e.pageXOffset||t[0].documentElement.scrollLeft)}},positionElements:function(t,e,n,a){var i,o,r,s,l=n.split("-"),c=l[0],u=l[1]||"center";i=a?this.offset(t):this.position(t),o=e.prop("offsetWidth"),r=e.prop("offsetHeight");var d={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},p={center:function(){return i.top+i.height/2-r/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(c){case"right":s={top:p[u](),left:d[c]()};break;case"left":s={top:p[u](),left:i.left-o};break;case"bottom":s={top:p[c](),left:d[u]()};break;default:s={top:i.top-r,left:d[u]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig","$datepickerSuppressError",function(t,e,n,a,i,o,r,s){var l=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,i){l[n]=angular.isDefined(e[n])?6>i?a(e[n])(t.$parent):t.$parent.$eval(e[n]):r[n]}),angular.forEach(["minDate","maxDate"],function(a){e[a]?t.$parent.$watch(n(e[a]),function(t){l[a]=t?new Date(t):null,l.refreshView()}):l[a]=r[a]?new Date(r[a]):null}),angular.forEach(["minMode","maxMode"],function(a){e[a]?t.$parent.$watch(n(e[a]),function(n){l[a]=angular.isDefined(n)?n:e[a],t[a]=l[a],("minMode"==a&&l.modes.indexOf(t.datepickerMode)<l.modes.indexOf(l[a])||"maxMode"==a&&l.modes.indexOf(t.datepickerMode)>l.modes.indexOf(l[a]))&&(t.datepickerMode=l[a])}):(l[a]=r[a]||null,t[a]=l[a])}),t.datepickerMode=t.datepickerMode||r.datepickerMode,t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(e.initDate)?(this.activeDate=t.$parent.$eval(e.initDate)||new Date,t.$parent.$watch(e.initDate,function(t){t&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(l.activeDate=t,l.refreshView())})):this.activeDate=new Date,t.isActive=function(e){return 0===l.compare(e.date,l.activeDate)?(t.activeDateId=e.uid,!0):!1},this.init=function(t){c=t,c.$render=function(){l.render()}},this.render=function(){if(c.$viewValue){var t=new Date(c.$viewValue),e=!isNaN(t);e?this.activeDate=t:s||i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var t=c.$viewValue?new Date(c.$viewValue):null;c.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,e){var n=c.$viewValue?new Date(c.$viewValue):null;return{date:t,label:o(t,e),selected:n&&0===this.compare(t,n),disabled:this.isDisabled(t),current:0===this.compare(t,new Date),customClass:this.customClass(t)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||e.dateDisabled&&t.dateDisabled({date:n,mode:t.datepickerMode})},this.customClass=function(e){return t.customClass({date:e,mode:t.datepickerMode})},this.split=function(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n},this.fixTimeZone=function(t){var e=t.getHours();t.setHours(23===e?e+2:0)},t.select=function(e){if(t.datepickerMode===l.minMode){var n=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),c.$setViewValue(n),c.$render()}else l.activeDate=e,t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)-1]},t.move=function(t){var e=l.activeDate.getFullYear()+t*(l.step.years||0),n=l.activeDate.getMonth()+t*(l.step.months||0);l.activeDate.setFullYear(e,n,1),l.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===l.maxMode&&1===e||t.datepickerMode===l.minMode&&-1===e||(t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)+e])},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var u=function(){l.element[0].focus()};t.$on("datepicker.focus",u),t.keydown=function(e){var n=t.keys[e.which];if(n&&!e.shiftKey&&!e.altKey)if(e.preventDefault(),l.shortcutPropagation||e.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;t.select(l.activeDate),u()}else!e.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,e),l.refreshView()):(t.toggleMode("up"===n?1:-1),u())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:function(t,e){return e.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(t,e,n,a){var i=a[0],o=a[1];i.init(o)}}}).directive("daypicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(e,n,a,i){function o(t,e){return 1!==e||t%4!==0||t%100===0&&t%400!==0?l[e]:29}function r(t,e){for(var n,a=new Array(e),o=new Date(t),r=0;e>r;)n=new Date(o),i.fixTimeZone(n),a[r++]=n,o.setDate(o.getDate()+1);return a}function s(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}e.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),a=i.activeDate.getMonth(),o=new Date(n,a,1),l=i.startingDay-o.getDay(),c=l>0?7-l:-l,u=new Date(o);c>0&&u.setDate(-c+1);for(var d=r(u,42),p=0;42>p;p++)d[p]=angular.extend(i.createDateObject(d[p],i.formatDay),{secondary:d[p].getMonth()!==a,uid:e.uniqueId+"-"+p});e.labels=new Array(7);for(var f=0;7>f;f++)e.labels[f]={abbr:t(d[f].date,i.formatDayHeader),full:t(d[f].date,"EEEE")};if(e.title=t(i.activeDate,i.formatDayTitle),e.rows=i.split(d,7),e.showWeeks){e.weekNumbers=[];for(var m=(11-i.startingDay)%7,h=e.rows.length,g=0;h>g;g++)e.weekNumbers.push(s(e.rows[g][m].date))}},i.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},i.handleKeyDown=function(t){var e=i.activeDate.getDate();if("left"===t)e-=1;else if("up"===t)e-=7;else if("right"===t)e+=1;else if("down"===t)e+=7;else if("pageup"===t||"pagedown"===t){var n=i.activeDate.getMonth()+("pageup"===t?-1:1);i.activeDate.setMonth(n,1),e=Math.min(o(i.activeDate.getFullYear(),i.activeDate.getMonth()),e)}else"home"===t?e=1:"end"===t&&(e=o(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(e)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(e,n,a,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n,a=new Array(12),o=i.activeDate.getFullYear(),r=0;12>r;r++)n=new Date(o,r,1),i.fixTimeZone(n),a[r]=angular.extend(i.createDateObject(n,i.formatMonth),{uid:e.uniqueId+"-"+r});e.title=t(i.activeDate,i.formatMonthTitle),e.rows=i.split(a,3)},i.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth())-new Date(e.getFullYear(),e.getMonth())},i.handleKeyDown=function(t){var e=i.activeDate.getMonth();if("left"===t)e-=1;else if("up"===t)e-=3;else if("right"===t)e+=1;else if("down"===t)e+=3;else if("pageup"===t||"pagedown"===t){var n=i.activeDate.getFullYear()+("pageup"===t?-1:1);i.activeDate.setFullYear(n)}else"home"===t?e=0:"end"===t&&(e=11);i.activeDate.setMonth(e)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(t,e,n,a){function i(t){return parseInt((t-1)/o,10)*o+1}var o=a.yearRange;a.step={years:o},a.element=e,a._refreshView=function(){for(var e,n=new Array(o),r=0,s=i(a.activeDate.getFullYear());o>r;r++)e=new Date(s+r,0,1),a.fixTimeZone(e),n[r]=angular.extend(a.createDateObject(e,a.formatYear),{uid:t.uniqueId+"-"+r});t.title=[n[0].label,n[o-1].label].join(" - "),t.rows=a.split(n,5)},a.compare=function(t,e){return t.getFullYear()-e.getFullYear()},a.handleKeyDown=function(t){var e=a.activeDate.getFullYear();"left"===t?e-=1:"up"===t?e-=5:"right"===t?e+=1:"down"===t?e+=5:"pageup"===t||"pagedown"===t?e+=("pageup"===t?-1:1)*a.step.years:"home"===t?e=i(a.activeDate.getFullYear()):"end"===t&&(e=i(a.activeDate.getFullYear())+o-1),a.activeDate.setFullYear(e)},a.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).directive("datepickerPopup",["$compile","$parse","$document","$rootScope","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(t,e,n,a,i,o,r,s,l){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(c,u,d,p){function f(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function m(t){if(angular.isNumber(t)&&(t=new Date(t)),t){if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var e=r.parse(t,g,c.date);return isNaN(e)?void 0:e}return void 0}return null}function h(t,e){var n=t||e;if(!d.ngRequired&&!n)return!0;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var a=r.parse(n,g);return!isNaN(a)}return!1}return!0}var g,v=angular.isDefined(d.closeOnDateSelection)?c.$parent.$eval(d.closeOnDateSelection):s.closeOnDateSelection,b=angular.isDefined(d.datepickerAppendToBody)?c.$parent.$eval(d.datepickerAppendToBody):s.appendToBody,y=angular.isDefined(d.onOpenFocus)?c.$parent.$eval(d.onOpenFocus):s.onOpenFocus,$=angular.isDefined(d.datepickerPopupTemplateUrl)?d.datepickerPopupTemplateUrl:s.datepickerPopupTemplateUrl,w=angular.isDefined(d.datepickerTemplateUrl)?d.datepickerTemplateUrl:s.datepickerTemplateUrl,x={};c.showButtonBar=angular.isDefined(d.showButtonBar)?c.$parent.$eval(d.showButtonBar):s.showButtonBar,c.getText=function(t){return c[t+"Text"]||s[t+"Text"]},c.isDisabled=function(t){return"today"===t&&(t=new Date),c.watchData.minDate&&c.compare(t,x.minDate)<0||c.watchData.maxDate&&c.compare(t,x.maxDate)>0},c.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())};var k=!1;if(s.html5Types[d.type]?(g=s.html5Types[d.type],k=!0):(g=d.datepickerPopup||s.datepickerPopup,d.$observe("datepickerPopup",function(t){var e=t||s.datepickerPopup;if(e!==g&&(g=e,p.$modelValue=null,!g))throw new Error("datepickerPopup must have a date format specified.")})),!g)throw new Error("datepickerPopup must have a date format specified.");if(k&&d.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var C=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");C.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":$});var D=angular.element(C.children()[0]);if(D.attr("template-url",w),k&&"month"===d.type&&(D.attr("datepicker-mode",'"month"'),D.attr("min-mode","month")),d.datepickerOptions){var T=c.$parent.$eval(d.datepickerOptions);T&&T.initDate&&(c.initDate=T.initDate,D.attr("init-date","initDate"),delete T.initDate),angular.forEach(T,function(t,e){D.attr(f(e),t)})}c.watchData={},angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(t){if(d[t]){var n=e(d[t]);if(c.$parent.$watch(n,function(e){c.watchData[t]=e,("minDate"===t||"maxDate"===t)&&(x[t]=new Date(e))}),D.attr(f(t),"watchData."+t),"datepickerMode"===t){var a=n.assign;c.$watch("watchData."+t,function(t,e){angular.isFunction(a)&&t!==e&&a(c.$parent,t)})}}}),d.dateDisabled&&D.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),d.showWeeks&&D.attr("show-weeks",d.showWeeks),d.customClass&&D.attr("custom-class","customClass({ date: date, mode: mode })"),k?p.$formatters.push(function(t){return c.date=t,t}):(p.$$parserName="date",p.$validators.date=h,p.$parsers.unshift(m),p.$formatters.push(function(t){return c.date=t,p.$isEmpty(t)?t:o(t,g)})),c.dateSelection=function(t){angular.isDefined(t)&&(c.date=t);var e=c.date?o(c.date,g):null;u.val(e),p.$setViewValue(e),v&&(c.isOpen=!1,u[0].focus())},p.$viewChangeListeners.push(function(){c.date=r.parse(p.$viewValue,g,c.date)});var E=function(t){!c.isOpen||u[0].contains(t.target)||C[0].contains(t.target)||c.$apply(function(){c.isOpen=!1})},S=function(t){27===t.which&&c.isOpen?(t.preventDefault(),t.stopPropagation(),c.$apply(function(){c.isOpen=!1}),u[0].focus()):40!==t.which||c.isOpen||(t.preventDefault(),t.stopPropagation(),c.$apply(function(){c.isOpen=!0}))};u.bind("keydown",S),c.keydown=function(t){27===t.which&&(c.isOpen=!1,u[0].focus())},c.$watch("isOpen",function(t){t?(c.position=b?i.offset(u):i.position(u),c.position.top=c.position.top+u.prop("offsetHeight"),l(function(){y&&c.$broadcast("datepicker.focus"),n.bind("click",E)},0,!1)):n.unbind("click",E)}),c.select=function(t){if("today"===t){var e=new Date;angular.isDate(c.date)?(t=new Date(c.date),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate())):t=new Date(e.setHours(0,0,0,0))}c.dateSelection(t)},c.close=function(){c.isOpen=!1,u[0].focus()};var O=t(C)(c);C.remove(),b?n.find("body").append(O):u.after(O),c.$on("$destroy",function(){c.isOpen===!0&&(a.$$phase||c.$apply(function(){c.isOpen=!1})),O.remove(),u.unbind("keydown",S),n.unbind("click",E)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(t,e){var n=null;this.open=function(e){n||(t.bind("click",a),t.bind("keydown",i)),n&&n!==e&&(n.isOpen=!1),n=e},this.close=function(e){n===e&&(n=null,t.unbind("click",a),t.unbind("keydown",i))};var a=function(t){if(n&&(!t||"disabled"!==n.getAutoClose())){var a=n.getToggleElement();if(!(t&&a&&a[0].contains(t.target))){var i=n.getDropdownElement();t&&"outsideClick"===n.getAutoClose()&&i&&i[0].contains(t.target)||(n.isOpen=!1,e.$$phase||n.$apply())}}},i=function(t){27===t.which?(n.focusToggleElement(),a()):n.isKeynavEnabled()&&/(38|40)/.test(t.which)&&n.isOpen&&(t.preventDefault(),t.stopPropagation(),n.focusDropdownEntry(t.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function(t,e,n,a,i,o,r,s,l,c){var u,d,p=this,f=t.$new(),m=a.openClass,h=angular.noop,g=e.onToggle?n(e.onToggle):angular.noop,v=!1,b=!1,y=s.find("body");this.init=function(a){p.$element=a,e.isOpen&&(d=n(e.isOpen),h=d.assign,t.$watch(d,function(t){f.isOpen=!!t})),v=angular.isDefined(e.dropdownAppendToBody),b=angular.isDefined(e.keyboardNav),v&&p.dropdownMenu&&(y.append(p.dropdownMenu),y.addClass("dropdown"),a.on("$destroy",function(){p.dropdownMenu.remove()}))},this.toggle=function(t){return f.isOpen=arguments.length?!!t:!f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return p.toggleElement},f.getAutoClose=function(){return e.autoClose||"always"},f.getElement=function(){return p.$element},f.isKeynavEnabled=function(){return b},f.focusDropdownEntry=function(t){var e=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):angular.element(p.$element).find("ul").eq(0).find("a");switch(t){case 40:p.selectedOption=angular.isNumber(p.selectedOption)?p.selectedOption===e.length-1?p.selectedOption:p.selectedOption+1:0;break;case 38:p.selectedOption=angular.isNumber(p.selectedOption)?0===p.selectedOption?0:p.selectedOption-1:e.length-1}e[p.selectedOption].focus()},f.getDropdownElement=function(){return p.dropdownMenu},f.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},f.$watch("isOpen",function(e,n){if(v&&p.dropdownMenu){var a=r.positionElements(p.$element,p.dropdownMenu,"bottom-left",!0),s={top:a.top+"px",display:e?"block":"none"},d=p.dropdownMenu.hasClass("dropdown-menu-right");d?(s.left="auto",s.right=window.innerWidth-(a.left+p.$element.prop("offsetWidth"))+"px"):(s.left=a.left+"px",s.right="auto"),p.dropdownMenu.css(s)}var b=v?y:p.$element;if(o[e?"addClass":"removeClass"](b,m).then(function(){angular.isDefined(e)&&e!==n&&g(t,{open:!!e})}),e)p.dropdownMenuTemplateUrl&&c(p.dropdownMenuTemplateUrl).then(function(t){u=f.$new(),l(t.trim())(u,function(t){var e=t;p.dropdownMenu.replaceWith(e),p.dropdownMenu=e})}),f.focusToggleElement(),i.open(f);else{if(p.dropdownMenuTemplateUrl){u&&u.$destroy();var $=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith($),p.dropdownMenu=$}i.close(f),p.selectedOption=null}angular.isFunction(h)&&h(t,e)}),t.$on("$locationChangeSuccess",function(){"disabled"!==f.getAutoClose()&&(f.isOpen=!1)});var $=t.$on("$destroy",function(){f.$destroy()});f.$on("$destroy",$)}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(t,e,n,a){a.init(e),e.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(t,e,n,a){if(a){var i=n.templateUrl;i&&(a.dropdownMenuTemplateUrl=i),a.dropdownMenu||(a.dropdownMenu=e)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(t,e,n,a){e.bind("keydown",function(t){if(-1!==[38,40].indexOf(t.which)){t.preventDefault(),t.stopPropagation();var e=a.dropdownMenu.find("a");switch(t.which){case 40:a.selectedOption=angular.isNumber(a.selectedOption)?a.selectedOption===e.length-1?a.selectedOption:a.selectedOption+1:0;break;case 38:a.selectedOption=angular.isNumber(a.selectedOption)?0===a.selectedOption?0:a.selectedOption-1:e.length-1}e[a.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(t,e,n,a){if(a){e.addClass("dropdown-toggle"),a.toggleElement=e;var i=function(i){i.preventDefault(),e.hasClass("disabled")||n.disabled||t.$apply(function(){a.toggle()})};e.bind("click",i),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(a.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,n){t.push({key:e,value:n})},get:function(e){for(var n=0;n<t.length;n++)if(e==t[n].key)return t[n]},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var n=-1,a=0;a<t.length;a++)if(e==t[a].key){n=a;break}return t.splice(n,1)[0]},removeTop:function(){return t.splice(t.length-1,1)[0]},length:function(){return t.length}}}}}).factory("$$multiMap",function(){return{createNew:function(){var t={};return{entries:function(){return Object.keys(t).map(function(e){return{key:e,value:t[e]}})},get:function(e){return t[e]},hasKey:function(e){return!!t[e]},keys:function(){return Object.keys(t)},put:function(e,n){t[e]||(t[e]=[]),t[e].push(n)},remove:function(e,n){var a=t[e];if(a){var i=a.indexOf(n);-1!==i&&a.splice(i,1),a.length||delete t[e]}}}}}}).directive("modalBackdrop",["$animate","$injector","$modalStack",function(t,e,n){function a(e,a,o){o.modalInClass&&(i?i(a,{addClass:o.modalInClass}).start():t.addClass(a,o.modalInClass),e.$on(n.NOW_CLOSING_EVENT,function(e,n){var r=n();i?i(a,{removeClass:o.modalInClass}).start().then(r):t.removeClass(a,o.modalInClass).then(r)}))}var i=null;return e.has("$animateCss")&&(i=e.get("$animateCss")),{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(t,e){return t.addClass(e.backdropClass),a}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector",function(t,e,n,a){var i=null;return a.has("$animateCss")&&(i=a.get("$animateCss")),{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"template/modal/window.html"},link:function(a,o,r){o.addClass(r.windowClass||""),a.size=r.size,a.close=function(e){var n=t.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(n.key,"backdrop click"))},a.$isRendered=!0;var s=e.defer();r.$observe("modalRender",function(t){"true"==t&&s.resolve()}),s.promise.then(function(){var s=null;r.modalInClass&&(s=i?i(o,{addClass:r.modalInClass}).start():n.addClass(o,r.modalInClass),a.$on(t.NOW_CLOSING_EVENT,function(t,e){var a=e();i?i(o,{removeClass:r.modalInClass}).start().then(a):n.removeClass(o,r.modalInClass).then(a)})),e.when(s).then(function(){var t=o[0].querySelectorAll("[autofocus]");t.length?t[0].focus():o[0].focus()});var l=t.getTop();l&&t.modalRendered(l.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(t,e){e.modalAnimation&&t.addClass(e.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(t,e,n,a,i){i(t.$parent,function(t){e.empty(),e.append(t)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(t,e,n,a,i,o,r,s,l){function c(){for(var t=-1,e=y.keys(),n=0;n<e.length;n++)y.get(e[n]).value.backdrop&&(t=n);return t}function u(t,e){var a=n.find("body").eq(0),i=y.get(t).value;y.remove(t),p(i.modalDomEl,i.modalScope,function(){var e=i.openedClass||b;$.remove(e,t),a.toggleClass(e,$.hasKey(e))}),d(),e&&e.focus?e.focus():a.focus()}function d(){if(h&&-1==c()){var t=g;p(h,g,function(){t=null}),h=void 0,g=void 0}}function p(e,n,a){function i(){i.done||(i.done=!0,m?m(e,{event:"leave"}).start().then(function(){e.remove()}):t.leave(e),n.$destroy(),a&&a())}var r,s=null,l=function(){return r||(r=o.defer(),s=r.promise),function(){r.resolve()}};return n.$broadcast(w.NOW_CLOSING_EVENT,l),o.when(s).then(i)}function f(t,e,n){return!t.value.modalScope.$broadcast("modal.closing",e,n).defaultPrevented}var m=null;r.has("$animateCss")&&(m=r.get("$animateCss"));var h,g,v,b="modal-open",y=l.createNew(),$=s.createNew(),w={NOW_CLOSING_EVENT:"modal.stack.now-closing"},x=0,k="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return i.$watch(c,function(t){g&&(g.index=t)}),n.bind("keydown",function(t){if(t.isDefaultPrevented())return t;var e=y.top();if(e&&e.value.keyboard)switch(t.which){case 27:t.preventDefault(),i.$apply(function(){w.dismiss(e.key,"escape key press")});break;case 9:w.loadFocusElementList(e);var n=!1;t.shiftKey?w.isFocusInFirstItem(t)&&(n=w.focusLastFocusableElement()):w.isFocusInLastItem(t)&&(n=w.focusFirstFocusableElement()),n&&(t.preventDefault(),t.stopPropagation())}}),w.open=function(t,e){var o=n[0].activeElement,r=e.openedClass||b;y.add(t,{deferred:e.deferred,renderDeferred:e.renderDeferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard,openedClass:e.openedClass}),$.put(r,t);var s=n.find("body").eq(0),l=c();if(l>=0&&!h){g=i.$new(!0),g.index=l;var u=angular.element('<div modal-backdrop="modal-backdrop"></div>');u.attr("backdrop-class",e.backdropClass),e.animation&&u.attr("modal-animation","true"),h=a(u)(g),s.append(h)}var d=angular.element('<div modal-window="modal-window"></div>');d.attr({"template-url":e.windowTemplateUrl,"window-class":e.windowClass,size:e.size,index:y.length()-1,animate:"animate"}).html(e.content),e.animation&&d.attr("modal-animation","true");var p=a(d)(e.scope);y.top().value.modalDomEl=p,y.top().value.modalOpener=o,s.append(p),s.addClass(r),w.clearFocusListCache()},w.close=function(t,e){var n=y.get(t);return n&&f(n,e,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(e),u(t,n.value.modalOpener),!0):!n},w.dismiss=function(t,e){var n=y.get(t);return n&&f(n,e,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(e),u(t,n.value.modalOpener),!0):!n},w.dismissAll=function(t){for(var e=this.getTop();e&&this.dismiss(e.key,t);)e=this.getTop()},w.getTop=function(){return y.top()},w.modalRendered=function(t){var e=y.get(t);e&&e.value.renderDeferred.resolve()},w.focusFirstFocusableElement=function(){return v.length>0?(v[0].focus(),!0):!1},w.focusLastFocusableElement=function(){return v.length>0?(v[v.length-1].focus(),!0):!1},w.isFocusInFirstItem=function(t){return v.length>0?(t.target||t.srcElement)==v[0]:!1},w.isFocusInLastItem=function(t){return v.length>0?(t.target||t.srcElement)==v[v.length-1]:!1},w.clearFocusListCache=function(){v=[],x=0},w.loadFocusElementList=function(t){if((void 0===v||!v.length0)&&t){var e=t.value.modalDomEl;e&&e.length&&(v=e[0].querySelectorAll(k))}},w}]).provider("$modal",function(){var t={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(e,n,a,i,o,r){function s(t){return t.template?a.when(t.template):i(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl)}function l(t){var n=[];return angular.forEach(t,function(t){angular.isFunction(t)||angular.isArray(t)?n.push(a.when(e.invoke(t))):angular.isString(t)?n.push(a.when(e.get(t))):n.push(a.when(t))}),n}var c={},u=null;return c.getPromiseChain=function(){return u},c.open=function(e){var i=a.defer(),c=a.defer(),d=a.defer(),p={result:i.promise,opened:c.promise,rendered:d.promise,close:function(t){return r.close(p,t)},dismiss:function(t){return r.dismiss(p,t)}};if(e=angular.extend({},t.options,e),e.resolve=e.resolve||{},!e.template&&!e.templateUrl)throw new Error("One of template or templateUrl options is required.");var f,m=a.all([s(e)].concat(l(e.resolve)));return f=u=a.all([u]).then(function(){return m},function(){return m}).then(function(t){var a=(e.scope||n).$new();a.$close=p.close,a.$dismiss=p.dismiss,a.$on("$destroy",function(){a.$$uibDestructionScheduled||a.$dismiss("$uibUnscheduledDestruction")});var s,l={},u=1;e.controller&&(l.$scope=a,l.$modalInstance=p,angular.forEach(e.resolve,function(e,n){l[n]=t[u++]}),s=o(e.controller,l),e.controllerAs&&(e.bindToController&&angular.extend(s,a),a[e.controllerAs]=s)),r.open(p,{scope:a,deferred:i,renderDeferred:d,content:t[0],animation:e.animation,backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,size:e.size,openedClass:e.openedClass}),c.resolve(!0)},function(t){c.reject(t),i.reject(t)}).finally(function(){u===f&&(u=null)}),p},c}]};return t}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(t,e,n){var a=this,i={$setViewValue:angular.noop},o=e.numPages?n(e.numPages).assign:angular.noop;this.init=function(r,s){i=r,this.config=s,i.$render=function(){a.render()},e.itemsPerPage?t.$parent.$watch(n(e.itemsPerPage),function(e){a.itemsPerPage=parseInt(e,10),t.totalPages=a.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,t.$watch("totalItems",function(){t.totalPages=a.calculateTotalPages()}),t.$watch("totalPages",function(e){o(t.$parent,e),t.page>e?t.selectPage(e):i.$render()})},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(t.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.render=function(){t.page=parseInt(i.$viewValue,10)||1},t.selectPage=function(e,n){n&&n.preventDefault();var a=!t.ngDisabled||!n;a&&t.page!==e&&e>0&&e<=t.totalPages&&(n&&n.target&&n.target.blur(),i.$setViewValue(e),i.$render())},t.getText=function(e){return t[e+"Text"]||a.config[e+"Text"]},t.noPrevious=function(){return 1===t.page},t.noNext=function(){return t.page===t.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(t,e){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(t,e){return e.templateUrl||"template/pagination/pagination.html"
},replace:!0,link:function(n,a,i,o){function r(t,e,n){return{number:t,text:e,active:n}}function s(t,e){var n=[],a=1,i=e,o=angular.isDefined(u)&&e>u;o&&(d?(a=Math.max(t-Math.floor(u/2),1),i=a+u-1,i>e&&(i=e,a=i-u+1)):(a=(Math.ceil(t/u)-1)*u+1,i=Math.min(a+u-1,e)));for(var s=a;i>=s;s++){var l=r(s,s,s===t);n.push(l)}if(o&&!d){if(a>1){var c=r(a-1,"...",!1);n.unshift(c)}if(e>i){var p=r(i+1,"...",!1);n.push(p)}}return n}var l=o[0],c=o[1];if(c){var u=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):e.maxSize,d=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):e.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):e.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):e.directionLinks,l.init(c,e),i.maxSize&&n.$parent.$watch(t(i.maxSize),function(t){u=parseInt(t,10),l.render()});var p=l.render;l.render=function(){p(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(t){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(t,e){return e.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(e,n,a,i){var o=i[0],r=i[1];r&&(e.align=angular.isDefined(a.align)?e.$parent.$eval(a.align):t.align,o.init(r,t))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function t(t){var e=/[A-Z]/g,n="-";return t.replace(e,function(t,e){return(e?n:"")+t.toLowerCase()})}var e={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},a={};this.options=function(t){angular.extend(a,t)},this.setTriggers=function(t){angular.extend(n,t)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate","$rootScope","$parse",function(i,o,r,s,l,c,u,d){return function(i,p,f,m){function h(t){var e=(t||m.trigger||f).split(" "),a=e.map(function(t){return n[t]||t});return{show:e,hide:a}}m=angular.extend({},e,a,m);var g=t(i),v=c.startSymbol(),b=c.endSymbol(),y="<div "+g+'-popup title="'+v+"title"+b+'" '+(m.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+b+'" ')+'placement="'+v+"placement"+b+'" popup-class="'+v+"popupClass"+b+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(){var t=o(y);return function(e,n,a){function o(){I.isOpen?f():c()}function c(){(!P||e.$eval(a[p+"Enable"]))&&($(),I.popupDelay?S||(S=r(g,I.popupDelay,!1)):g())}function f(){v(),u.$$phase||u.$digest()}function g(){return S=null,E&&(r.cancel(E),E=null),(m.useContentExp?I.contentExp():I.content)?(b(),I.isOpen=!0,L&&L.assign(I.origScope,I.isOpen),u.$$phase||I.$apply(),D.css({display:"block"}),U(),void 0):angular.noop}function v(){I.isOpen=!1,L&&L.assign(I.origScope,I.isOpen),r.cancel(S),S=null,r.cancel(O),O=null,I.animation?E||(E=r(y,500)):y()}function b(){D&&y(),T=I.$new(),D=t(T,function(t){M?s.find("body").append(t):n.after(t)}),m.useContentExp&&(T.$watch("contentExp()",function(t){!t&&I.isOpen&&v()}),T.$watch(function(){F||(F=!0,T.$$postDigest(function(){F=!1,I.isOpen&&U()}))}))}function y(){E=null,D&&(D.remove(),D=null),T&&(T.$destroy(),T=null)}function $(){w(),x(),k()}function w(){I.popupClass=a[p+"Class"]}function x(){var t=a[p+"Placement"];I.placement=angular.isDefined(t)?t:m.placement}function k(){var t=a[p+"PopupDelay"],e=parseInt(t,10);I.popupDelay=isNaN(e)?m.popupDelay:e}function C(){var t=a[p+"Trigger"];N(),A=h(t),"none"!==A.show&&A.show.forEach(function(t,e){t===A.hide[e]?n[0].addEventListener(t,o):t&&(n[0].addEventListener(t,c),n[0].addEventListener(A.hide[e],f))})}var D,T,E,S,O,M=angular.isDefined(m.appendToBody)?m.appendToBody:!1,A=h(void 0),P=angular.isDefined(a[p+"Enable"]),I=e.$new(!0),F=!1,L=angular.isDefined(a[p+"IsOpen"])?d(a[p+"IsOpen"]):!1,U=function(){D&&(O||(O=r(function(){D.css({top:0,left:0,width:"auto",height:"auto"});var t=l.position(D),e=l.positionElements(n,D,I.placement,M);e.top+="px",e.left+="px",e.width=t.width+"px",e.height=t.height+"px",D.css(e),O=null},0,!1)))};I.origScope=e,I.isOpen=!1,I.contentExp=function(){return e.$eval(a[i])},m.useContentExp||a.$observe(i,function(t){I.content=t,!t&&I.isOpen?v():U()}),a.$observe("disabled",function(t){S&&t&&(r.cancel(S),S=null),t&&I.isOpen&&v()}),a.$observe(p+"Title",function(t){I.title=t,U()}),a.$observe(p+"Placement",function(){I.isOpen&&(x(),U())}),L&&e.$watch(L,function(t){t!==I.isOpen&&o()});var N=function(){A.show.forEach(function(t){n.unbind(t,c)}),A.hide.forEach(function(t){n.unbind(t,f)})};C();var V=e.$eval(a[p+"Animation"]);I.animation=angular.isDefined(V)?!!V:m.animation;var j=e.$eval(a[p+"AppendToBody"]);M=angular.isDefined(j)?j:M,M&&e.$on("$locationChangeSuccess",function(){I.isOpen&&v()}),e.$on("$destroy",function(){r.cancel(E),r.cancel(S),r.cancel(O),N(),y(),I=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(t,e,n,a){return{link:function(i,o,r){var s,l,c,u=i.$eval(r.tooltipTemplateTranscludeScope),d=0,p=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),c&&(t.leave(c).then(function(){l=null}),l=c,c=null)};i.$watch(e.parseAsResourceUrl(r.tooltipTemplateTransclude),function(e){var r=++d;e?(a(e,!0).then(function(a){if(r===d){var i=u.$new(),l=a,f=n(l)(i,function(e){p(),t.enter(e,o)});s=i,c=f,s.$emit("$includeContentLoaded",e)}},function(){r===d&&(p(),i.$emit("$includeContentError",e))}),i.$emit("$includeContentRequested",e)):p()}),i.$on("$destroy",p)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(t,e,n){t.placement&&e.addClass(t.placement),t.popupClass&&e.addClass(t.popupClass),t.animation()&&e.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(t){return t("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(t){return t("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(t,e,n){return e||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(t){return t("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html"}}).directive("popoverHtml",["$tooltip",function(t){return t("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(t){return t("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","progressConfig",function(t,e,n){var a=this,i=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.bars=[],t.max=angular.isDefined(t.max)?t.max:n.max,this.addBar=function(e,n){i||n.css({transition:"none"}),this.bars.push(e),e.max=t.max,e.$watch("value",function(){e.recalculatePercentage()}),e.recalculatePercentage=function(){e.percent=+(100*e.value/e.max).toFixed(2);var t=a.bars.reduce(function(t,e){return t+e.percent},0);t>100&&(e.percent-=t-100)},e.$on("$destroy",function(){n=null,a.removeBar(e)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1)},t.$watch("max",function(){a.bars.forEach(function(e){e.max=t.max,e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("progress",["$log","$progressSuppressWarning",function(t,e){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html",link:function(){e&&t.warn("progress is now deprecated. Use uib-progress instead")}}}]).directive("uibBar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(t,e,n,a){a.addBar(t,e)}}}).directive("bar",["$log","$progressSuppressWarning",function(t,e){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,a,i,o){e&&t.warn("bar is now deprecated. Use uib-bar instead"),o.addBar(n,a)}}}]).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(t,e,n,a){a.addBar(t,angular.element(e.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("RatingController",["$scope","$attrs","ratingConfig",function(t,e,n){var a={$setViewValue:angular.noop};this.init=function(i){a=i,a.$render=this.render,a.$formatters.push(function(t){return angular.isNumber(t)&&t<<0!==t&&(t=Math.round(t)),t}),this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):n.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):n.stateOff;var o=angular.isDefined(e.titles)?t.$parent.$eval(e.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var r=angular.isDefined(e.ratingStates)?t.$parent.$eval(e.ratingStates):new Array(angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max);t.range=this.buildTemplateObjects(r)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;n>e;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(e)},t[e]);return t},this.getTitle=function(t){return t>=this.titles.length?t+1:this.titles[t]},t.rate=function(e){!t.readonly&&e>=0&&e<=t.range.length&&(a.$setViewValue(a.$viewValue===e?0:e),a.$render())},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=a.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=a.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(t,e,n,a){var i=a[0],o=a[1];i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(t){var e=this,n=e.tabs=t.tabs=[];e.select=function(t){angular.forEach(n,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect(),t.selectCalled=!1)}),t.active=!0,t.selectCalled||(t.onSelect(),t.selectCalled=!0)},e.addTab=function(t){n.push(t),1===n.length&&t.active!==!1?t.active=!0:t.active?e.select(t):t.active=!1},e.removeTab=function(t){var i=n.indexOf(t);if(t.active&&n.length>1&&!a){var o=i==n.length-1?i-1:i+1;e.select(n[o])}n.splice(i,1)};var a;t.$on("$destroy",function(){a=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(t,e,n){t.vertical=angular.isDefined(n.vertical)?t.$parent.$eval(n.vertical):!1,t.justified=angular.isDefined(n.justified)?t.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse","$log",function(t,e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(n,a,i,o,r){n.$watch("active",function(t){t&&o.select(n)}),n.disabled=!1,i.disable&&n.$parent.$watch(t(i.disable),function(t){n.disabled=!!t}),i.disabled&&(e.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),n.$parent.$watch(t(i.disabled),function(t){n.disabled=!!t})),n.select=function(){n.disabled||(n.active=!0)},o.addTab(n),n.$on("$destroy",function(){o.removeTab(n)}),n.$transcludeFn=r}}}]).directive("tabHeadingTransclude",function(){return{restrict:"A",require:"^tab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}).directive("tabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||t.hasAttribute("x-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase()||"x-tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(e,n,a){var i=e.$eval(a.tabContentTransclude);i.$transcludeFn(i.$parent,function(e){angular.forEach(e,function(e){t(e)?i.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(t,e,n,a,i,o){function r(){var e=parseInt(t.hours,10),n=t.showMeridian?e>0&&13>e:e>=0&&24>e;return n?(t.showMeridian&&(12===e&&(e=0),t.meridian===g[1]&&(e+=12)),e):void 0}function s(){var e=parseInt(t.minutes,10);return e>=0&&60>e?e:void 0}function l(t){return angular.isDefined(t)&&t.toString().length<2?"0"+t:t.toString()}function c(t){u(),h.$setViewValue(new Date(m)),d(t)}function u(){h.$setValidity("time",!0),t.invalidHours=!1,t.invalidMinutes=!1}function d(e){var n=m.getHours(),a=m.getMinutes();t.showMeridian&&(n=0===n||12===n?12:n%12),t.hours="h"===e?n:l(n),"m"!==e&&(t.minutes=l(a)),t.meridian=m.getHours()<12?g[0]:g[1]}function p(t,e){var n=new Date(t.getTime()+6e4*e),a=new Date(t);return a.setHours(n.getHours(),n.getMinutes()),a}function f(t){m=p(m,t),c()}var m=new Date,h={$setViewValue:angular.noop},g=angular.isDefined(e.meridians)?t.$parent.$eval(e.meridians):o.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,a){h=n,h.$render=this.render,h.$formatters.unshift(function(t){return t?new Date(t):null});var i=a.eq(0),r=a.eq(1),s=angular.isDefined(e.mousewheel)?t.$parent.$eval(e.mousewheel):o.mousewheel;s&&this.setupMousewheelEvents(i,r);var l=angular.isDefined(e.arrowkeys)?t.$parent.$eval(e.arrowkeys):o.arrowkeys;l&&this.setupArrowkeyEvents(i,r),t.readonlyInput=angular.isDefined(e.readonlyInput)?t.$parent.$eval(e.readonlyInput):o.readonlyInput,this.setupInputEvents(i,r)};var v=o.hourStep;e.hourStep&&t.$parent.$watch(n(e.hourStep),function(t){v=parseInt(t,10)});var b=o.minuteStep;e.minuteStep&&t.$parent.$watch(n(e.minuteStep),function(t){b=parseInt(t,10)});var y;t.$parent.$watch(n(e.min),function(t){var e=new Date(t);y=isNaN(e)?void 0:e});var $;t.$parent.$watch(n(e.max),function(t){var e=new Date(t);$=isNaN(e)?void 0:e}),t.noIncrementHours=function(){var t=p(m,60*v);return t>$||m>t&&y>t},t.noDecrementHours=function(){var t=p(m,60*-v);return y>t||t>m&&t>$},t.noIncrementMinutes=function(){var t=p(m,b);return t>$||m>t&&y>t},t.noDecrementMinutes=function(){var t=p(m,-b);return y>t||t>m&&t>$},t.noToggleMeridian=function(){return m.getHours()<13?p(m,720)>$:p(m,-720)<y},t.showMeridian=o.showMeridian,e.showMeridian&&t.$parent.$watch(n(e.showMeridian),function(e){if(t.showMeridian=!!e,h.$error.time){var n=r(),a=s();angular.isDefined(n)&&angular.isDefined(a)&&(m.setHours(n),c())}else d()}),this.setupMousewheelEvents=function(e,n){var a=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};e.bind("mousewheel wheel",function(e){t.$apply(a(e)?t.incrementHours():t.decrementHours()),e.preventDefault()}),n.bind("mousewheel wheel",function(e){t.$apply(a(e)?t.incrementMinutes():t.decrementMinutes()),e.preventDefault()})},this.setupArrowkeyEvents=function(e,n){e.bind("keydown",function(e){38===e.which?(e.preventDefault(),t.incrementHours(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementHours(),t.$apply())}),n.bind("keydown",function(e){38===e.which?(e.preventDefault(),t.incrementMinutes(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementMinutes(),t.$apply())})},this.setupInputEvents=function(e,n){if(t.readonlyInput)return t.updateHours=angular.noop,t.updateMinutes=angular.noop,void 0;var a=function(e,n){h.$setViewValue(null),h.$setValidity("time",!1),angular.isDefined(e)&&(t.invalidHours=e),angular.isDefined(n)&&(t.invalidMinutes=n)};t.updateHours=function(){var t=r(),e=s();angular.isDefined(t)&&angular.isDefined(e)?(m.setHours(t),y>m||m>$?a(!0):c("h")):a(!0)},e.bind("blur",function(){!t.invalidHours&&t.hours<10&&t.$apply(function(){t.hours=l(t.hours)})}),t.updateMinutes=function(){var t=s(),e=r();angular.isDefined(t)&&angular.isDefined(e)?(m.setMinutes(t),y>m||m>$?a(void 0,!0):c("m")):a(void 0,!0)},n.bind("blur",function(){!t.invalidMinutes&&t.minutes<10&&t.$apply(function(){t.minutes=l(t.minutes)})})},this.render=function(){var e=h.$viewValue;isNaN(e)?(h.$setValidity("time",!1),a.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(m=e),y>m||m>$?(h.$setValidity("time",!1),t.invalidHours=!0,t.invalidMinutes=!0):u(),d())},t.showSpinners=angular.isDefined(e.showSpinners)?t.$parent.$eval(e.showSpinners):o.showSpinners,t.incrementHours=function(){t.noIncrementHours()||f(60*v)},t.decrementHours=function(){t.noDecrementHours()||f(60*-v)},t.incrementMinutes=function(){t.noIncrementMinutes()||f(b)},t.decrementMinutes=function(){t.noDecrementMinutes()||f(-b)},t.toggleMeridian=function(){t.noToggleMeridian()||f(720*(m.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(t,e){return e.templateUrl||"template/timepicker/timepicker.html"},link:function(t,e,n,a){var i=a[0],o=a[1];o&&i.init(o,e.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(t,e,n,a,i){function o(t){for(var e in t)if(void 0!==s.style[e])return t[e]}i||a.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var r=function(a,i,o){o=o||{};var s=t.defer(),l=r[o.animation?"animationEndEventName":"transitionEndEventName"],c=function(){n.$apply(function(){a.unbind(l,c),s.resolve(a)})};return l&&a.bind(l,c),e(function(){angular.isString(i)?a.addClass(i):angular.isFunction(i)?i(a):angular.isObject(i)&&a.css(i),l||s.resolve(a)}),s.promise.cancel=function(){l&&a.unbind(l,c),s.reject("Transition cancelled")},s.promise},s=document.createElement("trans"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},c={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return r.transitionEndEventName=o(l),r.animationEndEventName=o(c),r}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("typeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var a=n.match(e);if(!a)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:a[3],source:t(a[4]),viewMapper:t(a[2]||a[1]),modelMapper:t(a[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(t,e,n,a,i,o,r,s,l){var c=[9,13,27,38,40],u=200;return{require:["ngModel","^?ngModelOptions"],link:function(d,p,f,m){function h(){U.moveInProgress||(U.moveInProgress=!0,U.$digest()),q&&a.cancel(q),q=a(function(){U.matches.length&&g(),U.moveInProgress=!1,U.$digest()},u)}function g(){U.position=O?s.offset(p):s.position(p),U.position.top+=p.prop("offsetHeight")}var v=m[0],b=m[1],y=d.$eval(f.typeaheadMinLength);y||0===y||(y=1);var $,w,x=d.$eval(f.typeaheadWaitMs)||0,k=d.$eval(f.typeaheadEditable)!==!1,C=e(f.typeaheadLoading).assign||angular.noop,D=e(f.typeaheadOnSelect),T=angular.isDefined(f.typeaheadSelectOnBlur)?d.$eval(f.typeaheadSelectOnBlur):!1,E=e(f.typeaheadNoResults).assign||angular.noop,S=f.typeaheadInputFormatter?e(f.typeaheadInputFormatter):void 0,O=f.typeaheadAppendToBody?d.$eval(f.typeaheadAppendToBody):!1,M=d.$eval(f.typeaheadFocusFirst)!==!1,A=f.typeaheadSelectOnExact?d.$eval(f.typeaheadSelectOnExact):!1,P=e(f.ngModel),I=e(f.ngModel+"($$$p)"),F=function(t,e){return angular.isFunction(P(d))&&b&&b.$options&&b.$options.getterSetter?I(t,{$$$p:e}):P.assign(t,e)},L=l.parse(f.typeahead),U=d.$new(),N=d.$on("$destroy",function(){U.$destroy()});U.$on("$destroy",N);var V="typeahead-"+U.$id+"-"+Math.floor(1e4*Math.random());p.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":V});var j=angular.element("<div typeahead-popup></div>");j.attr({id:V,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(f.typeaheadTemplateUrl)&&j.attr("template-url",f.typeaheadTemplateUrl),angular.isDefined(f.typeaheadPopupTemplateUrl)&&j.attr("popup-template-url",f.typeaheadPopupTemplateUrl);var H=function(){U.matches=[],U.activeIdx=-1,p.attr("aria-expanded",!1)},z=function(t){return V+"-option-"+t};U.$watch("activeIdx",function(t){0>t?p.removeAttr("aria-activedescendant"):p.attr("aria-activedescendant",z(t))});var _=function(t,e){return U.matches.length>e&&t?t.toUpperCase()===U.matches[e].label.toUpperCase():!1},R=function(t){var e={$viewValue:t};C(d,!0),E(d,!1),n.when(L.source(d,e)).then(function(n){var a=t===v.$viewValue;if(a&&$)if(n&&n.length>0){U.activeIdx=M?0:-1,E(d,!1),U.matches.length=0;for(var i=0;i<n.length;i++)e[L.itemName]=n[i],U.matches.push({id:z(i),label:L.viewMapper(U,e),model:n[i]});U.query=t,g(),p.attr("aria-expanded",!0),A&&1===U.matches.length&&_(t,0)&&U.select(0)}else H(),E(d,!0);a&&C(d,!1)},function(){H(),C(d,!1),E(d,!0)})};O&&(angular.element(o).bind("resize",h),i.find("body").bind("scroll",h));var q;U.moveInProgress=!1,H(),U.query=void 0;var B,W=function(t){B=a(function(){R(t)},x)},G=function(){B&&a.cancel(B)};v.$parsers.unshift(function(t){return $=!0,0===y||t&&t.length>=y?x>0?(G(),W(t)):R(t):(C(d,!1),G(),H()),k?t:t?(v.$setValidity("editable",!1),void 0):(v.$setValidity("editable",!0),null)}),v.$formatters.push(function(t){var e,n,a={};return k||v.$setValidity("editable",!0),S?(a.$model=t,S(d,a)):(a[L.itemName]=t,e=L.viewMapper(d,a),a[L.itemName]=void 0,n=L.viewMapper(d,a),e!==n?e:t)}),U.select=function(t){var e,n,i={};w=!0,i[L.itemName]=n=U.matches[t].model,e=L.modelMapper(d,i),F(d,e),v.$setValidity("editable",!0),v.$setValidity("parse",!0),D(d,{$item:n,$model:e,$label:L.viewMapper(d,i)}),H(),U.$eval(f.typeaheadFocusOnSelect)!==!1&&a(function(){p[0].focus()},0,!1)},p.bind("keydown",function(t){if(0!==U.matches.length&&-1!==c.indexOf(t.which)){if(-1===U.activeIdx&&(9===t.which||13===t.which))return H(),U.$digest(),void 0;t.preventDefault(),40===t.which?(U.activeIdx=(U.activeIdx+1)%U.matches.length,U.$digest()):38===t.which?(U.activeIdx=(U.activeIdx>0?U.activeIdx:U.matches.length)-1,U.$digest()):13===t.which||9===t.which?U.$apply(function(){U.select(U.activeIdx)}):27===t.which&&(t.stopPropagation(),H(),U.$digest())}}),p.bind("blur",function(){T&&U.matches.length&&-1!==U.activeIdx&&!w&&(w=!0,U.$apply(function(){U.select(U.activeIdx)})),$=!1,w=!1});var Y=function(t){p[0]!==t.target&&3!==t.which&&0!==U.matches.length&&(H(),r.$$phase||U.$digest())};i.bind("click",Y),d.$on("$destroy",function(){i.unbind("click",Y),O&&K.remove(),j.remove()});var K=t(j)(U);O?i.find("body").append(K):p.after(K)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(t,e){return e.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(t,e,n){t.templateUrl=n.templateUrl,t.isOpen=function(){return t.matches.length>0},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(t,e,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(a,i,o){var r=n(o.templateUrl)(a.$parent)||"template/typeahead/typeahead-match.html";t(r).then(function(t){e(t.trim())(a,function(t){i.replaceWith(t)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log",function(t,e,n){function a(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(t){return/<.*>/g.test(t)}var o;return o=e.has("$sanitize"),function(e,r){return!o&&i(e)&&n.warn("Unsafe use of typeahead please use ngSanitize"),e=r?(""+e).replace(new RegExp(a(r),"gi"),"<strong>$&</strong>"):e,o||(e=t.trustAsHtml(e)),e}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')
}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(t){t.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(t){t.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n	ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" ></i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | typeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),"undefined"==typeof TEMPLATES)var TEMPLATES={};TEMPLATES["alignment.html"]='<div class="btn-group alignment">\n  <button type="button" class="btn btn-default btn-sm btn-alignment dropdown-toggle"\n    data-toggle="dropdown" data-wysihtml5-command-value="left">\n    <i class="fa fa-align-left"></i>\n    <span class="caret"></span>\n  </button>\n  <div class="dropdown-menu" role="menu">\n    <div class="btn-group">\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="left" tabindex="-1">\n        <i class="fa fa-align-left"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="center" tabindex="-1">\n        <i class="fa fa-align-center"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="right" tabindex="-1">\n        <i class="fa fa-align-right"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="justify" tabindex="-1">\n        <i class="fa fa-align-justify"></i>\n      </button>\n    </div>\n  </div>\n</div>\n',function(t,e,n,a){"use strict";function i(e,n){function i(){l.append(a["alignment.html"]),c=l.find(".btn-alignment"),r(n.align),l.find(".dropdown-menu button").on("click",function(){var e=t(this).data("wysihtml5-command-value");r(e),l.trigger("alignmentChanged",e)})}function o(){return c.data("wysihtml5-command-value")}function r(t){var e=l.find(".btn-alignment .fa"),n=e.attr("class").match(/fa-align-[a-z]+/g),a="fa-align-"+t;n&&n.length>0&&e.removeClass(n[0]),e.addClass(a),c.data("wysihtml5-command-value",t)}function s(){r(u)}var l=t(e),c=null,u="left";return n=t.extend({},{align:u},n),i(),{getAlignment:o,setAlignment:r,reset:s}}var o="alignment";t.fn.alignment=function(e){return this.each(function(){t.data(this,"plugin_"+o)||t.data(this,"plugin_"+o,new i(this,e))})}}(jQuery,window,document,TEMPLATES);var WIDGET_SETTINGS_UI_CONFIG={families:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;",sizes:"8px 9px 10px 11px 12px 14px 18px 24px 30px 36px 48px 60px 72px 96px"};!function(){"use strict";angular.module("risevision.widget.common.url-field",["risevision.common.i18n","risevision.widget.common.tooltip"]).directive("urlField",["$templateCache","$log",function(t,e){return{restrict:"E",require:"?ngModel",scope:{url:"=",hideLabel:"@",fileType:"@"},template:t.get("_angular/url-field/url-field.html"),link:function(t,n,a,i){function o(t,e){var n,a=t.toLowerCase();switch(e){case"image":n=[".jpg",".jpeg",".png",".bmp",".svg",".gif"];break;case"video":n=[".webm",".mp4",".ogv",".ogg"];break;default:n=[]}for(var i=0,o=n.length;o>i;i++)if(-1!==a.indexOf(n[i]))return!0;return!1}function r(){if("undefined"!==t.fileType&&"undefined"!==t.url&&"image"===t.fileType){var e=new Image;e.onload=function(){t.valid=!0,t.$apply()},e.onerror=function(){t.valid=!1,t.invalidType=t.fileType,t.$apply()},e.src=t.url}}function s(e){var n,a;return n=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,-1===e.indexOf("://")&&(e="http://"+e),a=n.test(e),a&&"undefined"!=typeof t.fileType?(a=o(e,t.fileType),a||(t.invalidType=t.fileType)):t.invalidType="url",a&&r(),a}t.doValidation=!0,t.forcedValid=!1,t.valid=!0,t.invalidType="url",t.allowInitEmpty="undefined"!=typeof a.initEmpty,t.blur=function(){t.$emit("urlFieldBlur")},t.$watch("url",function(e){"undefined"!=typeof e&&null!==e&&(""!==e&&t.allowInitEmpty&&(t.allowInitEmpty=!1),t.doValidation&&!t.allowInitEmpty&&(t.valid=s(t.url)))}),t.$watch("valid",function(t){i&&(e.info("Calling $setValidity() on parent controller"),i.$setValidity("valid",t))}),t.$watch("doValidation",function(e){"undefined"!=typeof t.url&&(e?(t.forcedValid=!1,t.allowInitEmpty||(t.valid=s(t.url))):(t.forcedValid=!0,t.valid=!0))})}}}])}(),function(t){try{t=angular.module("risevision.widget.common.url-field")}catch(e){t=angular.module("risevision.widget.common.url-field",[])}t.run(["$templateCache",function(t){"use strict";t.put("_angular/url-field/url-field.html",'<div class="form-group" >\n  <label ng-if="!hideLabel">{{ "url.label" | translate }}</label>\n  <div>\n    <input name="url" type="text" ng-model="url" ng-blur="blur()" class="form-control" placeholder="http://">\n  </div>\n  <p ng-if="!valid && invalidType === \'url\'" class="text-danger">{{ "url.errors.url" | translate }}</p>\n  <p ng-if="!valid && invalidType === \'image\'" class="text-danger">{{ "url.errors.image" | translate }}</p>\n  <p ng-if="!valid && invalidType === \'video\'" class="text-danger">{{ "url.errors.video" | translate }}</p>\n  <div class="checkbox" ng-show="forcedValid || !valid">\n    <label>\n      <input name="validate-url" ng-click="doValidation = !doValidation" type="checkbox"\n             value="validate-url"> {{"url.validate.label" | translate}}\n    </label>\n  </div>\n</div>\n')}])}(),function(){"use strict";angular.module("risevision.widget.common.font-setting",["angularLoad","ui.tinymce","risevision.common.i18n","risevision.widget.common.url-field"]).directive("fontSetting",["$templateCache","$log","$window","googleFontLoader",function(t,e,n,a){return{restrict:"AE",scope:{fontData:"=",previewText:"@",verticalAlign:"@"},template:t.get("_angular/font-setting/font-setting.html"),transclude:!1,link:function(t,e){function i(){t.tinymceOptions={font_formats:"Use Custom Font=custom;"+WIDGET_SETTINGS_UI_CONFIG.families+t.googleFontList,fontsize_formats:"Custom "+(""!==t.fontData.customSize?t.fontData.customSize+" ":"")+WIDGET_SETTINGS_UI_CONFIG.sizes,menubar:!1,plugins:"textcolor colorpicker",skin_url:"//s3.amazonaws.com/rise-common/styles/tinymce/rise",statusbar:!1,toolbar:"fontselect fontsizeselect | alignleft aligncenter alignright alignjustify"+(t.verticalAlign?" aligntop alignmiddle alignbottom":"")+" | forecolor backcolor | bold italic underline",setup:function(e){t.verticalAlign&&p(e),e.on("init",function(){o(e),v=!1}),e.on("ExecCommand",function(t){r(e,t)})},init_instance_callback:function(t){var e=t.formatter.apply,n=t.formatter.remove;t.formatter.apply=function(n,a,i){var o={command:n,value:a.value};e(n,a,i),t.fire("ExecCommand",o)},t.formatter.remove=function(e,a,i){var o={command:e,value:a&&a.value?a.value:null};n(e,a,i),t.fire("ExecCommand",o)}}}}function o(e){if(t.fontData){switch("custom"===t.fontData.font.type&&t.fontData.font.url?e.execCommand("FontName",!1,"custom"):e.execCommand("FontName",!1,t.fontData.font.family),e.execCommand("FontSize",!1,t.fontData.size),t.fontData.align){case"left":e.execCommand("JustifyLeft",!1);break;case"center":e.execCommand("JustifyCenter",!1);break;case"right":e.execCommand("JustifyRight",!1);break;case"justify":e.execCommand("JustifyFull",!1)}t.verticalAlign&&e.execCommand("mceToggleVertical",!1,t.fontData.verticalAlign),m.find(".mce-colorbutton[aria-label='Text color'] span").css("background-color",t.fontData.forecolor),m.find(".mce-colorbutton[aria-label='Background color'] span").css("background-color",t.fontData.backcolor),t.fontData.bold&&s(m.find(".mce-btn[aria-label='Bold']")),t.fontData.italic&&s(m.find(".mce-btn[aria-label='Italic']")),t.fontData.underline&&s(m.find(".mce-btn[aria-label='Underline']"))}}function r(e,n){switch(n.command){case"FontName":if(v)return;if("custom"===n.value)return h.modal("show"),void 0;t.fontData.font.family=n.value,t.fontData.font.type=c(n.value);break;case"FontSize":if(v)return;if("Custom"===n.value)return g.modal("show"),void 0;t.fontData.size=n.value;break;case"JustifyLeft":t.fontData.align="left";break;case"JustifyCenter":t.fontData.align="center";break;case"JustifyRight":t.fontData.align="right";break;case"JustifyFull":t.fontData.align="justify";break;case"mceToggleVertical":n.value?(f(n.value),t.fontData.verticalAlign!==n.value&&f(t.fontData.verticalAlign)):f(t.defaultFont.verticalAlign),t.fontData.verticalAlign=n.value?n.value:t.defaultFont.verticalAlign;break;case"forecolor":t.fontData.forecolor=n.value?n.value:t.defaultFont.forecolor;break;case"hilitecolor":t.fontData.backcolor=n.value?n.value:t.defaultFont.backcolor;break;case"mceToggleFormat":"bold"===n.value?(t.fontData.bold=!t.fontData.bold,s(m.find(".mce-btn[aria-label='Bold']"))):"italic"===n.value?(t.fontData.italic=!t.fontData.italic,s(m.find(".mce-btn[aria-label='Italic']"))):"underline"===n.value&&(t.fontData.underline=!t.fontData.underline,s(m.find(".mce-btn[aria-label='Underline']")))}l(t.fontData)}function s(t){t.toggleClass("mce-active")}function l(e){var n=m.find(".text-container"),a=m.find(".text");t.previewText&&e&&(a.css("fontFamily",e.font.family),a.css("fontSize",e.size),a.css("fontWeight",e.bold?"bold":"normal"),a.css("fontStyle",e.italic?"italic":"normal"),a.css("textDecoration",e.underline?"underline":"none"),a.css("color",e.forecolor),a.css("backgroundColor",e.backcolor),n.css("textAlign",e.align))}function c(e){return-1!==WIDGET_SETTINGS_UI_CONFIG.families.indexOf(e)?"standard":-1!==t.googleFontList.indexOf(e)?"google":"custom"}function u(){var e=null;return t.fontData.font.url?(e=decodeURI(t.fontData.font.url.trim()),e.split("/").pop().split(".")[0]):null}function d(e){var n=null,a=$.trim(t.fontData.font.url),i="font-family: "+e+"; src: url('"+a+"');";n=document.styleSheets[0],null!==n&&n.addRule("@font-face",i)}function p(t){t.addButton("aligntop",{image:"//s3.amazonaws.com/Rise-Images/Icons/align-top.svg",tooltip:"Align Top",onclick:function(){t.execCommand("mceToggleVertical",!1,"top")}}),t.addButton("alignmiddle",{image:"//s3.amazonaws.com/Rise-Images/Icons/align-vertical-middle.svg",tooltip:"Align Middle",onclick:function(){t.execCommand("mceToggleVertical",!1,"middle")}}),t.addButton("alignbottom",{image:"//s3.amazonaws.com/Rise-Images/Icons/align-bottom.svg",tooltip:"Align Bottom",onclick:function(){t.execCommand("mceToggleVertical",!1,"bottom")}}),t.addCommand("mceToggleVertical",function(){})}function f(t){switch(t){case"top":s(m.find(".mce-btn[aria-label='Align Top']"));break;case"middle":s(m.find(".mce-btn[aria-label='Align Middle']"));break;case"bottom":s(m.find(".mce-btn[aria-label='Align Bottom']"))}}var m=$(e),h=m.find(".custom-font"),g=m.find(".custom-font-size"),v=!0;t.googleFontList="",t.defaultFont={font:{family:"verdana,geneva,sans-serif",type:"standard",url:""},size:"24px",customSize:"",align:"left",verticalAlign:"middle",bold:!1,italic:!1,underline:!1,forecolor:"black",backcolor:"transparent"},a.getFonts().then(function(e){t.googleFontList=e}),t.customFontSize=null,t.applyCustomFont=function(){var e=u();null!==e&&(d(e),t.fontData.font.family=e,t.fontData.font.type="custom",l(t.fontData)),h.modal("hide")},t.applyCustomFontSize=function(){g.modal("hide"),null!==t.customFontSize&&t.customFontSize>=8&&t.customFontSize+"px"!==t.fontData.size&&(t.fontData.size=t.customFontSize+"px",-1!==WIDGET_SETTINGS_UI_CONFIG.sizes.indexOf(t.fontData.size)||t.fontData.customSize===t.fontData.size?n.tinymce.activeEditor.execCommand("FontSize",!1,t.fontData.size):(t.fontData.customSize=t.customFontSize+"px",t.tinymceOptions.fontsize_formats="Custom "+(""!==t.fontData.customSize?t.fontData.customSize+" ":"")+WIDGET_SETTINGS_UI_CONFIG.sizes)),t.customFontSize=null},t.defaults=function(t){if(t)for(var e=1,n=arguments.length;n>e;e++){var a=arguments[e];for(var i in a)void 0===t[i]&&(t[i]=a[i])}return t};var b=t.$watchGroup(["fontData","googleFontList"],function(e){var n=null,a=e[0],o=e[1];a&&o&&(t.defaults(a,t.defaultFont),t.fontData.font.url&&(n=u(),null!==n&&d(n)),l(a),i(),b(),t.previewText&&t.$watch("fontData",l,!0))});t.$watch("tinymceOptions.fontsize_formats",function(e){"undefined"==typeof e||v||t.$broadcast("$tinymce:refresh")})}}}])}(),function(){"use strict";angular.module("risevision.widget.common.font-setting").factory("googleFontLoader",["$http","angularLoad",function(t,e){var n="https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBXxVK_IOV7LNQMuVVo_l7ZvN53ejN86zY",a="//fonts.googleapis.com/css?family=",i=["Buda","Coda Caption","Open Sans Condensed","UnifrakturCook","Molle"],o=",sans-serif;",r={};return r.getFonts=function(){return t.get(n,{cache:!0}).then(function(t){var n="",r="",s=!1;if(t.data&&t.data.items)for(var l=0;l<t.data.items.length;l++)n=t.data.items[l].family,-1===i.indexOf(n)&&(e.loadCSS(a+n).then(function(){}),/\s/.test(n)&&(s=!0),r+=s?n+"='"+n+"'"+o:n+"="+n+o);return r})},r}])}(),function(t){try{t=angular.module("risevision.widget.common.font-setting")}catch(e){t=angular.module("risevision.widget.common.font-setting",[])}t.run(["$templateCache",function(t){"use strict";t.put("_angular/font-setting/font-setting.html",'<div class="font-setting">\n  <div class="row">\n    <div class="col-md-12">\n      <div ng-class="{\'form-group\': !previewText}">\n        <textarea ui-tinymce="tinymceOptions" ng-model="tinymceModel" ng-if="tinymceOptions"></textarea>\n      </div>\n    </div>\n  </div>\n  <div class="row" ng-if="previewText">\n    <div class="col-md-12">\n      <div class="text-container form-group">\n        <span class="text">{{previewText}}</span>\n      </div>\n    </div>\n  </div>\n\n  <!-- Custom Font -->\n  <div class="custom-font modal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="false">\n    <div class="modal-dialog">\n      <div class="modal-content">\n\n        <div class="modal-header">\n          <button type="button" class="close" data-dismiss="modal">\n            <i class="fa fa-times half-top"></i>\n          </button>\n          <h2 class="modal-title">{{"font-setting.custom-font" | translate}}</h2>\n        </div>\n\n        <form role="form" name="customFontForm">\n          <div class="modal-body">\n            <url-field url="fontData.font.url" ng-model="customFont" init-empty></url-field>\n          </div>\n\n          <div class="modal-footer">\n            <button type="button" class="select btn btn-primary btn-fixed-width" ng-click="applyCustomFont()" ng-disabled="customFontForm.$invalid">\n              <span>{{"common.select" | translate}}</span>\n              <i class="fa fa-white fa-check icon-right"></i>\n            </button>\n            <button type="button" class="cancel btn btn-default btn-fixed-width" data-dismiss="modal">\n              <span>{{"common.cancel" | translate}}</span>\n              <i class="fa fa-white fa-times icon-right"></i>\n            </button>\n          </div>\n        </form>\n\n      </div>\n    </div>\n  </div>\n\n  <!-- Custom Font Size -->\n  <div class="custom-font-size modal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="false">\n    <div class="modal-dialog">\n      <div class="modal-content">\n\n        <div class="modal-header">\n          <button type="button" class="close" data-dismiss="modal">\n            <i class="fa fa-times half-top"></i>\n          </button>\n          <h2 class="modal-title">{{"font-setting.custom-font-size" | translate}}</h2>\n        </div>\n\n        <form role="form" name="customFontSizeForm">\n          <div class="modal-body">\n            <div class="row">\n              <div class="col-md-3">\n                <div class="input-group">\n                  <input type="number" ng-model="customFontSize" class="form-control" />\n                  <span class="input-group-addon">{{\'common.units.pixels\' | translate}}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class="modal-footer">\n            <button type="button" class="select btn btn-primary btn-fixed-width" ng-click="applyCustomFontSize()" ng-disabled="customFontSizeForm.$invalid">\n              <span>{{"common.select" | translate}}</span>\n              <i class="fa fa-white fa-check icon-right"></i>\n            </button>\n            <button type="button" class="cancel btn btn-default btn-fixed-width" data-dismiss="modal">\n              <span>{{"common.cancel" | translate}}</span>\n              <i class="fa fa-white fa-times icon-right"></i>\n            </button>\n          </div>\n        </form>\n\n      </div>\n    </div>\n  </div>\n</div>\n')}])}(),angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["$rootScope","$compile","$timeout","$window","$sce","uiTinymceConfig",function(t,e,n,a,i,o){o=o||{};var r=0,s="ui-tinymce";return o.baseUrl&&(tinymce.baseURL=o.baseUrl),{require:["ngModel","^?form"],link:function(l,c,u,d){function p(t){t?(f(),h&&h.getBody().setAttribute("contenteditable",!1)):(f(),h&&!h.settings.readonly&&h.getBody().setAttribute("contenteditable",!0))}function f(){h||(h=tinymce.get(u.id))}if(a.tinymce){var m,h,g=d[0],v=d[1]||null,b={},y=function(e){var n=e.getContent({format:b.format}).trim();n=i.trustAsHtml(n),g.$setViewValue(n),t.$$phase||l.$apply()};u.$set("id",s+"-"+r++),m={},angular.extend(m,l.$eval(u.uiTinymce));var $={setup:function(t){t.on("init",function(){g.$render(),g.$setPristine(),v&&v.$setPristine()}),t.on("ExecCommand",function(){t.save(),y(t)}),t.on("change NodeChange",function(){t.save(),y(t)}),t.on("blur",function(){c[0].blur()}),t.on("ObjectResized",function(){t.save(),y(t)}),t.on("remove",function(){c.remove()}),m.setup&&m.setup(t,{updateView:y})},format:m.format||"html",selector:"#"+u.id};angular.extend(b,o,m,$),n(function(){b.baseURL&&(tinymce.baseURL=b.baseURL),tinymce.init(b),p(l.$eval(u.ngDisabled))}),g.$formatters.unshift(function(t){return t?i.trustAsHtml(t):""}),g.$parsers.unshift(function(t){return t?i.getTrustedHtml(t):""}),g.$render=function(){f();var t=g.$viewValue?i.getTrustedHtml(g.$viewValue):"";h&&h.getDoc()&&(h.setContent(t),h.fire("change"))},u.$observe("disabled",p),l.$on("$tinymce:refresh",function(t,n){var a=u.id;if(angular.isUndefined(n)||n===a){var i=c.parent(),o=c.clone();o.removeAttr("id"),o.removeAttr("style"),o.removeAttr("aria-hidden"),tinymce.execCommand("mceRemoveEditor",!1,a),i.append(e(o)(l))}}),l.$on("$destroy",function(){f(),h&&(h.remove(),h=null)
})}}}}]),function(){"use strict";angular.module("risevision.widget.common.widget-button-toolbar",["risevision.common.i18n"]).directive("widgetButtonToolbar",["$templateCache",function(t){return{restrict:"E",scope:{save:"&",cancel:"&",disableSave:"&"},template:t.get("_angular/widget-button-toolbar/widget-button-toolbar.html")}}])}(),function(t){try{t=angular.module("risevision.widget.common.widget-button-toolbar")}catch(e){t=angular.module("risevision.widget.common.widget-button-toolbar",[])}t.run(["$templateCache",function(t){"use strict";t.put("_angular/widget-button-toolbar/widget-button-toolbar.html",'<div class="pull-right">\n  <button id="save" class="btn btn-primary btn-fixed-width" type="button" ng-click="save()" ng-disabled="disableSave()">\n    <span>{{"common.save" | translate}}</span>\n    <i class="fa fa-white fa-check icon-right"></i>\n  </button>\n  <button id="cancel" class="btn btn-default btn-fixed-width" type="button" ng-click="cancel()">\n    <span>{{"common.cancel" | translate}}</span>\n    <i class="fa fa-white fa-times icon-right"></i>\n  </button>\n</div>\n')}])}(),function(){"use strict";angular.module("risevision.widget.common.tooltip",["ui.bootstrap"]).directive("rvTooltip",[function(){return{restrict:"A",link:function(t,e){e.addClass("fa"),e.addClass("fa-question-circle"),e.addClass("fa-lg")}}}])}(),"undefined"!=typeof angular&&angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json");var config={};angular.module("risevision.widget.timedate.settings",["risevision.common.i18n","risevision.widget.common","risevision.widget.common.widget-button-toolbar","risevision.widget.common.tooltip","risevision.widget.common.font-setting"]),angular.module("risevision.widget.common",[]),angular.module("risevision.widget.common").controller("settingsController",["$scope","settingsSaver","settingsGetter","settingsCloser",function(t,e,n,a){t.settings={params:{},additionalParams:{}},t.alerts=[],t.getAdditionalParam=function(e,n){var a=t.settings.additionalParams[e];return angular.isUndefined(a)?n:a},t.setAdditionalParam=function(e,n){t.settings.additionalParams[e]=n},t.loadAdditionalParams=function(){n.getAdditionalParams().then(function(e){t.settings.additionalParams=e,t.$broadcast("loadAdditionalParams",e)},function(t){alert(t)})},t.setAdditionalParams=function(e,n){t.settings.additionalParams[e]=n},t.saveSettings=function(){t.alerts=[],t.$broadcast("collectAdditionalParams"),e.saveSettings(t.settings).then(function(){},function(e){t.alerts=e.alerts})},t.closeSettings=function(){a.closeSettings().then(function(){},function(e){t.alerts=e.alerts})},t.settings.params=n.getParams(),t.loadAdditionalParams()}]).directive("scrollOnAlerts",function(){return{restrict:"A",scope:!1,link:function(t,e){t.$watchCollection("alerts",function(t,n){t.length>0&&0===n.length&&$("body").animate({scrollTop:e.offset().top},"fast")})}}}),angular.module("risevision.widget.common").constant("STORAGE_FILE_URL_BASE","storage.googleapis.com/risemedialibrary-").constant("STORAGE_FOLDER_URL_BASE","googleapis.com/storage/").factory("commonSettings",["$log","STORAGE_FILE_URL_BASE","STORAGE_FOLDER_URL_BASE",function(t,e,n){var a={getStorageUrlData:function(t){function a(t){return-1!==t.indexOf(e)?"file":-1!==t.indexOf(n)?"folder":null}function i(t){var e=t.split("risemedialibrary-");return e[1].slice(0,e[1].indexOf("/"))}var o,r,s,l,c={};if("file"===a(t))o=t.split(e)[1],o=decodeURIComponent(o.slice(o.indexOf("/")+1)),r=o.split("/"),c.companyId=i(t),c.fileName=r.pop(),c.folder=r.length>0?r.join("/"):"",""!==c.folder&&(c.folder+="/");else if("folder"===a(t)){s=t.split("?");for(var u=0;u<s.length;u++)if(l=s[u].split("="),"prefix"===l[0]&&"undefined"!=typeof l[1]&&""!==l[1]){c.companyId=i(t),c.folder=decodeURIComponent(l[1]),c.fileName="";break}}return c}};return a}]),angular.module("risevision.widget.common").factory("gadgetsApi",["$window",function(t){return t.gadgets}]),angular.module("risevision.widget.common").factory("googleFontLoader",["$http","angularLoad",function(t,e){function n(){for(var t="",n="",a="",o=[],r=!1,s=",sans-serif;",l="//fonts.googleapis.com/css?family=",c=["Buda","Coda Caption","Open Sans Condensed","UnifrakturCook","Molle"],u=0;u<i.length;u++)t=i[u],-1===c.indexOf(t)&&(a=l+t,e.loadCSS(a),o.push(a),/\s/.test(t)&&(r=!0),n+=r?t+"='"+t+"'"+s:t+"="+t+s);return{fonts:n,urls:o}}var a={},i=[];return a.getGoogleFonts=function(){return 0===i.length?t.get("https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBXxVK_IOV7LNQMuVVo_l7ZvN53ejN86zY&sort=alpha",{cache:!0}).then(function(t){if(t.data&&t.data.items){for(var e=0,a=t.data.items.length;a>e;e++)i.push(t.data.items[e].family);return n()}}):n()},a.getFontsUsed=function(t){var e=[];return angular.forEach(i,function(n){-1!==t.indexOf(n)&&e.push(n)}),e},a}]),angular.module("risevision.widget.common").service("i18nLoader",["$window","$q",function(t,e){var n=e.defer();t.i18n.init({fallbackLng:"en",resGetPath:"locales/__ns_____lng__.json"},function(){n.resolve(t.i18n)}),this.get=function(){return n.promise}}]),angular.module("risevision.widget.common").factory("imageValidator",["$q",function(t){var e={isImage:function(e){var n=t.defer(),a=new Image;return a.onload=function(){n.resolve(!0)},a.onerror=function(){n.resolve(!1)},a.src=e,n.promise}};return e}]),angular.module("risevision.widget.common").service("settingsSaver",["$q","$log","gadgetsApi","settingsParser",function(t,e,n,a){function i(t){var e=angular.copy(t);return delete e.params.id,delete e.params.companyId,delete e.params.rsW,delete e.params.rsH,e}this.saveSettings=function(o,r){var s=t.defer(),l=[],c="";o=i(o),r&&(l=r(o)),l.length>0&&(e.debug("Validation failed.",l),s.reject({alerts:l})),o.params.hasOwnProperty("layoutURL")&&(c+=o.params.layoutURL+"?",delete o.params.layoutURL),c+=a.encodeParams(o.params);var u=a.encodeAdditionalParams(o.additionalParams);return n.rpc.call("","rscmd_saveSettings",function(t){e.debug("encoded settings",JSON.stringify(t)),e.debug("Settings saved. ",o),s.resolve(t)},{params:c,additionalParams:u}),s.promise}}]).service("settingsGetter",["$q","gadgetsApi","$log","settingsParser","$window","defaultSettings",function(t,e,n,a,i,o){this.getAdditionalParams=function(){var i=t.defer(),r=o.additionalParams||{};return e.rpc.call("","rscmd_getAdditionalParams",function(t){t=t?a.parseAdditionalParams(t):{},n.debug("getAdditionalParams returns ",t),i.resolve($.extend(!0,r,t))}),i.promise},this.getParams=function(){var t=o.params||{};return angular.extend(t,a.parseParams(i.location.search))}}]).service("settingsParser",[function(){function t(t){return 0===t.indexOf("up_")?t.slice(3):null}this.parseAdditionalParams=function(t){return t?JSON.parse(t):{}},this.encodeAdditionalParams=function(t){return JSON.stringify(t)},this.encodeParams=function(t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){var a;a="object"==typeof t[n]?JSON.stringify(t[n]):t[n],e.push("up_"+encodeURIComponent(n)+"="+encodeURIComponent(a))}return e.join("&")},this.parseParams=function(e){"?"===e[0]&&(e=e.slice(1));for(var n={},a=e.split("&"),i=0;i<a.length;i++){var o=a[i].split("="),r=t(decodeURIComponent(o[0]));if(r)try{n[r]=JSON.parse(decodeURIComponent(o[1]))}catch(s){n[r]=decodeURIComponent(o[1])}}return n}}]).service("settingsCloser",["$q","$log","gadgetsApi",function(t,e,n){this.closeSettings=function(){var e=t.defer();return n.rpc.call("","rscmd_closeSettings",function(){e.resolve(!0)}),e.promise}}]).value("defaultSettings",{}),function(t){"use strict";t.module("risevision.widget.common.visualization",[]).factory("visualizationApi",["$q","$window",function(t,e){var n,a=t.defer(),i={get:function(){return n||(n=a.promise,e.google.visualization?a.resolve(e.google.visualization):e.google.setOnLoadCallback(function(){a.resolve(e.google.visualization)})),n}};return i}])}(angular),angular.module("risevision.widget.timedate.settings").controller("timedateSettingsController",["$scope","$log",function(t){t.currentDate=moment(),t.previewText="",t.getFormattedDate=function(e){return t.currentDate.format(e)},t.updatePreviewText=function(){moment.locale(t.settings.additionalParams.language);var e="";t.currentDate=t.settings.additionalParams.useTimezone?moment.tz(t.currentDate,t.settings.additionalParams.timezone):moment(),t.settings.additionalParams.showTime&&(e=t.currentDate.format(t.settings.additionalParams.timeFormat)),t.settings.additionalParams.showDate&&(e+=t.settings.additionalParams.showTime?" ":"",e+=t.currentDate.format(t.settings.additionalParams.dateFormat)),t.previewText=e},t.$watch("settings.additionalParams.showTime",function(e){"undefined"!=typeof e&&t.updatePreviewText()}),t.$watch("settings.additionalParams.timeFormat",function(e){"undefined"!=typeof e&&t.updatePreviewText()}),t.$watch("settings.additionalParams.showDate",function(e){"undefined"!=typeof e&&t.updatePreviewText()}),t.$watch("settings.additionalParams.dateFormat",function(e){"undefined"!=typeof e&&t.updatePreviewText()}),t.$watch("settings.additionalParams.useTimezone",function(e){"undefined"==typeof e||e||(t.settings.additionalParams.timezone="",t.updatePreviewText())}),t.$watch("settings.additionalParams.timezone",function(e){"undefined"!=typeof e&&t.updatePreviewText()}),t.$watch("settings.additionalParams.language",function(e){"undefined"!=typeof e&&t.updatePreviewText()})}]).value("defaultSettings",{params:{},additionalParams:{showTime:!0,timeFormat:"h:mm A",showDate:!0,dateFormat:"MMMM DD, YYYY",useTimezone:!1,timezone:"",fontStyle:{},language:"en"}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3NldHRpbmdzLm1pbi5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwicnVuIiwiJHRyYW5zbGF0ZSIsImtleSIsInN0b3JhZ2VLZXkiLCJzdG9yYWdlIiwiZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlIiwicHJlZmVycmVkIiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJpc1N0cmluZyIsInVzZSIsInB1dCIsImdldCIsInByb3ZpZGVyIiwiJFNUT1JBR0VfS0VZIiwiJHByZWZlcnJlZExhbmd1YWdlIiwiJGxhbmd1YWdlS2V5QWxpYXNlcyIsIiRmYWxsYmFja0xhbmd1YWdlIiwiJGZhbGxiYWNrV2FzU3RyaW5nIiwiJHVzZXMiLCIkbmV4dExhbmciLCIkc3RvcmFnZUZhY3RvcnkiLCIkc3RvcmFnZVByZWZpeCIsIiRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSIsIiRpbnRlcnBvbGF0aW9uRmFjdG9yeSIsIiRsb2FkZXJGYWN0b3J5IiwiJGxvYWRlck9wdGlvbnMiLCIkbm90Rm91bmRJbmRpY2F0b3JMZWZ0IiwiJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQiLCJsb2FkZXJDYWNoZSIsIiR0cmFuc2xhdGlvblRhYmxlIiwiJGF2YWlsYWJsZUxhbmd1YWdlS2V5cyIsIiRzdG9yYWdlS2V5IiwiJGludGVycG9sYXRvckZhY3RvcmllcyIsIiRpbnRlcnBvbGF0aW9uU2FuaXRpemF0aW9uU3RyYXRlZ3kiLCIkY2xvYWtDbGFzc05hbWUiLCIkcG9zdENvbXBpbGluZ0VuYWJsZWQiLCJORVNURURfT0JKRUNUX0RFTElNSVRFUiIsInZlcnNpb24iLCJnZXRGaXJzdEJyb3dzZXJMYW5ndWFnZSIsImkiLCJsYW5ndWFnZSIsIm5hdiIsIndpbmRvdyIsIm5hdmlnYXRvciIsImJyb3dzZXJMYW5ndWFnZVByb3BlcnR5S2V5cyIsImlzQXJyYXkiLCJsYW5ndWFnZXMiLCJsZW5ndGgiLCJkaXNwbGF5TmFtZSIsImdldExvY2FsZSIsInNwbGl0Iiwiam9pbiIsImluZGV4T2YiLCJhcnJheSIsInNlYXJjaEVsZW1lbnQiLCJsZW4iLCJ0cmltIiwidGhpcyIsInJlcGxhY2UiLCJuZWdvdGlhdGVMb2NhbGUiLCJhdmFpbCIsImxvY2FsZSIsImxvd2VyY2FzZSIsIm4iLCJwdXNoIiwiYWxpYXMiLCJsYW5nS2V5QWxpYXMiLCJoYXNXaWxkY2FyZEtleSIsImhhc0V4YWN0S2V5IiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwic2xpY2UiLCJwYXJ0cyIsInRyYW5zbGF0aW9ucyIsImxhbmdLZXkiLCJ0cmFuc2xhdGlvblRhYmxlIiwiaXNPYmplY3QiLCJleHRlbmQiLCJmbGF0T2JqZWN0IiwiY2xvYWtDbGFzc05hbWUiLCJuYW1lIiwiZGF0YSIsInBhdGgiLCJyZXN1bHQiLCJwcmV2S2V5Iiwia2V5V2l0aFBhdGgiLCJrZXlXaXRoU2hvcnRQYXRoIiwidmFsIiwiY29uY2F0IiwiYWRkSW50ZXJwb2xhdGlvbiIsImZhY3RvcnkiLCJ1c2VNZXNzYWdlRm9ybWF0SW50ZXJwb2xhdGlvbiIsInVzZUludGVycG9sYXRpb24iLCJ1c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kiLCJ2YWx1ZSIsInNldHVwUHJlZmVycmVkTGFuZ3VhZ2UiLCJ0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yIiwiaW5kaWNhdG9yIiwidHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnQiLCJ0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yUmlnaHQiLCJmYWxsYmFja0xhbmd1YWdlIiwiZmFsbGJhY2tTdGFjayIsIkVycm9yIiwidXNlVXJsTG9hZGVyIiwidXJsIiwib3B0aW9ucyIsInVzZUxvYWRlciIsInVzZVN0YXRpY0ZpbGVzTG9hZGVyIiwibG9hZGVyRmFjdG9yeSIsInVzZUxvY2FsU3RvcmFnZSIsInVzZVN0b3JhZ2UiLCJ1c2VDb29raWVTdG9yYWdlIiwic3RvcmFnZUZhY3RvcnkiLCJzdG9yYWdlUHJlZml4IiwicHJlZml4IiwidXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZyIsInVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIiLCJ1c2VQb3N0Q29tcGlsaW5nIiwiZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2UiLCJmbiIsImlzRnVuY3Rpb24iLCJyZWdpc3RlckF2YWlsYWJsZUxhbmd1YWdlS2V5cyIsImxhbmd1YWdlS2V5cyIsImFsaWFzZXMiLCJ1c2VMb2FkZXJDYWNoZSIsImNhY2hlIiwidW5kZWZpbmVkIiwiJGdldCIsIiRsb2ciLCIkaW5qZWN0b3IiLCIkcm9vdFNjb3BlIiwiJHEiLCJTdG9yYWdlIiwiZmFsbGJhY2tJbmRleCIsInN0YXJ0RmFsbGJhY2tJdGVyYXRpb24iLCJkZWZhdWx0SW50ZXJwb2xhdG9yIiwicGVuZGluZ0xvYWRlciIsImludGVycG9sYXRvckhhc2hNYXAiLCJsYW5nUHJvbWlzZXMiLCJ0cmFuc2xhdGlvbklkIiwiaW50ZXJwb2xhdGVQYXJhbXMiLCJpbnRlcnBvbGF0aW9uSWQiLCJ0cmFuc2xhdGVBbGwiLCJ0cmFuc2xhdGlvbklkcyIsInJlc3VsdHMiLCJwcm9taXNlcyIsInRyYW5zbGF0ZSIsImRlZmVycmVkIiwiZGVmZXIiLCJyZWdhcmRsZXNzIiwicmVzb2x2ZSIsInRoZW4iLCJwcm9taXNlIiwiYyIsImFsbCIsImFwcGx5IiwicHJvbWlzZVRvV2FpdEZvciIsImluZGV4IiwiZGV0ZXJtaW5lVHJhbnNsYXRpb24iLCJyZWplY3QiLCJhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyIsInVzZUxhbmd1YWdlIiwiJGVtaXQiLCJzZXRMb2NhbGUiLCJmb3JFYWNoIiwiaW50ZXJwb2xhdG9yIiwiaWQiLCJsb2FkQXN5bmMiLCJsb2FkZXJPcHRpb25zIiwiJGh0dHAiLCJ0YWJsZSIsImludGVycG9sYXRvckZhY3RvcnkiLCJnZXRJbnRlcnBvbGF0aW9uSWRlbnRpZmllciIsImdldFRyYW5zbGF0aW9uVGFibGUiLCJnZXRGYWxsYmFja1RyYW5zbGF0aW9uIiwiSW50ZXJwb2xhdG9yIiwiaW50ZXJwb2xhdGUiLCJnZXRGYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudCIsInRyYW5zbGF0ZUJ5SGFuZGxlciIsInJlc3VsdFN0cmluZyIsInJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlIiwiZmFsbGJhY2tMYW5ndWFnZUluZGV4IiwicmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50IiwiZmFsbGJhY2tUcmFuc2xhdGlvbiIsImZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50IiwidHJhbnNsYXRpb24iLCJzdWJzdHIiLCJtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24iLCJfdHJhbnNsYXRpb25JZCIsImRldGVybWluZVRyYW5zbGF0aW9uSW5zdGFudCIsInVzZUZhbGxiYWNrTGFuZ3VhZ2UiLCJsYW5nS2V5UG9zaXRpb24iLCJwcm9wb3NlZExhbmd1YWdlIiwiYWxpYXNlZEtleSIsImlzUG9zdENvbXBpbGluZ0VuYWJsZWQiLCJyZWZyZXNoIiwidGFibGVzIiwibG9hZGluZ0tleXMiLCJ0YWJsZURhdGEiLCJpbnN0YW50IiwiaXNVbmRlZmluZWQiLCJwb3NzaWJsZUxhbmdLZXlzIiwiaiIsImQiLCJwb3NzaWJsZUxhbmdLZXkiLCJ2ZXJzaW9uSW5mbyIsImVxdWFscyIsInByb2Nlc3NBc3luY1Jlc3VsdCIsIiRpbnRlcnBvbGF0ZSIsIiRsb2NhbGUiLCIkdHJhbnNsYXRlSW50ZXJwb2xhdG9yIiwiJGlkZW50aWZpZXIiLCIkc2FuaXRpemVWYWx1ZVN0cmF0ZWd5Iiwic2FuaXRpemVWYWx1ZVN0cmF0ZWdpZXMiLCJlc2NhcGVkIiwicGFyYW1zIiwiZWxlbWVudCIsInRleHQiLCJodG1sIiwic2FuaXRpemVQYXJhbXMiLCJzdHJpbmciLCJjb25zdGFudCIsImRpcmVjdGl2ZSIsIiRjb21waWxlIiwiJHBhcnNlIiwicmVzdHJpY3QiLCJzY29wZSIsImNvbXBpbGUiLCJ0RWxlbWVudCIsInRBdHRyIiwidHJhbnNsYXRlVmFsdWVzRXhpc3QiLCJ0cmFuc2xhdGVWYWx1ZXMiLCJ0cmFuc2xhdGVJbnRlcnBvbGF0aW9uIiwidHJhbnNsYXRlVmFsdWVFeGlzdCIsIm91dGVySFRNTCIsIm1hdGNoIiwiaW50ZXJwb2xhdGVSZWdFeHAiLCJzdGFydFN5bWJvbCIsImVuZFN5bWJvbCIsIndhdGNoZXJSZWdFeHAiLCJpRWxlbWVudCIsImlBdHRyIiwicHJlVGV4dCIsInBvc3RUZXh0Iiwib2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbiIsImlzRGVmaW5lZCIsImludGVycG9sYXRlTWF0Y2hlcyIsIiRwYXJlbnQiLCJ3YXRjaGVyTWF0Y2hlcyIsIiR3YXRjaCIsIm5ld1ZhbHVlIiwidXBkYXRlVHJhbnNsYXRpb25zIiwib2JzZXJ2ZUF0dHJpYnV0ZVRyYW5zbGF0aW9uIiwidHJhbnNsYXRlQXR0ciIsIiRvYnNlcnZlIiwiZGVmYXVsdFRleHQiLCJvYnNlcnZlVmFsdWVBdHRyaWJ1dGUiLCJhdHRyTmFtZSIsImF0dHJpYnV0ZU5hbWUiLCJhdHRyIiwidXBkYXRlVHJhbnNsYXRpb24iLCJhcHBseVRyYW5zbGF0aW9uIiwic3VjY2Vzc2Z1bCIsImdsb2JhbGx5RW5hYmxlZCIsImxvY2FsbHlEZWZpbmVkIiwidHJhbnNsYXRlQ29tcGlsZSIsImxvY2FsbHlFbmFibGVkIiwiY29udGVudHMiLCIkYXR0ciIsInVuYmluZCIsIiRvbiIsImFwcGx5Q2xvYWsiLCJhZGRDbGFzcyIsInJlbW92ZUNsb2FrIiwicmVtb3ZlQ2xhc3MiLCJyZW1vdmVMaXN0ZW5lciIsInRyYW5zbGF0ZUNsb2FrIiwiZmlsdGVyIiwidHJhbnNsYXRlRmlsdGVyIiwiaW50ZXJwb2xhdGlvbiIsIiRzdGF0ZWZ1bCIsIiRTYW5pdGl6ZVByb3ZpZGVyIiwiJCRzYW5pdGl6ZVVyaSIsImJ1ZiIsImh0bWxQYXJzZXIiLCJodG1sU2FuaXRpemVXcml0ZXIiLCJ1cmkiLCJpc0ltYWdlIiwidGVzdCIsInNhbml0aXplVGV4dCIsImNoYXJzIiwid3JpdGVyIiwibm9vcCIsIm1ha2VNYXAiLCJzdHIiLCJvYmoiLCJpdGVtcyIsImhhbmRsZXIiLCJwYXJzZVN0YXJ0VGFnIiwidGFnIiwidGFnTmFtZSIsInJlc3QiLCJ1bmFyeSIsImJsb2NrRWxlbWVudHMiLCJzdGFjayIsImxhc3QiLCJpbmxpbmVFbGVtZW50cyIsInBhcnNlRW5kVGFnIiwib3B0aW9uYWxFbmRUYWdFbGVtZW50cyIsInZvaWRFbGVtZW50cyIsImF0dHJzIiwiQVRUUl9SRUdFWFAiLCJkb3VibGVRdW90ZWRWYWx1ZSIsInNpbmdsZVF1b3RlZFZhbHVlIiwidW5xdW90ZWRWYWx1ZSIsImRlY29kZUVudGl0aWVzIiwic3RhcnQiLCJwb3MiLCJlbmQiLCJzcGVjaWFsRWxlbWVudHMiLCJSZWdFeHAiLCJDT01NRU5UX1JFR0VYUCIsIkNEQVRBX1JFR0VYUCIsImxhc3RJbmRleE9mIiwiY29tbWVudCIsInN1YnN0cmluZyIsIkRPQ1RZUEVfUkVHRVhQIiwiQkVHSU5HX0VORF9UQUdFX1JFR0VYUCIsIkVORF9UQUdfUkVHRVhQIiwiQkVHSU5fVEFHX1JFR0VYUCIsIlNUQVJUX1RBR19SRUdFWFAiLCIkc2FuaXRpemVNaW5FcnIiLCJoaWRkZW5QcmUiLCJpbm5lckhUTUwiLCJ0ZXh0Q29udGVudCIsImVuY29kZUVudGl0aWVzIiwiU1VSUk9HQVRFX1BBSVJfUkVHRVhQIiwiaGkiLCJjaGFyQ29kZUF0IiwibG93IiwiTk9OX0FMUEhBTlVNRVJJQ19SRUdFWFAiLCJ1cmlWYWxpZGF0b3IiLCJpZ25vcmUiLCJvdXQiLCJiaW5kIiwidmFsaWRFbGVtZW50cyIsImxrZXkiLCJ2YWxpZEF0dHJzIiwidXJpQXR0cnMiLCIkJG1pbkVyciIsIm9wdGlvbmFsRW5kVGFnQmxvY2tFbGVtZW50cyIsIm9wdGlvbmFsRW5kVGFnSW5saW5lRWxlbWVudHMiLCJzdmdFbGVtZW50cyIsImh0bWxBdHRycyIsInN2Z0F0dHJzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiJHNhbml0aXplIiwiTElOS1lfVVJMX1JFR0VYUCIsIk1BSUxUT19SRUdFWFAiLCJ0YXJnZXQiLCJhZGRUZXh0IiwiYWRkTGluayIsInJhdyIsInNlcnZpY2UiLCIkZG9jdW1lbnQiLCIkdGltZW91dCIsImxvYWRlciIsIm9ubG9hZCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsImUiLCJyZWFkeVN0YXRlIiwib25lcnJvciIsImxvYWRTY3JpcHQiLCJzcmMiLCJzY3JpcHQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJsb2FkQ1NTIiwiaHJlZiIsInN0eWxlIiwicmVsIiwidHlwZSIsImhlYWQiLCJzdWZmaXgiLCJtZXRob2QiLCJzdWNjZXNzIiwiZXJyb3IiLCJsb2FkVHJhbnNsYXRpb25GaWxlIiwidG9Mb3dlckNhc2UiLCJvcHRzIiwiY29uZmlnIiwiJHRyYW5zbGF0ZVByb3ZpZGVyIiwiTE9DQUxFU19QUkVGSVgiLCJMT0NBTEVTX1NVRklYIiwiJCIsIlBsdWdpbiIsIm9wdGlvbiIsImVhY2giLCIkdGhpcyIsIkFmZml4IiwiREVGQVVMVFMiLCIkdGFyZ2V0Iiwib24iLCJwcm94eSIsImNoZWNrUG9zaXRpb24iLCJjaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcCIsIiRlbGVtZW50IiwiYWZmaXhlZCIsInVucGluIiwicGlubmVkT2Zmc2V0IiwiVkVSU0lPTiIsIlJFU0VUIiwib2Zmc2V0IiwiZ2V0UGlubmVkT2Zmc2V0Iiwic2Nyb2xsVG9wIiwicG9zaXRpb24iLCJ0b3AiLCJzZXRUaW1lb3V0IiwiaXMiLCJzY3JvbGxIZWlnaHQiLCJoZWlnaHQiLCJvZmZzZXRUb3AiLCJvZmZzZXRCb3R0b20iLCJib3R0b20iLCJhZmZpeCIsImNzcyIsImFmZml4VHlwZSIsIkV2ZW50IiwidHJpZ2dlciIsImlzRGVmYXVsdFByZXZlbnRlZCIsIm9sZCIsIkNvbnN0cnVjdG9yIiwibm9Db25mbGljdCIsIiRzcHkiLCJqUXVlcnkiLCJBbGVydCIsImRpc21pc3MiLCJlbCIsImNsb3NlIiwicmVtb3ZlRWxlbWVudCIsImRldGFjaCIsInJlbW92ZSIsInNlbGVjdG9yIiwicHJldmVudERlZmF1bHQiLCJoYXNDbGFzcyIsInBhcmVudCIsInN1cHBvcnQiLCJ0cmFuc2l0aW9uIiwib25lIiwiZW11bGF0ZVRyYW5zaXRpb25FbmQiLCJhbGVydCIsIkJ1dHRvbiIsInRvZ2dsZSIsInNldFN0YXRlIiwiaXNMb2FkaW5nIiwibG9hZGluZ1RleHQiLCJzdGF0ZSIsIiRlbCIsInJlc2V0VGV4dCIsInJlbW92ZUF0dHIiLCJjaGFuZ2VkIiwiY2xvc2VzdCIsIiRpbnB1dCIsImZpbmQiLCJwcm9wIiwidG9nZ2xlQ2xhc3MiLCJidXR0b24iLCIkYnRuIiwiQ2Fyb3VzZWwiLCJhY3Rpb24iLCJzbGlkZSIsInRvIiwiaW50ZXJ2YWwiLCJwYXVzZSIsImN5Y2xlIiwia2V5ZG93biIsIiRpbmRpY2F0b3JzIiwicGF1c2VkIiwic2xpZGluZyIsIiRhY3RpdmUiLCIkaXRlbXMiLCJ3cmFwIiwid2hpY2giLCJwcmV2IiwibmV4dCIsImNsZWFySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImdldEl0ZW1JbmRleCIsIml0ZW0iLCJjaGlsZHJlbiIsInRoYXQiLCJhY3RpdmVJbmRleCIsIiRuZXh0IiwiaXNDeWNsaW5nIiwiZGlyZWN0aW9uIiwiZmFsbGJhY2siLCJyZWxhdGVkVGFyZ2V0Iiwic2xpZGVFdmVudCIsIiRuZXh0SW5kaWNhdG9yIiwic2xpZEV2ZW50Iiwib2Zmc2V0V2lkdGgiLCJjYXJvdXNlbCIsInNsaWRlSW5kZXgiLCIkY2Fyb3VzZWwiLCJDb2xsYXBzZSIsInRyYW5zaXRpb25pbmciLCJkaW1lbnNpb24iLCJoYXNXaWR0aCIsInNob3ciLCJzdGFydEV2ZW50IiwiYWN0aXZlcyIsImhhc0RhdGEiLCJjb21wbGV0ZSIsInNjcm9sbFNpemUiLCJjYW1lbENhc2UiLCJoaWRlIiwib2Zmc2V0SGVpZ2h0IiwiY29sbGFwc2UiLCJub3QiLCJjbGVhck1lbnVzIiwiYmFja2Ryb3AiLCJnZXRQYXJlbnQiLCJEcm9wZG93biIsImlzQWN0aXZlIiwiZG9jdW1lbnRFbGVtZW50IiwiaW5zZXJ0QWZ0ZXIiLCJrZXlDb2RlIiwic3RvcFByb3BhZ2F0aW9uIiwiZGVzYyIsImVxIiwiZHJvcGRvd24iLCJUYWIiLCIkdWwiLCJwcmV2aW91cyIsImFjdGl2YXRlIiwiY29udGFpbmVyIiwiY2FsbGJhY2siLCJ0YWIiLCJ0cmFuc2l0aW9uRW5kIiwidHJhbnNFbmRFdmVudE5hbWVzIiwiV2Via2l0VHJhbnNpdGlvbiIsIk1velRyYW5zaXRpb24iLCJPVHJhbnNpdGlvbiIsImR1cmF0aW9uIiwiY2FsbGVkIiwiZXZlbnQiLCJzcGVjaWFsIiwiYnNUcmFuc2l0aW9uRW5kIiwiYmluZFR5cGUiLCJkZWxlZ2F0ZVR5cGUiLCJoYW5kbGUiLCJoYW5kbGVPYmoiLCJhcmd1bWVudHMiLCJTY3JvbGxTcHkiLCJwcm9jZXNzIiwiJGJvZHkiLCIkc2Nyb2xsRWxlbWVudCIsIm9mZnNldHMiLCJ0YXJnZXRzIiwiYWN0aXZlVGFyZ2V0IiwiZ2V0U2Nyb2xsSGVpZ2h0IiwiTWF0aCIsIm1heCIsIm9mZnNldE1ldGhvZCIsIm9mZnNldEJhc2UiLCJpc1dpbmRvdyIsInNlbGYiLCJtYXAiLCIkaHJlZiIsInNvcnQiLCJhIiwiYiIsIm1heFNjcm9sbCIsInBhcmVudHNVbnRpbCIsImFjdGl2ZSIsInBhcmVudHMiLCJzY3JvbGxzcHkiLCJfcmVsYXRlZFRhcmdldCIsIk1vZGFsIiwiJGJhY2tkcm9wIiwiaXNTaG93biIsInNjcm9sbGJhcldpZHRoIiwicmVtb3RlIiwibG9hZCIsImtleWJvYXJkIiwiY2hlY2tTY3JvbGxiYXIiLCJzZXRTY3JvbGxiYXIiLCJlc2NhcGUiLCJhcHBlbmRUbyIsImVuZm9yY2VGb2N1cyIsInJlc2V0U2Nyb2xsYmFyIiwib2ZmIiwiaGlkZU1vZGFsIiwiaGFzIiwicmVtb3ZlQmFja2Ryb3AiLCJhbmltYXRlIiwiZG9BbmltYXRlIiwiY3VycmVudFRhcmdldCIsImZvY3VzIiwiY2FsbGJhY2tSZW1vdmUiLCJjbGllbnRXaWR0aCIsImlubmVyV2lkdGgiLCJtZWFzdXJlU2Nyb2xsYmFyIiwiYm9keVBhZCIsInBhcnNlSW50Iiwic2Nyb2xsRGl2IiwiY2xhc3NOYW1lIiwiYXBwZW5kIiwicmVtb3ZlQ2hpbGQiLCJtb2RhbCIsInNob3dFdmVudCIsIlRvb2x0aXAiLCJlbmFibGVkIiwidGltZW91dCIsImhvdmVyU3RhdGUiLCJpbml0IiwiYW5pbWF0aW9uIiwicGxhY2VtZW50IiwidGVtcGxhdGUiLCJ0aXRsZSIsImRlbGF5Iiwidmlld3BvcnQiLCJwYWRkaW5nIiwiZ2V0T3B0aW9ucyIsIiR2aWV3cG9ydCIsInRyaWdnZXJzIiwiZXZlbnRJbiIsImV2ZW50T3V0IiwiZW50ZXIiLCJsZWF2ZSIsIl9vcHRpb25zIiwiZml4VGl0bGUiLCJnZXREZWZhdWx0cyIsImdldERlbGVnYXRlT3B0aW9ucyIsImRlZmF1bHRzIiwiY29uc3RydWN0b3IiLCJjbGVhclRpbWVvdXQiLCJoYXNDb250ZW50IiwiaW5Eb20iLCJjb250YWlucyIsIiR0aXAiLCJ0aXAiLCJ0aXBJZCIsImdldFVJRCIsInNldENvbnRlbnQiLCJhdXRvVG9rZW4iLCJhdXRvUGxhY2UiLCJsZWZ0IiwiZGlzcGxheSIsImdldFBvc2l0aW9uIiwiYWN0dWFsV2lkdGgiLCJhY3R1YWxIZWlnaHQiLCJvcmdQbGFjZW1lbnQiLCJwYXJlbnREaW0iLCJzY3JvbGwiLCJyaWdodCIsIndpZHRoIiwiY2FsY3VsYXRlZE9mZnNldCIsImdldENhbGN1bGF0ZWRPZmZzZXQiLCJhcHBseVBsYWNlbWVudCIsIm1hcmdpblRvcCIsIm1hcmdpbkxlZnQiLCJpc05hTiIsInNldE9mZnNldCIsInVzaW5nIiwicHJvcHMiLCJyb3VuZCIsImRlbHRhIiwiZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhIiwiYXJyb3dEZWx0YSIsImFycm93UG9zaXRpb24iLCJhcnJvd09mZnNldFBvc2l0aW9uIiwicmVwbGFjZUFycm93IiwiYXJyb3ciLCJnZXRUaXRsZSIsIiRlIiwiaXNCb2R5IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwib3V0ZXJXaWR0aCIsIm91dGVySGVpZ2h0Iiwidmlld3BvcnRQYWRkaW5nIiwidmlld3BvcnREaW1lbnNpb25zIiwidG9wRWRnZU9mZnNldCIsImJvdHRvbUVkZ2VPZmZzZXQiLCJsZWZ0RWRnZU9mZnNldCIsInJpZ2h0RWRnZU9mZnNldCIsIm8iLCJyYW5kb20iLCJnZXRFbGVtZW50QnlJZCIsIiRhcnJvdyIsInZhbGlkYXRlIiwicGFyZW50Tm9kZSIsImVuYWJsZSIsImRpc2FibGUiLCJ0b2dnbGVFbmFibGVkIiwiZGVzdHJveSIsInJlbW92ZURhdGEiLCJ0b29sdGlwIiwiUG9wb3ZlciIsImNvbnRlbnQiLCJnZXRDb250ZW50IiwiZW1wdHkiLCJwb3BvdmVyIiwiJGFuaW1hdGUiLCJsaW5rIiwiZXhwYW5kIiwiZXhwYW5kRG9uZSIsImNvbGxhcHNlRG9uZSIsInNob3VsZENvbGxhcHNlIiwiY2xvc2VPdGhlcnMiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiJGF0dHJzIiwiYWNjb3JkaW9uQ29uZmlnIiwiZ3JvdXBzIiwib3Blbkdyb3VwIiwiJGV2YWwiLCJncm91cCIsImlzT3BlbiIsImFkZEdyb3VwIiwiZ3JvdXBTY29wZSIsInJlbW92ZUdyb3VwIiwic3BsaWNlIiwiY29udHJvbGxlckFzIiwidHJhbnNjbHVkZSIsInRlbXBsYXRlVXJsIiwicmVxdWlyZSIsImhlYWRpbmciLCJpc0Rpc2FibGVkIiwic2V0SGVhZGluZyIsImFjY29yZGlvbkN0cmwiLCJvcGVuQ2xhc3MiLCJwYW5lbENsYXNzIiwidG9nZ2xlT3BlbiIsIiRldmVudCIsImFjY29yZGlvbkdyb3VwQ3RybCIsImFjY29yZGlvblRyYW5zY2x1ZGUiLCJjbG9zZWFibGUiLCJhbGVydEN0cmwiLCJkaXNtaXNzT25UaW1lb3V0IiwiJGJpbmRIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkIiwid2FybiIsImJpbmRIdG1sVW5zYWZlIiwiYWN0aXZlQ2xhc3MiLCJ0b2dnbGVFdmVudCIsImJ1dHRvbkNvbmZpZyIsImN0cmxzIiwiYnV0dG9uc0N0cmwiLCJuZ01vZGVsQ3RybCIsIiRyZW5kZXIiLCIkbW9kZWxWYWx1ZSIsImJ0blJhZGlvIiwiZGlzYWJsZWQiLCJ1bmNoZWNrYWJsZSIsIiRhcHBseSIsIiRzZXRWaWV3VmFsdWUiLCJnZXRUcnVlVmFsdWUiLCJnZXRDaGVja2JveFZhbHVlIiwiYnRuQ2hlY2tib3hUcnVlIiwiZ2V0RmFsc2VWYWx1ZSIsImJ0bkNoZWNrYm94RmFsc2UiLCJhdHRyaWJ1dGVWYWx1ZSIsImRlZmF1bHRWYWx1ZSIsImFjdGl2ZUVsZW1lbnQiLCIkaW50ZXJ2YWwiLCJnb05leHQiLCJkZXN0cm95ZWQiLCJjdXJyZW50U2xpZGUiLCJub1RyYW5zaXRpb24iLCIkY3VycmVudFRyYW5zaXRpb24iLCJzbGlkZXMiLCJTTElERV9ESVJFQ1RJT04iLCJORVdfQU5JTUFURSIsInBoYXNlIiwiY3VycmVudEluZGV4IiwicmVzdGFydFRpbWVyIiwiZ2V0U2xpZGVCeUluZGV4IiwicmVzZXRUaW1lciIsImN1cnJlbnRJbnRlcnZhbCIsInRpbWVyRm4iLCJjYW5jZWwiLCJpc1BsYXlpbmciLCJtaW5vciIsIk5PX1RSQU5TSVRJT04iLCJzZWxlY3QiLCJuZXh0U2xpZGUiLCJuZXh0SW5kZXgiLCJpbmRleE9mU2xpZGUiLCJnZXRDdXJyZW50SW5kZXgiLCJuZXdJbmRleCIsIm5vV3JhcCIsInBsYXkiLCJub1BhdXNlIiwiYWRkU2xpZGUiLCJyZW1vdmVTbGlkZSIsImFjdHVhbCIsImNhcm91c2VsQ3RybCIsIiRhbmltYXRlQ3NzIiwiYmVmb3JlQWRkQ2xhc3MiLCJkb25lIiwic3RvcHBlZCIsImRpcmVjdGlvbkNsYXNzIiwicmVtb3ZlQ2xhc3NGbiIsImJlZm9yZVJlbW92ZUNsYXNzIiwib3JkZXJCeUZpbHRlciIsImNyZWF0ZVBhcnNlciIsImZvcm1hdCIsInJlZ2V4IiwiZm9ybWF0Q29kZVRvUmVnZXgiLCJjb2RlIiwiaXNWYWxpZCIsInllYXIiLCJtb250aCIsImRhdGUiLCJTUEVDSUFMX0NIQVJBQ1RFUlNfUkVHRVhQIiwicGFyc2VycyIsInl5eXkiLCJ5eSIsInkiLCJNTU1NIiwiREFURVRJTUVfRk9STUFUUyIsIk1PTlRIIiwiTU1NIiwiU0hPUlRNT05USCIsIk1NIiwiTSIsImRkIiwiRUVFRSIsIkRBWSIsIkVFRSIsIlNIT1JUREFZIiwiSEgiLCJob3VycyIsImhoIiwiSCIsImgiLCJtbSIsIm1pbnV0ZXMiLCJtIiwic3NzIiwibWlsbGlzZWNvbmRzIiwic3MiLCJzZWNvbmRzIiwicyIsIkFNUE1TIiwicGFyc2UiLCJpbnB1dCIsImJhc2VEYXRlIiwicGFyc2VyIiwiZmllbGRzIiwiZHQiLCJpc0RhdGUiLCJnZXRUaW1lIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiZ2V0TWlsbGlzZWNvbmRzIiwibWFwcGVyIiwiRGF0ZSIsIiR3aW5kb3ciLCJnZXRTdHlsZSIsImNzc3Byb3AiLCJjdXJyZW50U3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwiaXNTdGF0aWNQb3NpdGlvbmVkIiwicGFyZW50T2Zmc2V0RWwiLCJkb2NEb21FbCIsIm9mZnNldFBhcmVudCIsImVsQkNSIiwib2Zmc2V0UGFyZW50QkNSIiwib2Zmc2V0UGFyZW50RWwiLCJjbGllbnRUb3AiLCJjbGllbnRMZWZ0Iiwic2Nyb2xsTGVmdCIsImJvdW5kaW5nQ2xpZW50UmVjdCIsInBhZ2VZT2Zmc2V0IiwicGFnZVhPZmZzZXQiLCJwb3NpdGlvbkVsZW1lbnRzIiwiaG9zdEVsIiwidGFyZ2V0RWwiLCJwb3NpdGlvblN0ciIsImFwcGVuZFRvQm9keSIsImhvc3RFbFBvcyIsInRhcmdldEVsV2lkdGgiLCJ0YXJnZXRFbEhlaWdodCIsInRhcmdldEVsUG9zIiwicG9zaXRpb25TdHJQYXJ0cyIsInBvczAiLCJwb3MxIiwic2hpZnRXaWR0aCIsImNlbnRlciIsInNoaWZ0SGVpZ2h0IiwiZm9ybWF0RGF5IiwiZm9ybWF0TW9udGgiLCJmb3JtYXRZZWFyIiwiZm9ybWF0RGF5SGVhZGVyIiwiZm9ybWF0RGF5VGl0bGUiLCJmb3JtYXRNb250aFRpdGxlIiwiZGF0ZXBpY2tlck1vZGUiLCJtaW5Nb2RlIiwibWF4TW9kZSIsInNob3dXZWVrcyIsInN0YXJ0aW5nRGF5IiwieWVhclJhbmdlIiwibWluRGF0ZSIsIm1heERhdGUiLCJzaG9ydGN1dFByb3BhZ2F0aW9uIiwiZGF0ZUZpbHRlciIsImRhdGVwaWNrZXJDb25maWciLCIkZGF0ZXBpY2tlclN1cHByZXNzRXJyb3IiLCJtb2RlcyIsInJlZnJlc2hWaWV3IiwidW5pcXVlSWQiLCIkaWQiLCJmbG9vciIsImluaXREYXRlIiwiYWN0aXZlRGF0ZSIsIiRpc0VtcHR5IiwiJGludmFsaWQiLCJkYXRlT2JqZWN0IiwiY29tcGFyZSIsImFjdGl2ZURhdGVJZCIsInVpZCIsIm5nTW9kZWxDdHJsXyIsInJlbmRlciIsIiR2aWV3VmFsdWUiLCJfcmVmcmVzaFZpZXciLCIkc2V0VmFsaWRpdHkiLCJjcmVhdGVEYXRlT2JqZWN0IiwibW9kZWwiLCJsYWJlbCIsInNlbGVjdGVkIiwiY3VycmVudCIsImN1c3RvbUNsYXNzIiwiZGF0ZURpc2FibGVkIiwibW9kZSIsImFyciIsInNpemUiLCJhcnJheXMiLCJmaXhUaW1lWm9uZSIsInNldEhvdXJzIiwic2V0RnVsbFllYXIiLCJtb3ZlIiwic3RlcCIsInllYXJzIiwibW9udGhzIiwidG9nZ2xlTW9kZSIsImtleXMiLDEzLDMyLDMzLDM0LDM1LDM2LDM3LDM4LDM5LDQwLCJmb2N1c0VsZW1lbnQiLCJldnQiLCJzaGlmdEtleSIsImFsdEtleSIsImN0cmxLZXkiLCJoYW5kbGVLZXlEb3duIiwiZGF0ZXBpY2tlckN0cmwiLCJjdHJsIiwiZ2V0RGF5c0luTW9udGgiLCJEQVlTX0lOX01PTlRIIiwiZ2V0RGF0ZXMiLCJzdGFydERhdGUiLCJkYXRlcyIsIkFycmF5Iiwic2V0RGF0ZSIsImdldElTTzg2MDFXZWVrTnVtYmVyIiwiY2hlY2tEYXRlIiwiZ2V0RGF5IiwidGltZSIsInNldE1vbnRoIiwiZmlyc3REYXlPZk1vbnRoIiwiZGlmZmVyZW5jZSIsIm51bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoIiwiZmlyc3REYXRlIiwiZGF5cyIsInNlY29uZGFyeSIsImxhYmVscyIsImFiYnIiLCJmdWxsIiwicm93cyIsIndlZWtOdW1iZXJzIiwidGh1cnNkYXlJbmRleCIsIm51bVdlZWtzIiwiY3VyV2VlayIsImRhdGUxIiwiZGF0ZTIiLCJtaW4iLCJnZXRTdGFydGluZ1llYXIiLCJyYW5nZSIsImRhdGVwaWNrZXJQb3B1cCIsImRhdGVwaWNrZXJQb3B1cFRlbXBsYXRlVXJsIiwiZGF0ZXBpY2tlclRlbXBsYXRlVXJsIiwiaHRtbDVUeXBlcyIsImRhdGV0aW1lLWxvY2FsIiwiY3VycmVudFRleHQiLCJjbGVhclRleHQiLCJjbG9zZVRleHQiLCJjbG9zZU9uRGF0ZVNlbGVjdGlvbiIsInNob3dCdXR0b25CYXIiLCJvbk9wZW5Gb2N1cyIsIiRwb3NpdGlvbiIsImRhdGVQYXJzZXIiLCJkYXRlcGlja2VyUG9wdXBDb25maWciLCJuZ01vZGVsIiwiY2FtZWx0b0Rhc2giLCIkMSIsInBhcnNlRGF0ZSIsInZpZXdWYWx1ZSIsImlzTnVtYmVyIiwiZGF0ZUZvcm1hdCIsInZhbGlkYXRvciIsIm1vZGVsVmFsdWUiLCJuZ1JlcXVpcmVkIiwiZGF0ZXBpY2tlckFwcGVuZFRvQm9keSIsImdldFRleHQiLCJ3YXRjaERhdGEiLCJpc0h0bWw1RGF0ZUlucHV0IiwibmV3RGF0ZUZvcm1hdCIsInBvcHVwRWwiLCJuZy1tb2RlbCIsIm5nLWNoYW5nZSIsInRlbXBsYXRlLXVybCIsImRhdGVwaWNrZXJFbCIsImRhdGVwaWNrZXJPcHRpb25zIiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiYXNzaWduIiwib2xkdmFsdWUiLCIkZm9ybWF0dGVycyIsIiQkcGFyc2VyTmFtZSIsIiR2YWxpZGF0b3JzIiwiJHBhcnNlcnMiLCJ1bnNoaWZ0IiwiZGF0ZVNlbGVjdGlvbiIsIiR2aWV3Q2hhbmdlTGlzdGVuZXJzIiwiZG9jdW1lbnRDbGlja0JpbmQiLCJpbnB1dEtleWRvd25CaW5kIiwiJGJyb2FkY2FzdCIsInRvZGF5IiwiJHBvcHVwIiwiYWZ0ZXIiLCIkJHBoYXNlIiwib3BlblNjb3BlIiwib3BlbiIsImRyb3Bkb3duU2NvcGUiLCJjbG9zZURyb3Bkb3duIiwia2V5YmluZEZpbHRlciIsImdldEF1dG9DbG9zZSIsInRvZ2dsZUVsZW1lbnQiLCJnZXRUb2dnbGVFbGVtZW50IiwiZHJvcGRvd25FbGVtZW50IiwiZ2V0RHJvcGRvd25FbGVtZW50IiwiZm9jdXNUb2dnbGVFbGVtZW50IiwiaXNLZXluYXZFbmFibGVkIiwiZm9jdXNEcm9wZG93bkVudHJ5IiwiZHJvcGRvd25Db25maWciLCJkcm9wZG93blNlcnZpY2UiLCIkdGVtcGxhdGVSZXF1ZXN0IiwidGVtcGxhdGVTY29wZSIsImdldElzT3BlbiIsIiRuZXciLCJzZXRJc09wZW4iLCJ0b2dnbGVJbnZva2VyIiwib25Ub2dnbGUiLCJrZXluYXZFbmFibGVkIiwiZHJvcGRvd25BcHBlbmRUb0JvZHkiLCJrZXlib2FyZE5hdiIsImRyb3Bkb3duTWVudSIsImF1dG9DbG9zZSIsImdldEVsZW1lbnQiLCJlbGVtcyIsInNlbGVjdGVkT3B0aW9uIiwid2FzT3BlbiIsInJpZ2h0YWxpZ24iLCJvcGVuQ29udGFpbmVyIiwiZHJvcGRvd25NZW51VGVtcGxhdGVVcmwiLCJ0cGxDb250ZW50IiwibmV3RWwiLCJyZXBsYWNlV2l0aCIsIiRkZXN0cm95Iiwib2ZmRGVzdHJveSIsImRyb3Bkb3duQ3RybCIsInRwbFVybCIsInRvZ2dsZURyb3Bkb3duIiwiYXJpYS1oYXNwb3B1cCIsImFyaWEtZXhwYW5kZWQiLCJjcmVhdGVOZXciLCJhZGQiLCJpZHgiLCJyZW1vdmVUb3AiLCJlbnRyaWVzIiwiaGFzS2V5IiwidmFsdWVzIiwiJG1vZGFsU3RhY2siLCJsaW5rRm4iLCJtb2RhbEluQ2xhc3MiLCJOT1dfQ0xPU0lOR19FVkVOVCIsInNldElzQXN5bmMiLCJ0QXR0cnMiLCJiYWNrZHJvcENsYXNzIiwid2luZG93Q2xhc3MiLCJnZXRUb3AiLCIkaXNSZW5kZXJlZCIsIm1vZGFsUmVuZGVyRGVmZXJPYmoiLCJhbmltYXRpb25Qcm9taXNlIiwid2hlbiIsImlucHV0c1dpdGhBdXRvZm9jdXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibW9kYWxSZW5kZXJlZCIsIm1vZGFsQW5pbWF0aW9uIiwibW9kYWxBbmltYXRpb25DbGFzcyIsIiR0cmFuc2NsdWRlIiwiY2xvbmUiLCIkJG11bHRpTWFwIiwiJCRzdGFja2VkTWFwIiwiYmFja2Ryb3BJbmRleCIsInRvcEJhY2tkcm9wSW5kZXgiLCJvcGVuZWQiLCJvcGVuZWRXaW5kb3dzIiwicmVtb3ZlTW9kYWxXaW5kb3ciLCJtb2RhbEluc3RhbmNlIiwiZWxlbWVudFRvUmVjZWl2ZUZvY3VzIiwibW9kYWxXaW5kb3ciLCJyZW1vdmVBZnRlckFuaW1hdGUiLCJtb2RhbERvbUVsIiwibW9kYWxTY29wZSIsIm1vZGFsQm9keUNsYXNzIiwib3BlbmVkQ2xhc3MiLCJPUEVORURfTU9EQUxfQ0xBU1MiLCJvcGVuZWRDbGFzc2VzIiwiY2hlY2tSZW1vdmVCYWNrZHJvcCIsImJhY2tkcm9wRG9tRWwiLCJiYWNrZHJvcFNjb3BlUmVmIiwiYmFja2Ryb3BTY29wZSIsImRvbUVsIiwiYWZ0ZXJBbmltYXRpbmciLCJhc3luY0RlZmVycmVkIiwiYXN5bmNQcm9taXNlIiwiYnJvYWRjYXN0Q2xvc2luZyIsInJlc3VsdE9yUmVhc29uIiwiY2xvc2luZyIsImRlZmF1bHRQcmV2ZW50ZWQiLCJmb2N1c2FibGVFbGVtZW50TGlzdCIsImZvY3VzSW5kZXgiLCJ0YWJhYmJsZVNlbGVjdG9yIiwibmV3QmFja2Ryb3BJbmRleCIsImxvYWRGb2N1c0VsZW1lbnRMaXN0IiwiZm9jdXNDaGFuZ2VkIiwiaXNGb2N1c0luRmlyc3RJdGVtIiwiZm9jdXNMYXN0Rm9jdXNhYmxlRWxlbWVudCIsImlzRm9jdXNJbkxhc3RJdGVtIiwiZm9jdXNGaXJzdEZvY3VzYWJsZUVsZW1lbnQiLCJtb2RhbE9wZW5lciIsInJlbmRlckRlZmVycmVkIiwiY3VyckJhY2tkcm9wSW5kZXgiLCJhbmd1bGFyQmFja2dyb3VuZERvbUVsIiwiYW5ndWxhckRvbUVsIiwid2luZG93VGVtcGxhdGVVcmwiLCJ3aW5kb3ctY2xhc3MiLCJjbGVhckZvY3VzTGlzdENhY2hlIiwiJCR1aWJEZXN0cnVjdGlvblNjaGVkdWxlZCIsInJlYXNvbiIsImRpc21pc3NBbGwiLCJ0b3BNb2RhbCIsInNyY0VsZW1lbnQiLCJsZW5ndGgwIiwibW9kYWxEb21FMSIsIiRtb2RhbFByb3ZpZGVyIiwiJGNvbnRyb2xsZXIiLCJnZXRUZW1wbGF0ZVByb21pc2UiLCJnZXRSZXNvbHZlUHJvbWlzZXMiLCJyZXNvbHZlcyIsInByb21pc2VzQXJyIiwiaW52b2tlIiwiJG1vZGFsIiwicHJvbWlzZUNoYWluIiwiZ2V0UHJvbWlzZUNoYWluIiwibW9kYWxPcHRpb25zIiwibW9kYWxSZXN1bHREZWZlcnJlZCIsIm1vZGFsT3BlbmVkRGVmZXJyZWQiLCJtb2RhbFJlbmRlckRlZmVycmVkIiwicmVuZGVyZWQiLCJzYW1lUHJvbWlzZSIsInRlbXBsYXRlQW5kUmVzb2x2ZVByb21pc2UiLCJ0cGxBbmRWYXJzIiwiJGNsb3NlIiwiJGRpc21pc3MiLCJjdHJsSW5zdGFuY2UiLCJjdHJsTG9jYWxzIiwicmVzb2x2ZUl0ZXIiLCIkbW9kYWxJbnN0YW5jZSIsImJpbmRUb0NvbnRyb2xsZXIiLCJmaW5hbGx5Iiwic2V0TnVtUGFnZXMiLCJudW1QYWdlcyIsIml0ZW1zUGVyUGFnZSIsInRvdGFsUGFnZXMiLCJjYWxjdWxhdGVUb3RhbFBhZ2VzIiwicGFnZSIsInNlbGVjdFBhZ2UiLCJjZWlsIiwidG90YWxJdGVtcyIsImNsaWNrQWxsb3dlZCIsIm5nRGlzYWJsZWQiLCJibHVyIiwibm9QcmV2aW91cyIsIm5vTmV4dCIsImJvdW5kYXJ5TGlua3MiLCJkaXJlY3Rpb25MaW5rcyIsImZpcnN0VGV4dCIsInByZXZpb3VzVGV4dCIsIm5leHRUZXh0IiwibGFzdFRleHQiLCJyb3RhdGUiLCJwYWdpbmF0aW9uQ29uZmlnIiwibWFrZVBhZ2UiLCJudW1iZXIiLCJnZXRQYWdlcyIsImN1cnJlbnRQYWdlIiwicGFnZXMiLCJzdGFydFBhZ2UiLCJlbmRQYWdlIiwiaXNNYXhTaXplZCIsIm1heFNpemUiLCJwcmV2aW91c1BhZ2VTZXQiLCJuZXh0UGFnZVNldCIsInBhZ2luYXRpb25DdHJsIiwib3JpZ2luYWxSZW5kZXIiLCJhbGlnbiIsInBhZ2VyQ29uZmlnIiwic25ha2VfY2FzZSIsInJlZ2V4cCIsInNlcGFyYXRvciIsImxldHRlciIsImRlZmF1bHRPcHRpb25zIiwicG9wdXBEZWxheSIsInVzZUNvbnRlbnRFeHAiLCJ0cmlnZ2VyTWFwIiwibW91c2VlbnRlciIsImNsaWNrIiwibm9uZSIsImdsb2JhbE9wdGlvbnMiLCJzZXRUcmlnZ2VycyIsImRlZmF1bHRUcmlnZ2VyU2hvdyIsImdldFRyaWdnZXJzIiwiZGlyZWN0aXZlTmFtZSIsInN0YXJ0U3ltIiwiZW5kU3ltIiwidG9vbHRpcExpbmtlciIsInRvZ2dsZVRvb2x0aXBCaW5kIiwidHRTY29wZSIsImhpZGVUb29sdGlwQmluZCIsInNob3dUb29sdGlwQmluZCIsImhhc0VuYWJsZUV4cCIsInByZXBhcmVUb29sdGlwIiwicG9wdXBUaW1lb3V0IiwiJGRpZ2VzdCIsInRyYW5zaXRpb25UaW1lb3V0IiwiY29udGVudEV4cCIsImNyZWF0ZVRvb2x0aXAiLCJpc09wZW5FeHAiLCJvcmlnU2NvcGUiLCJwb3NpdGlvblRvb2x0aXAiLCJwb3NpdGlvblRpbWVvdXQiLCJyZW1vdmVUb29sdGlwIiwidG9vbHRpcExpbmtlZFNjb3BlIiwicmVwb3NpdGlvblNjaGVkdWxlZCIsIiQkcG9zdERpZ2VzdCIsInByZXBQb3B1cENsYXNzIiwicHJlcFBsYWNlbWVudCIsInByZXBQb3B1cERlbGF5IiwicG9wdXBDbGFzcyIsInByZXBUcmlnZ2VycyIsInVucmVnaXN0ZXJUcmlnZ2VycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0dEJveCIsInR0Q3NzIiwiYXBwZW5kVG9Cb2R5VmFsIiwiJHNjZSIsImVsZW0iLCJjdXJyZW50U2NvcGUiLCJwcmV2aW91c0VsZW1lbnQiLCJjdXJyZW50RWxlbWVudCIsInRvb2x0aXBUZW1wbGF0ZVRyYW5zY2x1ZGVTY29wZSIsImNoYW5nZUNvdW50ZXIiLCJjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50IiwicGFyc2VBc1Jlc291cmNlVXJsIiwidG9vbHRpcFRlbXBsYXRlVHJhbnNjbHVkZSIsInRoaXNDaGFuZ2VJZCIsInJlc3BvbnNlIiwibmV3U2NvcGUiLCJ0b29sdGlwQW5pbWF0aW9uQ2xhc3MiLCIkdG9vbHRpcCIsIm9yaWdpblNjb3BlIiwidG9vbHRpcEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQiLCJwcm9ncmVzc0NvbmZpZyIsImJhcnMiLCJhZGRCYXIiLCJiYXIiLCJyZWNhbGN1bGF0ZVBlcmNlbnRhZ2UiLCJwZXJjZW50IiwidG9GaXhlZCIsInRvdGFsUGVyY2VudGFnZSIsInJlZHVjZSIsInRvdGFsIiwicmVtb3ZlQmFyIiwiJHByb2dyZXNzU3VwcHJlc3NXYXJuaW5nIiwicHJvZ3Jlc3NDdHJsIiwic3RhdGVPbiIsInN0YXRlT2ZmIiwidGl0bGVzIiwicmF0aW5nQ29uZmlnIiwidG1wVGl0bGVzIiwicmF0aW5nU3RhdGVzIiwiYnVpbGRUZW1wbGF0ZU9iamVjdHMiLCJzdGF0ZXMiLCJyYXRlIiwicmVhZG9ubHkiLCJvbkhvdmVyIiwicmVzZXQiLCJvbkxlYXZlIiwib25LZXlkb3duIiwicmF0aW5nQ3RybCIsInRhYnMiLCJzZWxlY3RlZFRhYiIsIm9uRGVzZWxlY3QiLCJzZWxlY3RDYWxsZWQiLCJvblNlbGVjdCIsImFkZFRhYiIsInJlbW92ZVRhYiIsIm5ld0FjdGl2ZUluZGV4IiwidmVydGljYWwiLCJqdXN0aWZpZWQiLCJlbG0iLCJ0YWJzZXRDdHJsIiwiJHRyYW5zY2x1ZGVGbiIsImlzVGFiSGVhZGluZyIsIm5vZGUiLCJoYXNBdHRyaWJ1dGUiLCJ0YWJDb250ZW50VHJhbnNjbHVkZSIsImhlYWRpbmdFbGVtZW50IiwiaG91clN0ZXAiLCJtaW51dGVTdGVwIiwic2hvd01lcmlkaWFuIiwibWVyaWRpYW5zIiwicmVhZG9ubHlJbnB1dCIsIm1vdXNld2hlZWwiLCJhcnJvd2tleXMiLCJzaG93U3Bpbm5lcnMiLCJ0aW1lcGlja2VyQ29uZmlnIiwiZ2V0SG91cnNGcm9tVGVtcGxhdGUiLCJ2YWxpZCIsIm1lcmlkaWFuIiwiZ2V0TWludXRlc0Zyb21UZW1wbGF0ZSIsInBhZCIsInRvU3RyaW5nIiwia2V5Ym9hcmRDaGFuZ2UiLCJtYWtlVmFsaWQiLCJ1cGRhdGVUZW1wbGF0ZSIsImludmFsaWRIb3VycyIsImludmFsaWRNaW51dGVzIiwiYWRkTWludXRlcyIsIm5ld0RhdGUiLCJhZGRNaW51dGVzVG9TZWxlY3RlZCIsImlucHV0cyIsImhvdXJzSW5wdXRFbCIsIm1pbnV0ZXNJbnB1dEVsIiwic2V0dXBNb3VzZXdoZWVsRXZlbnRzIiwic2V0dXBBcnJvd2tleUV2ZW50cyIsInNldHVwSW5wdXRFdmVudHMiLCJub0luY3JlbWVudEhvdXJzIiwiaW5jcmVtZW50ZWRTZWxlY3RlZCIsIm5vRGVjcmVtZW50SG91cnMiLCJkZWNyZW1lbnRlZFNlbGVjdGVkIiwibm9JbmNyZW1lbnRNaW51dGVzIiwibm9EZWNyZW1lbnRNaW51dGVzIiwibm9Ub2dnbGVNZXJpZGlhbiIsIiRlcnJvciIsImlzU2Nyb2xsaW5nVXAiLCJvcmlnaW5hbEV2ZW50Iiwid2hlZWxEZWx0YSIsImRlbHRhWSIsImRldGFpbCIsImluY3JlbWVudEhvdXJzIiwiZGVjcmVtZW50SG91cnMiLCJpbmNyZW1lbnRNaW51dGVzIiwiZGVjcmVtZW50TWludXRlcyIsInVwZGF0ZUhvdXJzIiwidXBkYXRlTWludXRlcyIsImludmFsaWRhdGUiLCJzZXRNaW51dGVzIiwidG9nZ2xlTWVyaWRpYW4iLCJ0aW1lcGlja2VyQ3RybCIsIiR0cmFuc2l0aW9uU3VwcHJlc3NEZXByZWNhdGVkIiwiZmluZEVuZEV2ZW50TmFtZSIsImVuZEV2ZW50TmFtZXMiLCJ0cmFuc0VsZW1lbnQiLCIkdHJhbnNpdGlvbiIsImVuZEV2ZW50TmFtZSIsInRyYW5zaXRpb25FbmRIYW5kbGVyIiwidHJhbnNpdGlvbkVuZEV2ZW50TmFtZXMiLCJhbmltYXRpb25FbmRFdmVudE5hbWVzIiwidHJhbnNpdGlvbkVuZEV2ZW50TmFtZSIsImFuaW1hdGlvbkVuZEV2ZW50TmFtZSIsIlRZUEVBSEVBRF9SRUdFWFAiLCJpdGVtTmFtZSIsInNvdXJjZSIsInZpZXdNYXBwZXIiLCJtb2RlbE1hcHBlciIsInR5cGVhaGVhZFBhcnNlciIsIkhPVF9LRVlTIiwiZXZlbnREZWJvdW5jZVRpbWUiLCJvcmlnaW5hbFNjb3BlIiwiZmlyZVJlY2FsY3VsYXRpbmciLCJtb3ZlSW5Qcm9ncmVzcyIsInRpbWVvdXRFdmVudFByb21pc2UiLCJtYXRjaGVzIiwicmVjYWxjdWxhdGVQb3NpdGlvbiIsIm1vZGVsQ3RybCIsIm5nTW9kZWxPcHRpb25zIiwibWluTGVuZ3RoIiwidHlwZWFoZWFkTWluTGVuZ3RoIiwiaGFzRm9jdXMiLCJ3YWl0VGltZSIsInR5cGVhaGVhZFdhaXRNcyIsImlzRWRpdGFibGUiLCJ0eXBlYWhlYWRFZGl0YWJsZSIsImlzTG9hZGluZ1NldHRlciIsInR5cGVhaGVhZExvYWRpbmciLCJvblNlbGVjdENhbGxiYWNrIiwidHlwZWFoZWFkT25TZWxlY3QiLCJpc1NlbGVjdE9uQmx1ciIsInR5cGVhaGVhZFNlbGVjdE9uQmx1ciIsImlzTm9SZXN1bHRzU2V0dGVyIiwidHlwZWFoZWFkTm9SZXN1bHRzIiwiaW5wdXRGb3JtYXR0ZXIiLCJ0eXBlYWhlYWRJbnB1dEZvcm1hdHRlciIsInR5cGVhaGVhZEFwcGVuZFRvQm9keSIsImZvY3VzRmlyc3QiLCJ0eXBlYWhlYWRGb2N1c0ZpcnN0Iiwic2VsZWN0T25FeGFjdCIsInR5cGVhaGVhZFNlbGVjdE9uRXhhY3QiLCJwYXJzZWRNb2RlbCIsImludm9rZU1vZGVsU2V0dGVyIiwiJHNldE1vZGVsVmFsdWUiLCIkb3B0aW9ucyIsImdldHRlclNldHRlciIsIiQkJHAiLCJwYXJzZXJSZXN1bHQiLCJ0eXBlYWhlYWQiLCJwb3B1cElkIiwiYXJpYS1hdXRvY29tcGxldGUiLCJhcmlhLW93bnMiLCJwb3BVcEVsIiwibW92ZS1pbi1wcm9ncmVzcyIsInF1ZXJ5IiwidHlwZWFoZWFkVGVtcGxhdGVVcmwiLCJ0eXBlYWhlYWRQb3B1cFRlbXBsYXRlVXJsIiwicmVzZXRNYXRjaGVzIiwiYWN0aXZlSWR4IiwiZ2V0TWF0Y2hJZCIsImlucHV0SXNFeGFjdE1hdGNoIiwiaW5wdXRWYWx1ZSIsInRvVXBwZXJDYXNlIiwiZ2V0TWF0Y2hlc0FzeW5jIiwibG9jYWxzIiwib25DdXJyZW50UmVxdWVzdCIsInRpbWVvdXRQcm9taXNlIiwic2NoZWR1bGVTZWFyY2hXaXRoVGltZW91dCIsImNhbmNlbFByZXZpb3VzVGltZW91dCIsImNhbmRpZGF0ZVZpZXdWYWx1ZSIsImVtcHR5Vmlld1ZhbHVlIiwiJG1vZGVsIiwiJGl0ZW0iLCIkbGFiZWwiLCJ0eXBlYWhlYWRGb2N1c09uU2VsZWN0IiwiZGlzbWlzc0NsaWNrSGFuZGxlciIsInBvcHVwVGVtcGxhdGVVcmwiLCJtYXRjaElkeCIsInNlbGVjdEFjdGl2ZSIsInNlbGVjdE1hdGNoIiwiY2xvbmVkRWxlbWVudCIsImVzY2FwZVJlZ2V4cCIsInF1ZXJ5VG9Fc2NhcGUiLCJjb250YWluc0h0bWwiLCJtYXRjaEl0ZW0iLCJpc1Nhbml0aXplUHJlc2VudCIsInRydXN0QXNIdG1sIiwiJHRlbXBsYXRlQ2FjaGUiLCIkJGNzcCIsInByZXBlbmQiLCJURU1QTEFURVMiLCJfaW5pdCIsIiRidG5BbGlnbm1lbnQiLCJzZXRBbGlnbm1lbnQiLCJhbGlnbm1lbnQiLCJnZXRBbGlnbm1lbnQiLCIkcHJpbWFyeUljb24iLCJjdXJyZW50Q2xhc3MiLCJuZXdDbGFzcyIsImRlZmF1bHRBbGlnbm1lbnQiLCJfcGx1Z2luTmFtZSIsIldJREdFVF9TRVRUSU5HU19VSV9DT05GSUciLCJmYW1pbGllcyIsInNpemVzIiwiaGlkZUxhYmVsIiwiZmlsZVR5cGUiLCJoYXNWYWxpZEV4dGVuc2lvbiIsImV4dGVuc2lvbnMiLCJ0ZXN0VXJsIiwidGVzdEltYWdlIiwiaW1hZ2UiLCJJbWFnZSIsImludmFsaWRUeXBlIiwidXJsUmVnRXhwIiwiZG9WYWxpZGF0aW9uIiwiZm9yY2VkVmFsaWQiLCJhbGxvd0luaXRFbXB0eSIsImluaXRFbXB0eSIsImluZm8iLCJlcnIiLCJnb29nbGVGb250TG9hZGVyIiwiZm9udERhdGEiLCJwcmV2aWV3VGV4dCIsInZlcnRpY2FsQWxpZ24iLCJpbml0VGlueU1DRSIsInRpbnltY2VPcHRpb25zIiwiZm9udF9mb3JtYXRzIiwiZ29vZ2xlRm9udExpc3QiLCJmb250c2l6ZV9mb3JtYXRzIiwiY3VzdG9tU2l6ZSIsIm1lbnViYXIiLCJwbHVnaW5zIiwic2tpbl91cmwiLCJzdGF0dXNiYXIiLCJ0b29sYmFyIiwic2V0dXAiLCJlZGl0b3IiLCJhZGRWZXJ0aWNhbEFsaWduQnV0dG9ucyIsImluaXRUb29sYmFyIiwiX2lzTG9hZGluZyIsImFyZ3MiLCJpbml0Q29tbWFuZHMiLCJpbml0X2luc3RhbmNlX2NhbGxiYWNrIiwib2xkQXBwbHkiLCJmb3JtYXR0ZXIiLCJvbGRSZW1vdmUiLCJ2YXJzIiwiY29tbWFuZCIsImZpcmUiLCJmb250IiwiZXhlY0NvbW1hbmQiLCJmYW1pbHkiLCJmb3JlY29sb3IiLCJiYWNrY29sb3IiLCJib2xkIiwidG9nZ2xlQnV0dG9uIiwiaXRhbGljIiwidW5kZXJsaW5lIiwiJGN1c3RvbUZvbnQiLCJnZXRGb250VHlwZSIsIiRjdXN0b21Gb250U2l6ZSIsInRvZ2dsZVZlcnRpY2FsQnV0dG9ucyIsImRlZmF1bHRGb250IiwidXBkYXRlUHJldmlldyIsIiR0ZXh0Q29udGFpbmVyIiwiJHRleHQiLCJnZXRDdXN0b21Gb250RmFtaWx5IiwiZGVjb2RlVVJJIiwicG9wIiwibG9hZEN1c3RvbUZvbnQiLCJzaGVldCIsInJ1bGUiLCJzdHlsZVNoZWV0cyIsImFkZFJ1bGUiLCJhZGRCdXR0b24iLCJvbmNsaWNrIiwiYWRkQ29tbWFuZCIsImdldEZvbnRzIiwiZm9udHMiLCJjdXN0b21Gb250U2l6ZSIsImFwcGx5Q3VzdG9tRm9udCIsImFwcGx5Q3VzdG9tRm9udFNpemUiLCJ0aW55bWNlIiwiYWN0aXZlRWRpdG9yIiwid2F0Y2giLCIkd2F0Y2hHcm91cCIsIm5ld1ZhbHVlcyIsImFuZ3VsYXJMb2FkIiwiZm9udHNBcGkiLCJmb250QmFzZVVybCIsImV4Y2x1ZGUiLCJzcGFjZXMiLCJ1aVRpbnltY2VDb25maWciLCJnZW5lcmF0ZWRJZHMiLCJJRF9BVFRSIiwiYmFzZVVybCIsImJhc2VVUkwiLCJ0b2dnbGVEaXNhYmxlIiwiZW5zdXJlSW5zdGFuY2UiLCJ0aW55SW5zdGFuY2UiLCJnZXRCb2R5Iiwic2V0dGluZ3MiLCJleHByZXNzaW9uIiwiZm9ybSIsInVwZGF0ZVZpZXciLCIkc2V0IiwidWlUaW55bWNlIiwic2V0dXBPcHRpb25zIiwiZWQiLCIkc2V0UHJpc3RpbmUiLCJzYXZlIiwiZ2V0VHJ1c3RlZEh0bWwiLCJnZXREb2MiLCJlaWQiLCJwYXJlbnRFbGVtZW50IiwiZGlzYWJsZVNhdmUiLCJzZXR0aW5nc1NhdmVyIiwic2V0dGluZ3NHZXR0ZXIiLCJzZXR0aW5nc0Nsb3NlciIsImFkZGl0aW9uYWxQYXJhbXMiLCJhbGVydHMiLCJnZXRBZGRpdGlvbmFsUGFyYW0iLCJkZWZhdWx0VmFsIiwic2V0QWRkaXRpb25hbFBhcmFtIiwibG9hZEFkZGl0aW9uYWxQYXJhbXMiLCJnZXRBZGRpdGlvbmFsUGFyYW1zIiwic2V0QWRkaXRpb25hbFBhcmFtcyIsInNhdmVTZXR0aW5ncyIsImNsb3NlU2V0dGluZ3MiLCJnZXRQYXJhbXMiLCIkZWxtIiwiJHdhdGNoQ29sbGVjdGlvbiIsIm5ld0FsZXJ0cyIsIm9sZEFsZXJ0cyIsIlNUT1JBR0VfRklMRV9VUkxfQkFTRSIsIlNUT1JBR0VfRk9MREVSX1VSTF9CQVNFIiwiZ2V0U3RvcmFnZVVybERhdGEiLCJnZXRTdG9yYWdlVHlwZSIsInN0b3JhZ2VVcmwiLCJnZXRDb21wYW55SWQiLCJwIiwicGFpciIsImRlY29kZVVSSUNvbXBvbmVudCIsImNvbXBhbnlJZCIsImZpbGVOYW1lIiwiZm9sZGVyIiwiZ2FkZ2V0cyIsImxvYWRGb250cyIsInVybHMiLCJhbGxGb250cyIsImdldEdvb2dsZUZvbnRzIiwicmVzcCIsImdldEZvbnRzVXNlZCIsImZhbWlseUxpc3QiLCJmb250c1VzZWQiLCJpMThuIiwiZmFsbGJhY2tMbmciLCJyZXNHZXRQYXRoIiwiZ2FkZ2V0c0FwaSIsInNldHRpbmdzUGFyc2VyIiwicHJvY2Vzc1NldHRpbmdzIiwibmV3U2V0dGluZ3MiLCJjb3B5IiwicnNXIiwicnNIIiwiZGVidWciLCJsYXlvdXRVUkwiLCJlbmNvZGVQYXJhbXMiLCJhZGRpdGlvbmFsUGFyYW1zU3RyIiwiZW5jb2RlQWRkaXRpb25hbFBhcmFtcyIsInJwYyIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZWZhdWx0U2V0dGluZ3MiLCJkZWZhdWx0QWRkaXRpb25hbFBhcmFtcyIsInBhcnNlQWRkaXRpb25hbFBhcmFtcyIsImRlZmF1bHRQYXJhbXMiLCJwYXJzZVBhcmFtcyIsImxvY2F0aW9uIiwic2VhcmNoIiwic3RyaXBQcmVmaXgiLCJlbmNvZGVVUklDb21wb25lbnQiLCJwYXJhbXNTdHIiLCJnb29nbGUiLCJ2aXN1YWxpemF0aW9uIiwic2V0T25Mb2FkQ2FsbGJhY2siLCJjdXJyZW50RGF0ZSIsIm1vbWVudCIsImdldEZvcm1hdHRlZERhdGUiLCJ1cGRhdGVQcmV2aWV3VGV4dCIsInVzZVRpbWV6b25lIiwidHoiLCJ0aW1lem9uZSIsInNob3dUaW1lIiwidGltZUZvcm1hdCIsInNob3dEYXRlIiwiZm9udFN0eWxlIl0sIm1hcHBpbmdzIjoiQUF3elZBLEdBNXlWQUEsUUFBUUMsT0FBTywwQkFBMkIsT0FFekNDLEtBQUssYUFBYyxTQUFVQyxHQUU1QixHQUFJQyxHQUFNRCxFQUFXRSxhQUNqQkMsRUFBVUgsRUFBV0csVUFFckJDLEVBQW9DLFdBQ3RDLEdBQUlDLEdBQVlMLEVBQVdNLG1CQUN2QlQsU0FBUVUsU0FBU0YsR0FDbkJMLEVBQVdRLElBQUlILEdBSWZGLEVBQVFNLElBQUlSLEVBQUtELEVBQVdRLE9BSTVCTCxHQUNHQSxFQUFRTyxJQUFJVCxHQUdmRCxFQUFXUSxJQUFJTCxFQUFRTyxJQUFJ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QyxtQkFBVkEsSUFBMEJBLElBQ25DMG1CLEVBQU9zNEIsU0FBU2tCLGlCQUFpQnlFLFNBQVcsR0FDNUNqK0IsRUFBTzg5Qix1QkFJWDk5QixFQUFPL2MsT0FBTyxxQ0FBc0MsU0FBVTNKLEdBQ3ZDLG1CQUFWQSxJQUNUMG1CLEVBQU84OUIsc0JBSVg5OUIsRUFBTy9jLE9BQU8scUNBQXNDLFNBQVUzSixHQUNyQyxtQkFBVkEsSUFDUDBtQixFQUFPODlCLHlCQUtsQnhrRCxNQUFNLG1CQUNMeUgsVUFDQXk0QyxrQkFDRTBFLFVBQVksRUFDWkMsV0FBYyxTQUNkQyxVQUFZLEVBQ1ovcUIsV0FBYyxnQkFDZDBxQixhQUFlLEVBQ2ZFLFNBQVksR0FDWkksYUFDQXZvRCxTQUFZIiwiZmlsZSI6ImpzL3NldHRpbmdzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxyXG4gKiBhbmd1bGFyLXRyYW5zbGF0ZSAtIHYyLjUuMiAtIDIwMTQtMTItMTBcclxuICogaHR0cDovL2dpdGh1Yi5jb20vYW5ndWxhci10cmFuc2xhdGUvYW5ndWxhci10cmFuc2xhdGVcclxuICogQ29weXJpZ2h0IChjKSAyMDE0IDsgTGljZW5zZWQgTUlUXHJcbiAqL1xyXG4vKipcclxuICogQG5nZG9jIG92ZXJ2aWV3XHJcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGVcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBtYWluIG1vZHVsZSB3aGljaCBob2xkcyBldmVyeXRoaW5nIHRvZ2V0aGVyLlxyXG4gKi9cclxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnLCBbJ25nJ10pXHJcblxyXG4ucnVuKFsnJHRyYW5zbGF0ZScsIGZ1bmN0aW9uICgkdHJhbnNsYXRlKSB7XHJcblxyXG4gIHZhciBrZXkgPSAkdHJhbnNsYXRlLnN0b3JhZ2VLZXkoKSxcclxuICAgICAgc3RvcmFnZSA9ICR0cmFuc2xhdGUuc3RvcmFnZSgpO1xyXG5cclxuICB2YXIgZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgcHJlZmVycmVkID0gJHRyYW5zbGF0ZS5wcmVmZXJyZWRMYW5ndWFnZSgpO1xyXG4gICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcocHJlZmVycmVkKSkge1xyXG4gICAgICAkdHJhbnNsYXRlLnVzZShwcmVmZXJyZWQpO1xyXG4gICAgICAvLyAkdHJhbnNsYXRlLnVzZSgpIHdpbGwgYWxzbyByZW1lbWJlciB0aGUgbGFuZ3VhZ2UuXHJcbiAgICAgIC8vIFNvLCB3ZSBkb24ndCBuZWVkIHRvIGNhbGwgc3RvcmFnZS5wdXQoKSBoZXJlLlxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc3RvcmFnZS5wdXQoa2V5LCAkdHJhbnNsYXRlLnVzZSgpKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBpZiAoc3RvcmFnZSkge1xyXG4gICAgaWYgKCFzdG9yYWdlLmdldChrZXkpKSB7XHJcbiAgICAgIGZhbGxiYWNrRnJvbUluY29ycmVjdFN0b3JhZ2VWYWx1ZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJHRyYW5zbGF0ZS51c2Uoc3RvcmFnZS5nZXQoa2V5KSlbJ2NhdGNoJ10oZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlKTtcclxuICAgIH1cclxuICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoJHRyYW5zbGF0ZS5wcmVmZXJyZWRMYW5ndWFnZSgpKSkge1xyXG4gICAgJHRyYW5zbGF0ZS51c2UoJHRyYW5zbGF0ZS5wcmVmZXJyZWRMYW5ndWFnZSgpKTtcclxuICB9XHJcbn1dKTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgb2JqZWN0XHJcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiAkdHJhbnNsYXRlUHJvdmlkZXIgYWxsb3dzIGRldmVsb3BlcnMgdG8gcmVnaXN0ZXIgdHJhbnNsYXRpb24tdGFibGVzLCBhc3luY2hyb25vdXMgbG9hZGVyc1xyXG4gKiBhbmQgc2ltaWxhciB0byBjb25maWd1cmUgdHJhbnNsYXRpb24gYmVoYXZpb3IgZGlyZWN0bHkgaW5zaWRlIG9mIGEgbW9kdWxlLlxyXG4gKlxyXG4gKi9cclxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKS5wcm92aWRlcignJHRyYW5zbGF0ZScsIFsnJFNUT1JBR0VfS0VZJywgZnVuY3Rpb24gKCRTVE9SQUdFX0tFWSkge1xyXG5cclxuICB2YXIgJHRyYW5zbGF0aW9uVGFibGUgPSB7fSxcclxuICAgICAgJHByZWZlcnJlZExhbmd1YWdlLFxyXG4gICAgICAkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzID0gW10sXHJcbiAgICAgICRsYW5ndWFnZUtleUFsaWFzZXMsXHJcbiAgICAgICRmYWxsYmFja0xhbmd1YWdlLFxyXG4gICAgICAkZmFsbGJhY2tXYXNTdHJpbmcsXHJcbiAgICAgICR1c2VzLFxyXG4gICAgICAkbmV4dExhbmcsXHJcbiAgICAgICRzdG9yYWdlRmFjdG9yeSxcclxuICAgICAgJHN0b3JhZ2VLZXkgPSAkU1RPUkFHRV9LRVksXHJcbiAgICAgICRzdG9yYWdlUHJlZml4LFxyXG4gICAgICAkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnksXHJcbiAgICAgICRpbnRlcnBvbGF0aW9uRmFjdG9yeSxcclxuICAgICAgJGludGVycG9sYXRvckZhY3RvcmllcyA9IFtdLFxyXG4gICAgICAkaW50ZXJwb2xhdGlvblNhbml0aXphdGlvblN0cmF0ZWd5ID0gZmFsc2UsXHJcbiAgICAgICRsb2FkZXJGYWN0b3J5LFxyXG4gICAgICAkY2xvYWtDbGFzc05hbWUgPSAndHJhbnNsYXRlLWNsb2FrJyxcclxuICAgICAgJGxvYWRlck9wdGlvbnMsXHJcbiAgICAgICRub3RGb3VuZEluZGljYXRvckxlZnQsXHJcbiAgICAgICRub3RGb3VuZEluZGljYXRvclJpZ2h0LFxyXG4gICAgICAkcG9zdENvbXBpbGluZ0VuYWJsZWQgPSBmYWxzZSxcclxuICAgICAgTkVTVEVEX09CSkVDVF9ERUxJTUlURVIgPSAnLicsXHJcbiAgICAgIGxvYWRlckNhY2hlO1xyXG5cclxuICB2YXIgdmVyc2lvbiA9ICcyLjUuMic7XHJcblxyXG4gIC8vIHRyaWVzIHRvIGRldGVybWluZSB0aGUgYnJvd3NlcnMgbGFuZ3VhZ2VcclxuICB2YXIgZ2V0Rmlyc3RCcm93c2VyTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbmF2ID0gd2luZG93Lm5hdmlnYXRvcixcclxuICAgICAgICBicm93c2VyTGFuZ3VhZ2VQcm9wZXJ0eUtleXMgPSBbJ2xhbmd1YWdlJywgJ2Jyb3dzZXJMYW5ndWFnZScsICdzeXN0ZW1MYW5ndWFnZScsICd1c2VyTGFuZ3VhZ2UnXSxcclxuICAgICAgICBpLFxyXG4gICAgICAgIGxhbmd1YWdlO1xyXG5cclxuICAgIC8vIHN1cHBvcnQgZm9yIEhUTUwgNS4xIFwibmF2aWdhdG9yLmxhbmd1YWdlc1wiXHJcbiAgICBpZiAoYW5ndWxhci5pc0FycmF5KG5hdi5sYW5ndWFnZXMpKSB7XHJcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBuYXYubGFuZ3VhZ2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGFuZ3VhZ2UgPSBuYXYubGFuZ3VhZ2VzW2ldO1xyXG4gICAgICAgIGlmIChsYW5ndWFnZSAmJiBsYW5ndWFnZS5sZW5ndGgpIHtcclxuICAgICAgICAgIHJldHVybiBsYW5ndWFnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBzdXBwb3J0IGZvciBvdGhlciB3ZWxsIGtub3duIHByb3BlcnRpZXMgaW4gYnJvd3NlcnNcclxuICAgIGZvciAoaSA9IDA7IGkgPCBicm93c2VyTGFuZ3VhZ2VQcm9wZXJ0eUtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbGFuZ3VhZ2UgPSBuYXZbYnJvd3Nlckxhbmd1YWdlUHJvcGVydHlLZXlzW2ldXTtcclxuICAgICAgaWYgKGxhbmd1YWdlICYmIGxhbmd1YWdlLmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybiBsYW5ndWFnZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH07XHJcbiAgZ2V0Rmlyc3RCcm93c2VyTGFuZ3VhZ2UuZGlzcGxheU5hbWUgPSAnYW5ndWxhci10cmFuc2xhdGUvc2VydmljZTogZ2V0Rmlyc3RCcm93c2VyTGFuZ3VhZ2UnO1xyXG5cclxuICAvLyB0cmllcyB0byBkZXRlcm1pbmUgdGhlIGJyb3dzZXJzIGxvY2FsZVxyXG4gIHZhciBnZXRMb2NhbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gKGdldEZpcnN0QnJvd3Nlckxhbmd1YWdlKCkgfHwgJycpLnNwbGl0KCctJykuam9pbignXycpO1xyXG4gIH07XHJcbiAgZ2V0TG9jYWxlLmRpc3BsYXlOYW1lID0gJ2FuZ3VsYXItdHJhbnNsYXRlL3NlcnZpY2U6IGdldExvY2FsZSc7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuYW1lIGluZGV4T2ZcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogaW5kZXhPZiBwb2x5ZmlsbC4gS2luZGEgc29ydGEuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge2FycmF5fSBhcnJheSBBcnJheSB0byBzZWFyY2ggaW4uXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlYXJjaEVsZW1lbnQgRWxlbWVudCB0byBzZWFyY2ggZm9yLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge2ludH0gSW5kZXggb2Ygc2VhcmNoIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgdmFyIGluZGV4T2YgPSBmdW5jdGlvbihhcnJheSwgc2VhcmNoRWxlbWVudCkge1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgIGlmIChhcnJheVtpXSA9PT0gc2VhcmNoRWxlbWVudCkge1xyXG4gICAgICAgIHJldHVybiBpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gLTE7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5hbWUgdHJpbVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiB0cmltIHBvbHlmaWxsXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgc3RyaW5nIHN0cmlwcGVkIG9mIHdoaXRlc3BhY2UgZnJvbSBib3RoIGVuZHNcclxuICAgKi9cclxuICB2YXIgdHJpbSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xyXG4gIH07XHJcblxyXG4gIHZhciBuZWdvdGlhdGVMb2NhbGUgPSBmdW5jdGlvbiAocHJlZmVycmVkKSB7XHJcblxyXG4gICAgdmFyIGF2YWlsID0gW10sXHJcbiAgICAgICAgbG9jYWxlID0gYW5ndWxhci5sb3dlcmNhc2UocHJlZmVycmVkKSxcclxuICAgICAgICBpID0gMCxcclxuICAgICAgICBuID0gJGF2YWlsYWJsZUxhbmd1YWdlS2V5cy5sZW5ndGg7XHJcblxyXG4gICAgZm9yICg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgYXZhaWwucHVzaChhbmd1bGFyLmxvd2VyY2FzZSgkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzW2ldKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGluZGV4T2YoYXZhaWwsIGxvY2FsZSkgPiAtMSkge1xyXG4gICAgICByZXR1cm4gcHJlZmVycmVkO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgkbGFuZ3VhZ2VLZXlBbGlhc2VzKSB7XHJcbiAgICAgIHZhciBhbGlhcztcclxuICAgICAgZm9yICh2YXIgbGFuZ0tleUFsaWFzIGluICRsYW5ndWFnZUtleUFsaWFzZXMpIHtcclxuICAgICAgICB2YXIgaGFzV2lsZGNhcmRLZXkgPSBmYWxzZTtcclxuICAgICAgICB2YXIgaGFzRXhhY3RLZXkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoJGxhbmd1YWdlS2V5QWxpYXNlcywgbGFuZ0tleUFsaWFzKSAmJlxyXG4gICAgICAgICAgYW5ndWxhci5sb3dlcmNhc2UobGFuZ0tleUFsaWFzKSA9PT0gYW5ndWxhci5sb3dlcmNhc2UocHJlZmVycmVkKTtcclxuXHJcbiAgICAgICAgaWYgKGxhbmdLZXlBbGlhcy5zbGljZSgtMSkgPT09ICcqJykge1xyXG4gICAgICAgICAgaGFzV2lsZGNhcmRLZXkgPSBsYW5nS2V5QWxpYXMuc2xpY2UoMCwgLTEpID09PSBwcmVmZXJyZWQuc2xpY2UoMCwgbGFuZ0tleUFsaWFzLmxlbmd0aC0xKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGhhc0V4YWN0S2V5IHx8IGhhc1dpbGRjYXJkS2V5KSB7XHJcbiAgICAgICAgICBhbGlhcyA9ICRsYW5ndWFnZUtleUFsaWFzZXNbbGFuZ0tleUFsaWFzXTtcclxuICAgICAgICAgIGlmIChpbmRleE9mKGF2YWlsLCBhbmd1bGFyLmxvd2VyY2FzZShhbGlhcykpID4gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFsaWFzO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciBwYXJ0cyA9IHByZWZlcnJlZC5zcGxpdCgnXycpO1xyXG5cclxuICAgIGlmIChwYXJ0cy5sZW5ndGggPiAxICYmIGluZGV4T2YoYXZhaWwsIGFuZ3VsYXIubG93ZXJjYXNlKHBhcnRzWzBdKSkgPiAtMSkge1xyXG4gICAgICByZXR1cm4gcGFydHNbMF07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgZXZlcnl0aGluZyBmYWlscywganVzdCByZXR1cm4gdGhlIHByZWZlcnJlZCwgdW5jaGFuZ2VkLlxyXG4gICAgcmV0dXJuIHByZWZlcnJlZDtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN0cmFuc2xhdGlvbnNcclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFJlZ2lzdGVycyBhIG5ldyB0cmFuc2xhdGlvbiB0YWJsZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2Uga2V5LlxyXG4gICAqXHJcbiAgICogVG8gcmVnaXN0ZXIgYSB0cmFuc2xhdGlvbiB0YWJsZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UsIHBhc3MgYSBkZWZpbmVkIGxhbmd1YWdlXHJcbiAgICoga2V5IGFzIGZpcnN0IHBhcmFtZXRlci5cclxuICAgKlxyXG4gICAqIDxwcmU+XHJcbiAgICogIC8vIHJlZ2lzdGVyIHRyYW5zbGF0aW9uIHRhYmxlIGZvciBsYW5ndWFnZTogJ2RlX0RFJ1xyXG4gICAqICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdkZV9ERScsIHtcclxuICAgKiAgICAnR1JFRVRJTkcnOiAnSGFsbG8gV2VsdCEnXHJcbiAgICogIH0pO1xyXG4gICAqXHJcbiAgICogIC8vIHJlZ2lzdGVyIGFub3RoZXIgb25lXHJcbiAgICogICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuX1VTJywge1xyXG4gICAqICAgICdHUkVFVElORyc6ICdIZWxsbyB3b3JsZCEnXHJcbiAgICogIH0pO1xyXG4gICAqIDwvcHJlPlxyXG4gICAqXHJcbiAgICogV2hlbiByZWdpc3RlcmluZyBtdWx0aXBsZSB0cmFuc2xhdGlvbiB0YWJsZXMgZm9yIGZvciB0aGUgc2FtZSBsYW5ndWFnZSBrZXksXHJcbiAgICogdGhlIGFjdHVhbCB0cmFuc2xhdGlvbiB0YWJsZSBnZXRzIGV4dGVuZGVkLiBUaGlzIGFsbG93cyB5b3UgdG8gZGVmaW5lIG1vZHVsZVxyXG4gICAqIHNwZWNpZmljIHRyYW5zbGF0aW9uIHdoaWNoIG9ubHkgZ2V0IGFkZGVkLCBvbmNlIGEgc3BlY2lmaWMgbW9kdWxlIGlzIGxvYWRlZCBpblxyXG4gICAqIHlvdXIgYXBwLlxyXG4gICAqXHJcbiAgICogSW52b2tpbmcgdGhpcyBtZXRob2Qgd2l0aCBubyBhcmd1bWVudHMgcmV0dXJucyB0aGUgdHJhbnNsYXRpb24gdGFibGUgd2hpY2ggd2FzXHJcbiAgICogcmVnaXN0ZXJlZCB3aXRoIG5vIGxhbmd1YWdlIGtleS4gSW52b2tpbmcgaXQgd2l0aCBhIGxhbmd1YWdlIGtleSByZXR1cm5zIHRoZVxyXG4gICAqIHJlbGF0ZWQgdHJhbnNsYXRpb24gdGFibGUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEEgbGFuZ3VhZ2Uga2V5LlxyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSB0cmFuc2xhdGlvblRhYmxlIEEgcGxhaW4gb2xkIEphdmFTY3JpcHQgb2JqZWN0IHRoYXQgcmVwcmVzZW50cyBhIHRyYW5zbGF0aW9uIHRhYmxlLlxyXG4gICAqXHJcbiAgICovXHJcbiAgdmFyIHRyYW5zbGF0aW9ucyA9IGZ1bmN0aW9uIChsYW5nS2V5LCB0cmFuc2xhdGlvblRhYmxlKSB7XHJcblxyXG4gICAgaWYgKCFsYW5nS2V5ICYmICF0cmFuc2xhdGlvblRhYmxlKSB7XHJcbiAgICAgIHJldHVybiAkdHJhbnNsYXRpb25UYWJsZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobGFuZ0tleSAmJiAhdHJhbnNsYXRpb25UYWJsZSkge1xyXG4gICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhsYW5nS2V5KSkge1xyXG4gICAgICAgIHJldHVybiAkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKCFhbmd1bGFyLmlzT2JqZWN0KCR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldKSkge1xyXG4gICAgICAgICR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldID0ge307XHJcbiAgICAgIH1cclxuICAgICAgYW5ndWxhci5leHRlbmQoJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0sIGZsYXRPYmplY3QodHJhbnNsYXRpb25UYWJsZSkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy50cmFuc2xhdGlvbnMgPSB0cmFuc2xhdGlvbnM7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2Nsb2FrQ2xhc3NOYW1lXHJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIExldCdzIHlvdSBjaGFuZ2UgdGhlIGNsYXNzIG5hbWUgZm9yIGB0cmFuc2xhdGUtY2xvYWtgIGRpcmVjdGl2ZS5cclxuICAgKiBEZWZhdWx0IGNsYXNzIG5hbWUgaXMgYHRyYW5zbGF0ZS1jbG9ha2AuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSB0cmFuc2xhdGUtY2xvYWsgY2xhc3MgbmFtZVxyXG4gICAqL1xyXG4gIHRoaXMuY2xvYWtDbGFzc05hbWUgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgaWYgKCFuYW1lKSB7XHJcbiAgICAgIHJldHVybiAkY2xvYWtDbGFzc05hbWU7XHJcbiAgICB9XHJcbiAgICAkY2xvYWtDbGFzc05hbWUgPSBuYW1lO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5hbWUgZmxhdE9iamVjdFxyXG4gICAqIEBwcml2YXRlXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBGbGF0cyBhbiBvYmplY3QuIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBmbGF0dGVuIGdpdmVuIHRyYW5zbGF0aW9uIGRhdGEgd2l0aFxyXG4gICAqIG5hbWVzcGFjZXMsIHNvIHRoZXkgYXJlIGxhdGVyIGFjY2Vzc2libGUgdmlhIGRvdCBub3RhdGlvbi5cclxuICAgKi9cclxuICB2YXIgZmxhdE9iamVjdCA9IGZ1bmN0aW9uIChkYXRhLCBwYXRoLCByZXN1bHQsIHByZXZLZXkpIHtcclxuICAgIHZhciBrZXksIGtleVdpdGhQYXRoLCBrZXlXaXRoU2hvcnRQYXRoLCB2YWw7XHJcblxyXG4gICAgaWYgKCFwYXRoKSB7XHJcbiAgICAgIHBhdGggPSBbXTtcclxuICAgIH1cclxuICAgIGlmICghcmVzdWx0KSB7XHJcbiAgICAgIHJlc3VsdCA9IHt9O1xyXG4gICAgfVxyXG4gICAgZm9yIChrZXkgaW4gZGF0YSkge1xyXG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpKSB7XHJcbiAgICAgICAgY29udGludWU7XHJcbiAgICAgIH1cclxuICAgICAgdmFsID0gZGF0YVtrZXldO1xyXG4gICAgICBpZiAoYW5ndWxhci5pc09iamVjdCh2YWwpKSB7XHJcbiAgICAgICAgZmxhdE9iamVjdCh2YWwsIHBhdGguY29uY2F0KGtleSksIHJlc3VsdCwga2V5KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBrZXlXaXRoUGF0aCA9IHBhdGgubGVuZ3RoID8gKCcnICsgcGF0aC5qb2luKE5FU1RFRF9PQkpFQ1RfREVMSU1JVEVSKSArIE5FU1RFRF9PQkpFQ1RfREVMSU1JVEVSICsga2V5KSA6IGtleTtcclxuICAgICAgICBpZihwYXRoLmxlbmd0aCAmJiBrZXkgPT09IHByZXZLZXkpe1xyXG4gICAgICAgICAgLy8gQ3JlYXRlIHNob3J0Y3V0IHBhdGggKGZvby5iYXIgPT0gZm9vLmJhci5iYXIpXHJcbiAgICAgICAgICBrZXlXaXRoU2hvcnRQYXRoID0gJycgKyBwYXRoLmpvaW4oTkVTVEVEX09CSkVDVF9ERUxJTUlURVIpO1xyXG4gICAgICAgICAgLy8gTGluayBpdCB0byBvcmlnaW5hbCBwYXRoXHJcbiAgICAgICAgICByZXN1bHRba2V5V2l0aFNob3J0UGF0aF0gPSAnQDonICsga2V5V2l0aFBhdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlc3VsdFtrZXlXaXRoUGF0aF0gPSB2YWw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjYWRkSW50ZXJwb2xhdGlvblxyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQWRkcyBpbnRlcnBvbGF0aW9uIHNlcnZpY2VzIHRvIGFuZ3VsYXItdHJhbnNsYXRlLCBzbyBpdCBjYW4gbWFuYWdlIHRoZW0uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge29iamVjdH0gZmFjdG9yeSBJbnRlcnBvbGF0aW9uIHNlcnZpY2UgZmFjdG9yeVxyXG4gICAqL1xyXG4gIHRoaXMuYWRkSW50ZXJwb2xhdGlvbiA9IGZ1bmN0aW9uIChmYWN0b3J5KSB7XHJcbiAgICAkaW50ZXJwb2xhdG9yRmFjdG9yaWVzLnB1c2goZmFjdG9yeSk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VNZXNzYWdlRm9ybWF0SW50ZXJwb2xhdGlvblxyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGludGVycG9sYXRpb24gZnVuY3Rpb25hbGl0eSBvZiBtZXNzYWdlZm9ybWF0LmpzLlxyXG4gICAqIFRoaXMgaXMgdXNlZnVsIHdoZW4gaGF2aW5nIGhpZ2ggbGV2ZWwgcGx1cmFsaXphdGlvbiBhbmQgZ2VuZGVyIHNlbGVjdGlvbi5cclxuICAgKi9cclxuICB0aGlzLnVzZU1lc3NhZ2VGb3JtYXRJbnRlcnBvbGF0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudXNlSW50ZXJwb2xhdGlvbignJHRyYW5zbGF0ZU1lc3NhZ2VGb3JtYXRJbnRlcnBvbGF0aW9uJyk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlSW50ZXJwb2xhdGlvblxyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgd2hpY2ggaW50ZXJwb2xhdGlvbiBzdHlsZSB0byB1c2UgYXMgZGVmYXVsdCwgYXBwbGljYXRpb24td2lkZS5cclxuICAgKiBTaW1wbHkgcGFzcyBhIGZhY3Rvcnkvc2VydmljZSBuYW1lLiBUaGUgaW50ZXJwb2xhdGlvbiBzZXJ2aWNlIGhhcyB0byBpbXBsZW1lbnRcclxuICAgKiB0aGUgY29ycmVjdCBpbnRlcmZhY2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFjdG9yeSBJbnRlcnBvbGF0aW9uIHNlcnZpY2UgbmFtZS5cclxuICAgKi9cclxuICB0aGlzLnVzZUludGVycG9sYXRpb24gPSBmdW5jdGlvbiAoZmFjdG9yeSkge1xyXG4gICAgJGludGVycG9sYXRpb25GYWN0b3J5ID0gZmFjdG9yeTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVNhbml0aXplU3RyYXRlZ3lcclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNpbXBseSBzZXRzIGEgc2FuaXRhdGlvbiBzdHJhdGVneSB0eXBlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFN0cmF0ZWd5IHR5cGUuXHJcbiAgICovXHJcbiAgdGhpcy51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICRpbnRlcnBvbGF0aW9uU2FuaXRpemF0aW9uU3RyYXRlZ3kgPSB2YWx1ZTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gLyoqXHJcbiAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjcHJlZmVycmVkTGFuZ3VhZ2VcclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRlbGxzIHRoZSBtb2R1bGUgd2hpY2ggb2YgdGhlIHJlZ2lzdGVyZWQgdHJhbnNsYXRpb24gdGFibGVzIHRvIHVzZSBmb3IgdHJhbnNsYXRpb25cclxuICAgKiBhdCBpbml0aWFsIHN0YXJ0dXAgYnkgcGFzc2luZyBhIGxhbmd1YWdlIGtleS4gU2ltaWxhciB0byBgJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZWBcclxuICAgKiBvbmx5IHRoYXQgaXQgc2F5cyB3aGljaCBsYW5ndWFnZSB0byAqKnByZWZlcioqLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmdLZXkgQSBsYW5ndWFnZSBrZXkuXHJcbiAgICpcclxuICAgKi9cclxuICB0aGlzLnByZWZlcnJlZExhbmd1YWdlID0gZnVuY3Rpb24obGFuZ0tleSkge1xyXG4gICAgc2V0dXBQcmVmZXJyZWRMYW5ndWFnZShsYW5nS2V5KTtcclxuICAgIHJldHVybiB0aGlzO1xyXG5cclxuICB9O1xyXG4gIHZhciBzZXR1cFByZWZlcnJlZExhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcclxuICAgIGlmIChsYW5nS2V5KSB7XHJcbiAgICAgICRwcmVmZXJyZWRMYW5ndWFnZSA9IGxhbmdLZXk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJHByZWZlcnJlZExhbmd1YWdlO1xyXG4gIH07XHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvclxyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogU2V0cyBhbiBpbmRpY2F0b3Igd2hpY2ggaXMgdXNlZCB3aGVuIGEgdHJhbnNsYXRpb24gaXNuJ3QgZm91bmQuIEUuZy4gd2hlblxyXG4gICAqIHNldHRpbmcgdGhlIGluZGljYXRvciBhcyAnWCcgYW5kIG9uZSB0cmllcyB0byB0cmFuc2xhdGUgYSB0cmFuc2xhdGlvbiBpZFxyXG4gICAqIGNhbGxlZCBgTk9UX0ZPVU5EYCwgdGhpcyB3aWxsIHJlc3VsdCBpbiBgWCBOT1RfRk9VTkQgWGAuXHJcbiAgICpcclxuICAgKiBJbnRlcm5hbGx5IHRoaXMgbWV0aG9kcyBzZXRzIGEgbGVmdCBpbmRpY2F0b3IgYW5kIGEgcmlnaHQgaW5kaWNhdG9yIHVzaW5nXHJcbiAgICogYCR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdCgpYCBhbmRcclxuICAgKiBgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JSaWdodCgpYC5cclxuICAgKlxyXG4gICAqICoqTm90ZSoqOiBUaGVzZSBtZXRob2RzIGF1dG9tYXRpY2FsbHkgYWRkIGEgd2hpdGVzcGFjZSBiZXR3ZWVuIHRoZSBpbmRpY2F0b3JzXHJcbiAgICogYW5kIHRoZSB0cmFuc2xhdGlvbiBpZC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbmRpY2F0b3IgQW4gaW5kaWNhdG9yLCBjb3VsZCBiZSBhbnkgc3RyaW5nLlxyXG4gICAqL1xyXG4gIHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvciA9IGZ1bmN0aW9uIChpbmRpY2F0b3IpIHtcclxuICAgIHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnQoaW5kaWNhdG9yKTtcclxuICAgIHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvclJpZ2h0KGluZGljYXRvcik7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3RyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JMZWZ0XHJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTZXRzIGFuIGluZGljYXRvciB3aGljaCBpcyB1c2VkIHdoZW4gYSB0cmFuc2xhdGlvbiBpc24ndCBmb3VuZCBsZWZ0IHRvIHRoZVxyXG4gICAqIHRyYW5zbGF0aW9uIGlkLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGluZGljYXRvciBBbiBpbmRpY2F0b3IuXHJcbiAgICovXHJcbiAgdGhpcy50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdCA9IGZ1bmN0aW9uIChpbmRpY2F0b3IpIHtcclxuICAgIGlmICghaW5kaWNhdG9yKSB7XHJcbiAgICAgIHJldHVybiAkbm90Rm91bmRJbmRpY2F0b3JMZWZ0O1xyXG4gICAgfVxyXG4gICAgJG5vdEZvdW5kSW5kaWNhdG9yTGVmdCA9IGluZGljYXRvcjtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnRcclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNldHMgYW4gaW5kaWNhdG9yIHdoaWNoIGlzIHVzZWQgd2hlbiBhIHRyYW5zbGF0aW9uIGlzbid0IGZvdW5kIHJpZ2h0IHRvIHRoZVxyXG4gICAqIHRyYW5zbGF0aW9uIGlkLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGluZGljYXRvciBBbiBpbmRpY2F0b3IuXHJcbiAgICovXHJcbiAgdGhpcy50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yUmlnaHQgPSBmdW5jdGlvbiAoaW5kaWNhdG9yKSB7XHJcbiAgICBpZiAoIWluZGljYXRvcikge1xyXG4gICAgICByZXR1cm4gJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQ7XHJcbiAgICB9XHJcbiAgICAkbm90Rm91bmRJbmRpY2F0b3JSaWdodCA9IGluZGljYXRvcjtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2ZhbGxiYWNrTGFuZ3VhZ2VcclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRlbGxzIHRoZSBtb2R1bGUgd2hpY2ggb2YgdGhlIHJlZ2lzdGVyZWQgdHJhbnNsYXRpb24gdGFibGVzIHRvIHVzZSB3aGVuIG1pc3NpbmcgdHJhbnNsYXRpb25zXHJcbiAgICogYXQgaW5pdGlhbCBzdGFydHVwIGJ5IHBhc3NpbmcgYSBsYW5ndWFnZSBrZXkuIFNpbWlsYXIgdG8gYCR0cmFuc2xhdGVQcm92aWRlciN1c2VgXHJcbiAgICogb25seSB0aGF0IGl0IHNheXMgd2hpY2ggbGFuZ3VhZ2UgdG8gKipmYWxsYmFjayoqLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd8fGFycmF5fSBsYW5nS2V5IEEgbGFuZ3VhZ2Uga2V5LlxyXG4gICAqXHJcbiAgICovXHJcbiAgdGhpcy5mYWxsYmFja0xhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcclxuICAgIGZhbGxiYWNrU3RhY2sobGFuZ0tleSk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICB2YXIgZmFsbGJhY2tTdGFjayA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XHJcbiAgICBpZiAobGFuZ0tleSkge1xyXG4gICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhsYW5nS2V5KSkge1xyXG4gICAgICAgICRmYWxsYmFja1dhc1N0cmluZyA9IHRydWU7XHJcbiAgICAgICAgJGZhbGxiYWNrTGFuZ3VhZ2UgPSBbIGxhbmdLZXkgXTtcclxuICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzQXJyYXkobGFuZ0tleSkpIHtcclxuICAgICAgICAkZmFsbGJhY2tXYXNTdHJpbmcgPSBmYWxzZTtcclxuICAgICAgICAkZmFsbGJhY2tMYW5ndWFnZSA9IGxhbmdLZXk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoJHByZWZlcnJlZExhbmd1YWdlKSAgJiYgaW5kZXhPZigkZmFsbGJhY2tMYW5ndWFnZSwgJHByZWZlcnJlZExhbmd1YWdlKSA8IDApIHtcclxuICAgICAgICAkZmFsbGJhY2tMYW5ndWFnZS5wdXNoKCRwcmVmZXJyZWRMYW5ndWFnZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKCRmYWxsYmFja1dhc1N0cmluZykge1xyXG4gICAgICAgIHJldHVybiAkZmFsbGJhY2tMYW5ndWFnZVswXTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gJGZhbGxiYWNrTGFuZ3VhZ2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VcclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNldCB3aGljaCB0cmFuc2xhdGlvbiB0YWJsZSB0byB1c2UgZm9yIHRyYW5zbGF0aW9uIGJ5IGdpdmVuIGxhbmd1YWdlIGtleS4gV2hlblxyXG4gICAqIHRyeWluZyB0byAndXNlJyBhIGxhbmd1YWdlIHdoaWNoIGlzbid0IHByb3ZpZGVkLCBpdCdsbCB0aHJvdyBhbiBlcnJvci5cclxuICAgKlxyXG4gICAqIFlvdSBhY3R1YWxseSBkb24ndCBoYXZlIHRvIHVzZSB0aGlzIG1ldGhvZCBzaW5jZSBgJHRyYW5zbGF0ZVByb3ZpZGVyI3ByZWZlcnJlZExhbmd1YWdlYFxyXG4gICAqIGRvZXMgdGhlIGpvYiB0b28uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ0tleSBBIGxhbmd1YWdlIGtleS5cclxuICAgKi9cclxuICB0aGlzLnVzZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XHJcbiAgICBpZiAobGFuZ0tleSkge1xyXG4gICAgICBpZiAoISR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldICYmICghJGxvYWRlckZhY3RvcnkpKSB7XHJcbiAgICAgICAgLy8gb25seSB0aHJvdyBhbiBlcnJvciwgd2hlbiBub3QgbG9hZGluZyB0cmFuc2xhdGlvbiBkYXRhIGFzeW5jaHJvbm91c2x5XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJHRyYW5zbGF0ZVByb3ZpZGVyIGNvdWxkbid0IGZpbmQgdHJhbnNsYXRpb25UYWJsZSBmb3IgbGFuZ0tleTogJ1wiICsgbGFuZ0tleSArIFwiJ1wiKTtcclxuICAgICAgfVxyXG4gICAgICAkdXNlcyA9IGxhbmdLZXk7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICR1c2VzO1xyXG4gIH07XHJcblxyXG4gLyoqXHJcbiAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjc3RvcmFnZUtleVxyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGVsbHMgdGhlIG1vZHVsZSB3aGljaCBrZXkgbXVzdCByZXByZXNlbnQgdGhlIGNob29zZWQgbGFuZ3VhZ2UgYnkgYSB1c2VyIGluIHRoZSBzdG9yYWdlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBBIGtleSBmb3IgdGhlIHN0b3JhZ2UuXHJcbiAgICovXHJcbiAgdmFyIHN0b3JhZ2VLZXkgPSBmdW5jdGlvbihrZXkpIHtcclxuICAgIGlmICgha2V5KSB7XHJcbiAgICAgIGlmICgkc3RvcmFnZVByZWZpeCkge1xyXG4gICAgICAgIHJldHVybiAkc3RvcmFnZVByZWZpeCArICRzdG9yYWdlS2V5O1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiAkc3RvcmFnZUtleTtcclxuICAgIH1cclxuICAgICRzdG9yYWdlS2V5ID0ga2V5O1xyXG4gIH07XHJcblxyXG4gIHRoaXMuc3RvcmFnZUtleSA9IHN0b3JhZ2VLZXk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVVybExvYWRlclxyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGAkdHJhbnNsYXRlVXJsTG9hZGVyYCBleHRlbnNpb24gc2VydmljZSBhcyBsb2FkZXIuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFVybFxyXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gICAqL1xyXG4gIHRoaXMudXNlVXJsTG9hZGVyID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xyXG4gICAgcmV0dXJuIHRoaXMudXNlTG9hZGVyKCckdHJhbnNsYXRlVXJsTG9hZGVyJywgYW5ndWxhci5leHRlbmQoeyB1cmw6IHVybCB9LCBvcHRpb25zKSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlU3RhdGljRmlsZXNMb2FkZXJcclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBgJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyYCBleHRlbnNpb24gc2VydmljZSBhcyBsb2FkZXIuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcclxuICAgKi9cclxuICB0aGlzLnVzZVN0YXRpY0ZpbGVzTG9hZGVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiB0aGlzLnVzZUxvYWRlcignJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyJywgb3B0aW9ucyk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTG9hZGVyXHJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYW55IG90aGVyIHNlcnZpY2UgYXMgbG9hZGVyLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxvYWRlckZhY3RvcnkgRmFjdG9yeSBuYW1lIHRvIHVzZVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gICAqL1xyXG4gIHRoaXMudXNlTG9hZGVyID0gZnVuY3Rpb24gKGxvYWRlckZhY3RvcnksIG9wdGlvbnMpIHtcclxuICAgICRsb2FkZXJGYWN0b3J5ID0gbG9hZGVyRmFjdG9yeTtcclxuICAgICRsb2FkZXJPcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZUxvY2FsU3RvcmFnZVxyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGAkdHJhbnNsYXRlTG9jYWxTdG9yYWdlYCBzZXJ2aWNlIGFzIHN0b3JhZ2UgbGF5ZXIuXHJcbiAgICpcclxuICAgKi9cclxuICB0aGlzLnVzZUxvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB0aGlzLnVzZVN0b3JhZ2UoJyR0cmFuc2xhdGVMb2NhbFN0b3JhZ2UnKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VDb29raWVTdG9yYWdlXHJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYCR0cmFuc2xhdGVDb29raWVTdG9yYWdlYCBzZXJ2aWNlIGFzIHN0b3JhZ2UgbGF5ZXIuXHJcbiAgICovXHJcbiAgdGhpcy51c2VDb29raWVTdG9yYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudXNlU3RvcmFnZSgnJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2UnKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VTdG9yYWdlXHJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgY3VzdG9tIHNlcnZpY2UgYXMgc3RvcmFnZSBsYXllci5cclxuICAgKi9cclxuICB0aGlzLnVzZVN0b3JhZ2UgPSBmdW5jdGlvbiAoc3RvcmFnZUZhY3RvcnkpIHtcclxuICAgICRzdG9yYWdlRmFjdG9yeSA9IHN0b3JhZ2VGYWN0b3J5O1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjc3RvcmFnZVByZWZpeFxyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogU2V0cyBwcmVmaXggZm9yIHN0b3JhZ2Uga2V5LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByZWZpeCBTdG9yYWdlIGtleSBwcmVmaXhcclxuICAgKi9cclxuICB0aGlzLnN0b3JhZ2VQcmVmaXggPSBmdW5jdGlvbiAocHJlZml4KSB7XHJcbiAgICBpZiAoIXByZWZpeCkge1xyXG4gICAgICByZXR1cm4gcHJlZml4O1xyXG4gICAgfVxyXG4gICAgJHN0b3JhZ2VQcmVmaXggPSBwcmVmaXg7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyTG9nXHJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYnVpbHQtaW4gbG9nIGhhbmRsZXIgd2hlbiB0cnlpbmcgdG8gdHJhbnNsYXRlXHJcbiAgICogYSB0cmFuc2xhdGlvbiBJZCB3aGljaCBkb2Vzbid0IGV4aXN0LlxyXG4gICAqXHJcbiAgICogVGhpcyBpcyBhY3R1YWxseSBhIHNob3J0Y3V0IG1ldGhvZCBmb3IgYHVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIoKWAuXHJcbiAgICpcclxuICAgKi9cclxuICB0aGlzLnVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy51c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyKCckdHJhbnNsYXRlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZycpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJcclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEV4cGVjdHMgYSBmYWN0b3J5IG5hbWUgd2hpY2ggbGF0ZXIgZ2V0cyBpbnN0YW50aWF0ZWQgd2l0aCBgJGluamVjdG9yYC5cclxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgdXNlZCB0byB0ZWxsIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBhIGN1c3RvbVxyXG4gICAqIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIuIEp1c3QgYnVpbGQgYSBmYWN0b3J5IHdoaWNoIHJldHVybnMgYSBmdW5jdGlvblxyXG4gICAqIGFuZCBleHBlY3RzIGEgdHJhbnNsYXRpb24gaWQgYXMgYXJndW1lbnQuXHJcbiAgICpcclxuICAgKiBFeGFtcGxlOlxyXG4gICAqIDxwcmU+XHJcbiAgICogIGFwcC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xyXG4gICAqICAgICR0cmFuc2xhdGVQcm92aWRlci51c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyKCdjdXN0b21IYW5kbGVyJyk7XHJcbiAgICogIH0pO1xyXG4gICAqXHJcbiAgICogIGFwcC5mYWN0b3J5KCdjdXN0b21IYW5kbGVyJywgZnVuY3Rpb24gKGRlcDEsIGRlcDIpIHtcclxuICAgKiAgICByZXR1cm4gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcclxuICAgKiAgICAgIC8vIHNvbWV0aGluZyB3aXRoIHRyYW5zbGF0aW9uSWQgYW5kIGRlcDEgYW5kIGRlcDJcclxuICAgKiAgICB9O1xyXG4gICAqICB9KTtcclxuICAgKiA8L3ByZT5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWN0b3J5IEZhY3RvcnkgbmFtZVxyXG4gICAqL1xyXG4gIHRoaXMudXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlciA9IGZ1bmN0aW9uIChmYWN0b3J5KSB7XHJcbiAgICAkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgPSBmYWN0b3J5O1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlUG9zdENvbXBpbGluZ1xyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogSWYgcG9zdCBjb21waWxpbmcgaXMgZW5hYmxlZCwgYWxsIHRyYW5zbGF0ZWQgdmFsdWVzIHdpbGwgYmUgcHJvY2Vzc2VkXHJcbiAgICogYWdhaW4gd2l0aCBBbmd1bGFySlMnICRjb21waWxlLlxyXG4gICAqXHJcbiAgICogRXhhbXBsZTpcclxuICAgKiA8cHJlPlxyXG4gICAqICBhcHAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcclxuICAgKiAgICAkdHJhbnNsYXRlUHJvdmlkZXIudXNlUG9zdENvbXBpbGluZyh0cnVlKTtcclxuICAgKiAgfSk7XHJcbiAgICogPC9wcmU+XHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFjdG9yeSBGYWN0b3J5IG5hbWVcclxuICAgKi9cclxuICB0aGlzLnVzZVBvc3RDb21waWxpbmcgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICRwb3N0Q29tcGlsaW5nRW5hYmxlZCA9ICEoIXZhbHVlKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2RldGVybWluZVByZWZlcnJlZExhbmd1YWdlXHJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB0cnkgdG8gZGV0ZXJtaW5lIG9uIGl0cyBvd24gd2hpY2ggbGFuZ3VhZ2Uga2V5XHJcbiAgICogdG8gc2V0IGFzIHByZWZlcnJlZCBsYW5ndWFnZS4gV2hlbiBgZm5gIGlzIGdpdmVuLCBhbmd1bGFyLXRyYW5zbGF0ZSB1c2VzIGl0XHJcbiAgICogdG8gZGV0ZXJtaW5lIGEgbGFuZ3VhZ2Uga2V5LCBvdGhlcndpc2UgaXQgdXNlcyB0aGUgYnVpbHQtaW4gYGdldExvY2FsZSgpYFxyXG4gICAqIG1ldGhvZC5cclxuICAgKlxyXG4gICAqIFRoZSBgZ2V0TG9jYWxlKClgIHJldHVybnMgYSBsYW5ndWFnZSBrZXkgaW4gdGhlIGZvcm1hdCBgW2xhbmddX1tjb3VudHJ5XWAgb3JcclxuICAgKiBgW2xhbmddYCBkZXBlbmRpbmcgb24gd2hhdCB0aGUgYnJvd3NlciBwcm92aWRlcy5cclxuICAgKlxyXG4gICAqIFVzZSB0aGlzIG1ldGhvZCBhdCB5b3VyIG93biByaXNrLCBzaW5jZSBub3QgYWxsIGJyb3dzZXJzIHJldHVybiBhIHZhbGlkXHJcbiAgICogbG9jYWxlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtvYmplY3Q9fSBmbiBGdW5jdGlvbiB0byBkZXRlcm1pbmUgYSBicm93c2VyJ3MgbG9jYWxlXHJcbiAgICovXHJcbiAgdGhpcy5kZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSA9IGZ1bmN0aW9uIChmbikge1xyXG5cclxuICAgIHZhciBsb2NhbGUgPSAoZm4gJiYgYW5ndWxhci5pc0Z1bmN0aW9uKGZuKSkgPyBmbigpIDogZ2V0TG9jYWxlKCk7XHJcblxyXG4gICAgaWYgKCEkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzLmxlbmd0aCkge1xyXG4gICAgICAkcHJlZmVycmVkTGFuZ3VhZ2UgPSBsb2NhbGU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAkcHJlZmVycmVkTGFuZ3VhZ2UgPSBuZWdvdGlhdGVMb2NhbGUobG9jYWxlKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNyZWdpc3RlckF2YWlsYWJsZUxhbmd1YWdlS2V5c1xyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogUmVnaXN0ZXJzIGEgc2V0IG9mIGxhbmd1YWdlIGtleXMgdGhlIGFwcCB3aWxsIHdvcmsgd2l0aC4gVXNlIHRoaXMgbWV0aG9kIGluXHJcbiAgICogY29tYmluYXRpb24gd2l0aFxyXG4gICAqIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNkZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSBkZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZX0uXHJcbiAgICogV2hlbiBhdmFpbGFibGUgbGFuZ3VhZ2VzIGtleXMgYXJlIHJlZ2lzdGVyZWQsIGFuZ3VsYXItdHJhbnNsYXRlXHJcbiAgICogdHJpZXMgdG8gZmluZCB0aGUgYmVzdCBmaXR0aW5nIGxhbmd1YWdlIGtleSBkZXBlbmRpbmcgb24gdGhlIGJyb3dzZXJzIGxvY2FsZSxcclxuICAgKiBjb25zaWRlcmluZyB5b3VyIGxhbmd1YWdlIGtleSBjb252ZW50aW9uLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtvYmplY3R9IGxhbmd1YWdlS2V5cyBBcnJheSBvZiBsYW5ndWFnZSBrZXlzIHRoZSB5b3VyIGFwcCB3aWxsIHVzZVxyXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gYWxpYXNlcyBBbGlhcyBtYXAuXHJcbiAgICovXHJcbiAgdGhpcy5yZWdpc3RlckF2YWlsYWJsZUxhbmd1YWdlS2V5cyA9IGZ1bmN0aW9uIChsYW5ndWFnZUtleXMsIGFsaWFzZXMpIHtcclxuICAgIGlmIChsYW5ndWFnZUtleXMpIHtcclxuICAgICAgJGF2YWlsYWJsZUxhbmd1YWdlS2V5cyA9IGxhbmd1YWdlS2V5cztcclxuICAgICAgaWYgKGFsaWFzZXMpIHtcclxuICAgICAgICAkbGFuZ3VhZ2VLZXlBbGlhc2VzID0gYWxpYXNlcztcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiAkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZUxvYWRlckNhY2hlXHJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBSZWdpc3RlcnMgYSBjYWNoZSBmb3IgaW50ZXJuYWwgJGh0dHAgYmFzZWQgbG9hZGVycy5cclxuICAgKiB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2UgZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2V9LlxyXG4gICAqIFdoZW4gZmFsc2UgdGhlIGNhY2hlIHdpbGwgYmUgZGlzYWJsZWQgKGRlZmF1bHQpLiBXaGVuIHRydWUgb3IgdW5kZWZpbmVkXHJcbiAgICogdGhlIGNhY2hlIHdpbGwgYmUgYSBkZWZhdWx0IChzZWUgJGNhY2hlRmFjdG9yeSkuIFdoZW4gYW4gb2JqZWN0IGl0IHdpbGxcclxuICAgKiBiZSB0cmVhdCBhcyBhIGNhY2hlIG9iamVjdCBpdHNlbGY6IHRoZSB1c2FnZSBpcyAkaHR0cCh7Y2FjaGU6IGNhY2hlfSlcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjYWNoZSBib29sZWFuLCBzdHJpbmcgb3IgY2FjaGUtb2JqZWN0XHJcbiAgICovXHJcbiAgdGhpcy51c2VMb2FkZXJDYWNoZSA9IGZ1bmN0aW9uIChjYWNoZSkge1xyXG4gICAgaWYgKGNhY2hlID09PSBmYWxzZSkge1xyXG4gICAgICAvLyBkaXNhYmxlIGNhY2hlXHJcbiAgICAgIGxvYWRlckNhY2hlID0gdW5kZWZpbmVkO1xyXG4gICAgfSBlbHNlIGlmIChjYWNoZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAvLyBlbmFibGUgY2FjaGUgdXNpbmcgQUpTIGRlZmF1bHRzXHJcbiAgICAgIGxvYWRlckNhY2hlID0gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mKGNhY2hlKSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgLy8gZW5hYmxlIGNhY2hlIHVzaW5nIGRlZmF1bHRcclxuICAgICAgbG9hZGVyQ2FjaGUgPSAnJHRyYW5zbGF0aW9uQ2FjaGUnO1xyXG4gICAgfSBlbHNlIGlmIChjYWNoZSkge1xyXG4gICAgICAvLyBlbmFibGUgY2FjaGUgdXNpbmcgZ2l2ZW4gb25lIChzZWUgJGNhY2hlRmFjdG9yeSlcclxuICAgICAgbG9hZGVyQ2FjaGUgPSBjYWNoZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBvYmplY3RcclxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcclxuICAgKiBAcmVxdWlyZXMgJGludGVycG9sYXRlXHJcbiAgICogQHJlcXVpcmVzICRsb2dcclxuICAgKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxyXG4gICAqIEByZXF1aXJlcyAkcVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGhlIGAkdHJhbnNsYXRlYCBzZXJ2aWNlIGlzIHRoZSBhY3R1YWwgY29yZSBvZiBhbmd1bGFyLXRyYW5zbGF0ZS4gSXQgZXhwZWN0cyBhIHRyYW5zbGF0aW9uIGlkXHJcbiAgICogYW5kIG9wdGlvbmFsIGludGVycG9sYXRlIHBhcmFtZXRlcnMgdG8gdHJhbnNsYXRlIGNvbnRlbnRzLlxyXG4gICAqXHJcbiAgICogPHByZT5cclxuICAgKiAgJHRyYW5zbGF0ZSgnSEVBRExJTkVfVEVYVCcpLnRoZW4oZnVuY3Rpb24gKHRyYW5zbGF0aW9uKSB7XHJcbiAgICogICAgJHNjb3BlLnRyYW5zbGF0ZWRUZXh0ID0gdHJhbnNsYXRpb247XHJcbiAgICogIH0pO1xyXG4gICAqIDwvcHJlPlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd8YXJyYXl9IHRyYW5zbGF0aW9uSWQgQSB0b2tlbiB3aGljaCByZXByZXNlbnRzIGEgdHJhbnNsYXRpb24gaWRcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGlzIGNhbiBiZSBvcHRpb25hbGx5IGFuIGFycmF5IG9mIHRyYW5zbGF0aW9uIGlkcyB3aGljaFxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMgdGhhdCB0aGUgZnVuY3Rpb24gcmV0dXJucyBhbiBvYmplY3Qgd2hlcmUgZWFjaCBrZXlcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcyB0aGUgdHJhbnNsYXRpb24gaWQgYW5kIHRoZSB2YWx1ZSB0aGUgdHJhbnNsYXRpb24uXHJcbiAgICogQHBhcmFtIHtvYmplY3Q9fSBpbnRlcnBvbGF0ZVBhcmFtcyBBbiBvYmplY3QgaGFzaCBmb3IgZHluYW1pYyB2YWx1ZXNcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gaW50ZXJwb2xhdGlvbklkIFRoZSBpZCBvZiB0aGUgaW50ZXJwb2xhdGlvbiB0byB1c2VcclxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBwcm9taXNlXHJcbiAgICovXHJcbiAgdGhpcy4kZ2V0ID0gW1xyXG4gICAgJyRsb2cnLFxyXG4gICAgJyRpbmplY3RvcicsXHJcbiAgICAnJHJvb3RTY29wZScsXHJcbiAgICAnJHEnLFxyXG4gICAgZnVuY3Rpb24gKCRsb2csICRpbmplY3RvciwgJHJvb3RTY29wZSwgJHEpIHtcclxuXHJcbiAgICAgIHZhciBTdG9yYWdlLFxyXG4gICAgICAgICAgZGVmYXVsdEludGVycG9sYXRvciA9ICRpbmplY3Rvci5nZXQoJGludGVycG9sYXRpb25GYWN0b3J5IHx8ICckdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24nKSxcclxuICAgICAgICAgIHBlbmRpbmdMb2FkZXIgPSBmYWxzZSxcclxuICAgICAgICAgIGludGVycG9sYXRvckhhc2hNYXAgPSB7fSxcclxuICAgICAgICAgIGxhbmdQcm9taXNlcyA9IHt9LFxyXG4gICAgICAgICAgZmFsbGJhY2tJbmRleCxcclxuICAgICAgICAgIHN0YXJ0RmFsbGJhY2tJdGVyYXRpb247XHJcblxyXG4gICAgICB2YXIgJHRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKSB7XHJcblxyXG4gICAgICAgIC8vIER1Y2sgZGV0ZWN0aW9uOiBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYW4gYXJyYXksIGEgYnVuY2ggb2YgdHJhbnNsYXRpb25zIHdhcyByZXF1ZXN0ZWQuXHJcbiAgICAgICAgLy8gVGhlIHJlc3VsdCBpcyBhbiBvYmplY3QuXHJcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheSh0cmFuc2xhdGlvbklkKSkge1xyXG4gICAgICAgICAgLy8gSW5zcGlyZWQgYnkgUS5hbGxTZXR0bGVkIGJ5IEtyaXMgS293YWxcclxuICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvcS9ibG9iL2IwZmE3Mjk4MDcxN2RjMjAyZmZjM2NiZjAzYjkzNmUxMGViYmI5ZDcvcS5qcyNMMTU1My0xNTYzXHJcbiAgICAgICAgICAvLyBUaGlzIHRyYW5zZm9ybXMgYWxsIHByb21pc2VzIHJlZ2FyZGxlc3MgcmVzb2x2ZWQgb3IgcmVqZWN0ZWRcclxuICAgICAgICAgIHZhciB0cmFuc2xhdGVBbGwgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZHMpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSB7fTsgLy8gc3RvcmluZyB0aGUgYWN0dWFsIHJlc3VsdHNcclxuICAgICAgICAgICAgdmFyIHByb21pc2VzID0gW107IC8vIHByb21pc2VzIHRvIHdhaXQgZm9yXHJcbiAgICAgICAgICAgIC8vIFdyYXBzIHRoZSBwcm9taXNlIGEpIGJlaW5nIGFsd2F5cyByZXNvbHZlZCBhbmQgYikgc3RvcmluZyB0aGUgbGluayBpZC0+dmFsdWVcclxuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgICAgICB2YXIgcmVnYXJkbGVzcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0c1t0cmFuc2xhdGlvbklkXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShbdHJhbnNsYXRpb25JZCwgdmFsdWVdKTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIC8vIHdlIGRvbid0IGNhcmUgd2hldGhlciB0aGUgcHJvbWlzZSB3YXMgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQ7IGp1c3Qgc3RvcmUgdGhlIHZhbHVlc1xyXG4gICAgICAgICAgICAgICR0cmFuc2xhdGUodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCkudGhlbihyZWdhcmRsZXNzLCByZWdhcmRsZXNzKTtcclxuICAgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGMgPSB0cmFuc2xhdGlvbklkcy5sZW5ndGg7IGkgPCBjOyBpKyspIHtcclxuICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKHRyYW5zbGF0ZSh0cmFuc2xhdGlvbklkc1tpXSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHdhaXQgZm9yIGFsbCAoaW5jbHVkaW5nIHN0b3JpbmcgdG8gcmVzdWx0cylcclxuICAgICAgICAgICAgcmV0dXJuICRxLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgLy8gcmV0dXJuIHRoZSByZXN1bHRzXHJcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHJldHVybiB0cmFuc2xhdGVBbGwodHJhbnNsYXRpb25JZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG5cclxuICAgICAgICAvLyB0cmltIG9mZiBhbnkgd2hpdGVzcGFjZVxyXG4gICAgICAgIGlmICh0cmFuc2xhdGlvbklkKSB7XHJcbiAgICAgICAgICB0cmFuc2xhdGlvbklkID0gdHJpbS5hcHBseSh0cmFuc2xhdGlvbklkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBwcm9taXNlVG9XYWl0Rm9yID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHZhciBwcm9taXNlID0gJHByZWZlcnJlZExhbmd1YWdlID9cclxuICAgICAgICAgICAgbGFuZ1Byb21pc2VzWyRwcmVmZXJyZWRMYW5ndWFnZV0gOlxyXG4gICAgICAgICAgICBsYW5nUHJvbWlzZXNbJHVzZXNdO1xyXG5cclxuICAgICAgICAgIGZhbGxiYWNrSW5kZXggPSAwO1xyXG5cclxuICAgICAgICAgIGlmICgkc3RvcmFnZUZhY3RvcnkgJiYgIXByb21pc2UpIHtcclxuICAgICAgICAgICAgLy8gbG9va3MgbGlrZSB0aGVyZSdzIG5vIHBlbmRpbmcgcHJvbWlzZSBmb3IgJHByZWZlcnJlZExhbmd1YWdlIG9yXHJcbiAgICAgICAgICAgIC8vICR1c2VzLiBNYXliZSB0aGVyZSdzIG9uZSBwZW5kaW5nIGZvciBhIGxhbmd1YWdlIHRoYXQgY29tZXMgZnJvbVxyXG4gICAgICAgICAgICAvLyBzdG9yYWdlLlxyXG4gICAgICAgICAgICB2YXIgbGFuZ0tleSA9IFN0b3JhZ2UuZ2V0KCRzdG9yYWdlS2V5KTtcclxuICAgICAgICAgICAgcHJvbWlzZSA9IGxhbmdQcm9taXNlc1tsYW5nS2V5XTtcclxuXHJcbiAgICAgICAgICAgIGlmICgkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGluZGV4T2YoJGZhbGxiYWNrTGFuZ3VhZ2UsIGxhbmdLZXkpO1xyXG4gICAgICAgICAgICAgICAgLy8gbWF5YmUgdGhlIGxhbmd1YWdlIGZyb20gc3RvcmFnZSBpcyBhbHNvIGRlZmluZWQgYXMgZmFsbGJhY2sgbGFuZ3VhZ2VcclxuICAgICAgICAgICAgICAgIC8vIHdlIGluY3JlYXNlIHRoZSBmYWxsYmFjayBsYW5ndWFnZSBpbmRleCB0byBub3Qgc2VhcmNoIGluIHRoYXQgbGFuZ3VhZ2VcclxuICAgICAgICAgICAgICAgIC8vIGFzIGZhbGxiYWNrLCBzaW5jZSBpdCdzIHByb2JhYmx5IHRoZSBmaXJzdCB1c2VkIGxhbmd1YWdlXHJcbiAgICAgICAgICAgICAgICAvLyBpbiB0aGF0IGNhc2UgdGhlIGluZGV4IHN0YXJ0cyBhZnRlciB0aGUgZmlyc3QgZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgZmFsbGJhY2tJbmRleCA9IChpbmRleCA9PT0gMCkgPyAxIDogMDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBidXQgd2UgY2FuIG1ha2Ugc3VyZSB0byBBTFdBWVMgZmFsbGJhY2sgdG8gcHJlZmVycmVkIGxhbmd1YWdlIGF0IGxlYXN0XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXhPZigkZmFsbGJhY2tMYW5ndWFnZSwgJHByZWZlcnJlZExhbmd1YWdlKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgJGZhbGxiYWNrTGFuZ3VhZ2UucHVzaCgkcHJlZmVycmVkTGFuZ3VhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgICB9KCkpO1xyXG5cclxuICAgICAgICBpZiAoIXByb21pc2VUb1dhaXRGb3IpIHtcclxuICAgICAgICAgIC8vIG5vIHByb21pc2UgdG8gd2FpdCBmb3I/IG9rYXkuIFRoZW4gdGhlcmUncyBubyBsb2FkZXIgcmVnaXN0ZXJlZFxyXG4gICAgICAgICAgLy8gbm9yIGlzIGEgb25lIHBlbmRpbmcgZm9yIGxhbmd1YWdlIHRoYXQgY29tZXMgZnJvbSBzdG9yYWdlLlxyXG4gICAgICAgICAgLy8gV2UgY2FuIGp1c3QgdHJhbnNsYXRlLlxyXG4gICAgICAgICAgZGV0ZXJtaW5lVHJhbnNsYXRpb24odHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCkudGhlbihkZWZlcnJlZC5yZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBwcm9taXNlVG9XYWl0Rm9yLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBkZXRlcm1pbmVUcmFuc2xhdGlvbih0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKS50aGVuKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XHJcbiAgICAgICAgICB9LCBkZWZlcnJlZC5yZWplY3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmFtZSBhcHBseU5vdEZvdW5kSW5kaWNhdG9yc1xyXG4gICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogQXBwbGllcyBub3QgZm91bnQgaW5kaWNhdG9ycyB0byBnaXZlbiB0cmFuc2xhdGlvbiBpZCwgaWYgbmVlZGVkLlxyXG4gICAgICAgKiBUaGlzIGZ1bmN0aW9uIGdldHMgb25seSBleGVjdXRlZCwgaWYgYSB0cmFuc2xhdGlvbiBpZCBkb2Vzbid0IGV4aXN0LFxyXG4gICAgICAgKiB3aGljaCBpcyB3aHkgYSB0cmFuc2xhdGlvbiBpZCBpcyBleHBlY3RlZCBhcyBhcmd1bWVudC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHRyYW5zbGF0aW9uSWQgVHJhbnNsYXRpb24gaWQuXHJcbiAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFNhbWUgYXMgZ2l2ZW4gdHJhbnNsYXRpb24gaWQgYnV0IGFwcGxpZWQgd2l0aCBub3QgZm91bmRcclxuICAgICAgICogaW5kaWNhdG9ycy5cclxuICAgICAgICovXHJcbiAgICAgIHZhciBhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XHJcbiAgICAgICAgLy8gYXBwbHlpbmcgbm90Rm91bmRJbmRpY2F0b3JzXHJcbiAgICAgICAgaWYgKCRub3RGb3VuZEluZGljYXRvckxlZnQpIHtcclxuICAgICAgICAgIHRyYW5zbGF0aW9uSWQgPSBbJG5vdEZvdW5kSW5kaWNhdG9yTGVmdCwgdHJhbnNsYXRpb25JZF0uam9pbignICcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQpIHtcclxuICAgICAgICAgIHRyYW5zbGF0aW9uSWQgPSBbdHJhbnNsYXRpb25JZCwgJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHRdLmpvaW4oJyAnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uSWQ7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5hbWUgdXNlTGFuZ3VhZ2VcclxuICAgICAgICogQHByaXZhdGVcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIE1ha2VzIGFjdHVhbCB1c2Ugb2YgYSBsYW5ndWFnZSBieSBzZXR0aW5nIGEgZ2l2ZW4gbGFuZ3VhZ2Uga2V5IGFzIHVzZWRcclxuICAgICAgICogbGFuZ3VhZ2UgYW5kIGluZm9ybXMgcmVnaXN0ZXJlZCBpbnRlcnBvbGF0b3JzIHRvIGFsc28gdXNlIHRoZSBnaXZlblxyXG4gICAgICAgKiBrZXkgYXMgbG9jYWxlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge2tleX0gTG9jYWxlIGtleS5cclxuICAgICAgICovXHJcbiAgICAgIHZhciB1c2VMYW5ndWFnZSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAkdXNlcyA9IGtleTtcclxuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlQ2hhbmdlU3VjY2VzcycsIHtsYW5ndWFnZToga2V5fSk7XHJcblxyXG4gICAgICAgIGlmICgkc3RvcmFnZUZhY3RvcnkpIHtcclxuICAgICAgICAgIFN0b3JhZ2UucHV0KCR0cmFuc2xhdGUuc3RvcmFnZUtleSgpLCAkdXNlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGluZm9ybSBkZWZhdWx0IGludGVycG9sYXRvclxyXG4gICAgICAgIGRlZmF1bHRJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKCR1c2VzKTtcclxuICAgICAgICAvLyBpbmZvcm0gYWxsIG90aGVycyB0b28hXHJcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKGludGVycG9sYXRvckhhc2hNYXAsIGZ1bmN0aW9uIChpbnRlcnBvbGF0b3IsIGlkKSB7XHJcbiAgICAgICAgICBpbnRlcnBvbGF0b3JIYXNoTWFwW2lkXS5zZXRMb2NhbGUoJHVzZXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VFbmQnLCB7bGFuZ3VhZ2U6IGtleX0pO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuYW1lIGxvYWRBc3luY1xyXG4gICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogS2lja3Mgb2YgcmVnaXN0ZXJlZCBhc3luYyBsb2FkZXIgdXNpbmcgYCRpbmplY3RvcmAgYW5kIGFwcGxpZXMgZXhpc3RpbmdcclxuICAgICAgICogbG9hZGVyIG9wdGlvbnMuIFdoZW4gcmVzb2x2ZWQsIGl0IHVwZGF0ZXMgdHJhbnNsYXRpb24gdGFibGVzIGFjY29yZGluZ2x5XHJcbiAgICAgICAqIG9yIHJlamVjdHMgd2l0aCBnaXZlbiBsYW5ndWFnZSBrZXkuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgTGFuZ3VhZ2Uga2V5LlxyXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UuXHJcbiAgICAgICAqL1xyXG4gICAgICB2YXIgbG9hZEFzeW5jID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIGlmICgha2V5KSB7XHJcbiAgICAgICAgICB0aHJvdyAnTm8gbGFuZ3VhZ2Uga2V5IHNwZWNpZmllZCBmb3IgbG9hZGluZy4nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuXHJcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUxvYWRpbmdTdGFydCcsIHtsYW5ndWFnZToga2V5fSk7XHJcbiAgICAgICAgcGVuZGluZ0xvYWRlciA9IHRydWU7XHJcblxyXG4gICAgICAgIHZhciBjYWNoZSA9IGxvYWRlckNhY2hlO1xyXG4gICAgICAgIGlmICh0eXBlb2YoY2FjaGUpID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgLy8gZ2V0dGluZyBvbi1kZW1hbmQgaW5zdGFuY2Ugb2YgbG9hZGVyXHJcbiAgICAgICAgICBjYWNoZSA9ICRpbmplY3Rvci5nZXQoY2FjaGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGxvYWRlck9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgJGxvYWRlck9wdGlvbnMsIHtcclxuICAgICAgICAgIGtleToga2V5LFxyXG4gICAgICAgICAgJGh0dHA6IGFuZ3VsYXIuZXh0ZW5kKHt9LCB7XHJcbiAgICAgICAgICAgIGNhY2hlOiBjYWNoZVxyXG4gICAgICAgICAgfSwgJGxvYWRlck9wdGlvbnMuJGh0dHApXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICRpbmplY3Rvci5nZXQoJGxvYWRlckZhY3RvcnkpKGxvYWRlck9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgIHZhciB0cmFuc2xhdGlvblRhYmxlID0ge307XHJcbiAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlTG9hZGluZ1N1Y2Nlc3MnLCB7bGFuZ3VhZ2U6IGtleX0pO1xyXG5cclxuICAgICAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkoZGF0YSkpIHtcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGRhdGEsIGZ1bmN0aW9uICh0YWJsZSkge1xyXG4gICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHRyYW5zbGF0aW9uVGFibGUsIGZsYXRPYmplY3QodGFibGUpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhbmd1bGFyLmV4dGVuZCh0cmFuc2xhdGlvblRhYmxlLCBmbGF0T2JqZWN0KGRhdGEpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHBlbmRpbmdMb2FkZXIgPSBmYWxzZTtcclxuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoe1xyXG4gICAgICAgICAgICBrZXk6IGtleSxcclxuICAgICAgICAgICAgdGFibGU6IHRyYW5zbGF0aW9uVGFibGVcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUxvYWRpbmdFbmQnLCB7bGFuZ3VhZ2U6IGtleX0pO1xyXG4gICAgICAgIH0sIGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVMb2FkaW5nRXJyb3InLCB7bGFuZ3VhZ2U6IGtleX0pO1xyXG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGtleSk7XHJcbiAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlTG9hZGluZ0VuZCcsIHtsYW5ndWFnZToga2V5fSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBpZiAoJHN0b3JhZ2VGYWN0b3J5KSB7XHJcbiAgICAgICAgU3RvcmFnZSA9ICRpbmplY3Rvci5nZXQoJHN0b3JhZ2VGYWN0b3J5KTtcclxuXHJcbiAgICAgICAgaWYgKCFTdG9yYWdlLmdldCB8fCAhU3RvcmFnZS5wdXQpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGRuXFwndCB1c2Ugc3RvcmFnZSBcXCcnICsgJHN0b3JhZ2VGYWN0b3J5ICsgJ1xcJywgbWlzc2luZyBnZXQoKSBvciBwdXQoKSBtZXRob2QhJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBhcHBseSBhZGRpdGlvbmFsIHNldHRpbmdzXHJcbiAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oZGVmYXVsdEludGVycG9sYXRvci51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kpKSB7XHJcbiAgICAgICAgZGVmYXVsdEludGVycG9sYXRvci51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3koJGludGVycG9sYXRpb25TYW5pdGl6YXRpb25TdHJhdGVneSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGlmIHdlIGhhdmUgYWRkaXRpb25hbCBpbnRlcnBvbGF0aW9ucyB0aGF0IHdlcmUgYWRkZWQgdmlhXHJcbiAgICAgIC8vICR0cmFuc2xhdGVQcm92aWRlci5hZGRJbnRlcnBvbGF0aW9uKCksIHdlIGhhdmUgdG8gbWFwJ2VtXHJcbiAgICAgIGlmICgkaW50ZXJwb2xhdG9yRmFjdG9yaWVzLmxlbmd0aCkge1xyXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkaW50ZXJwb2xhdG9yRmFjdG9yaWVzLCBmdW5jdGlvbiAoaW50ZXJwb2xhdG9yRmFjdG9yeSkge1xyXG4gICAgICAgICAgdmFyIGludGVycG9sYXRvciA9ICRpbmplY3Rvci5nZXQoaW50ZXJwb2xhdG9yRmFjdG9yeSk7XHJcbiAgICAgICAgICAvLyBzZXR0aW5nIGluaXRpYWwgbG9jYWxlIGZvciBlYWNoIGludGVycG9sYXRpb24gc2VydmljZVxyXG4gICAgICAgICAgaW50ZXJwb2xhdG9yLnNldExvY2FsZSgkcHJlZmVycmVkTGFuZ3VhZ2UgfHwgJHVzZXMpO1xyXG4gICAgICAgICAgLy8gYXBwbHkgYWRkaXRpb25hbCBzZXR0aW5nc1xyXG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihpbnRlcnBvbGF0b3IudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5KSkge1xyXG4gICAgICAgICAgICBpbnRlcnBvbGF0b3IudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5KCRpbnRlcnBvbGF0aW9uU2FuaXRpemF0aW9uU3RyYXRlZ3kpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gbWFrZSdlbSByZWNvZ25pemFibGUgdGhyb3VnaCBpZFxyXG4gICAgICAgICAgaW50ZXJwb2xhdG9ySGFzaE1hcFtpbnRlcnBvbGF0b3IuZ2V0SW50ZXJwb2xhdGlvbklkZW50aWZpZXIoKV0gPSBpbnRlcnBvbGF0b3I7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmFtZSBnZXRUcmFuc2xhdGlvblRhYmxlXHJcbiAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSB0cmFuc2xhdGlvbiB0YWJsZVxyXG4gICAgICAgKiBvciBpcyByZWplY3RlZCBpZiBhbiBlcnJvciBvY2N1cnJlZC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIGxhbmdLZXlcclxuICAgICAgICogQHJldHVybnMge1EucHJvbWlzZX1cclxuICAgICAgICovXHJcbiAgICAgIHZhciBnZXRUcmFuc2xhdGlvblRhYmxlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcclxuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoJHRyYW5zbGF0aW9uVGFibGUsIGxhbmdLZXkpKSB7XHJcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGxhbmdQcm9taXNlc1tsYW5nS2V5XSkge1xyXG4gICAgICAgICAgbGFuZ1Byb21pc2VzW2xhbmdLZXldLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgdHJhbnNsYXRpb25zKGRhdGEua2V5LCBkYXRhLnRhYmxlKTtcclxuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhLnRhYmxlKTtcclxuICAgICAgICAgIH0sIGRlZmVycmVkLnJlamVjdCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmFtZSBnZXRGYWxsYmFja1RyYW5zbGF0aW9uXHJcbiAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSB0byB0aGUgdHJhbnNsYXRpb25cclxuICAgICAgICogb3IgYmUgcmVqZWN0ZWQgaWYgbm8gdHJhbnNsYXRpb24gd2FzIGZvdW5kIGZvciB0aGUgbGFuZ3VhZ2UuXHJcbiAgICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgY3VycmVudGx5IG9ubHkgdXNlZCBmb3IgZmFsbGJhY2sgbGFuZ3VhZ2UgdHJhbnNsYXRpb24uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSBsYW5nS2V5IFRoZSBsYW5ndWFnZSB0byB0cmFuc2xhdGUgdG8uXHJcbiAgICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXHJcbiAgICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xyXG4gICAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXHJcbiAgICAgICAqIEByZXR1cm5zIHtRLnByb21pc2V9XHJcbiAgICAgICAqL1xyXG4gICAgICB2YXIgZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uIChsYW5nS2V5LCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKSB7XHJcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuXHJcbiAgICAgICAgZ2V0VHJhbnNsYXRpb25UYWJsZShsYW5nS2V5KS50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvblRhYmxlKSB7XHJcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRyYW5zbGF0aW9uVGFibGUsIHRyYW5zbGF0aW9uSWQpKSB7XHJcbiAgICAgICAgICAgIEludGVycG9sYXRvci5zZXRMb2NhbGUobGFuZ0tleSk7XHJcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoSW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHRyYW5zbGF0aW9uVGFibGVbdHJhbnNsYXRpb25JZF0sIGludGVycG9sYXRlUGFyYW1zKSk7XHJcbiAgICAgICAgICAgIEludGVycG9sYXRvci5zZXRMb2NhbGUoJHVzZXMpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZGVmZXJyZWQucmVqZWN0KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5hbWUgZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnRcclxuICAgICAgICogQHByaXZhdGVcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFJldHVybnMgYSB0cmFuc2xhdGlvblxyXG4gICAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGN1cnJlbnRseSBvbmx5IHVzZWQgZm9yIGZhbGxiYWNrIGxhbmd1YWdlIHRyYW5zbGF0aW9uLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gbGFuZ0tleSBUaGUgbGFuZ3VhZ2UgdG8gdHJhbnNsYXRlIHRvLlxyXG4gICAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxyXG4gICAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcclxuICAgICAgICogQHBhcmFtIEludGVycG9sYXRvclxyXG4gICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0cmFuc2xhdGlvblxyXG4gICAgICAgKi9cclxuICAgICAgdmFyIGdldEZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50ID0gZnVuY3Rpb24gKGxhbmdLZXksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpIHtcclxuICAgICAgICB2YXIgcmVzdWx0LCB0cmFuc2xhdGlvblRhYmxlID0gJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV07XHJcblxyXG4gICAgICAgIGlmICh0cmFuc2xhdGlvblRhYmxlICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0cmFuc2xhdGlvblRhYmxlLCB0cmFuc2xhdGlvbklkKSkge1xyXG4gICAgICAgICAgSW50ZXJwb2xhdG9yLnNldExvY2FsZShsYW5nS2V5KTtcclxuICAgICAgICAgIHJlc3VsdCA9IEludGVycG9sYXRvci5pbnRlcnBvbGF0ZSh0cmFuc2xhdGlvblRhYmxlW3RyYW5zbGF0aW9uSWRdLCBpbnRlcnBvbGF0ZVBhcmFtcyk7XHJcbiAgICAgICAgICBJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKCR1c2VzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgIH07XHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuYW1lIHRyYW5zbGF0ZUJ5SGFuZGxlclxyXG4gICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBUcmFuc2xhdGUgYnkgbWlzc2luZyB0cmFuc2xhdGlvbiBoYW5kbGVyLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxyXG4gICAgICAgKiBAcmV0dXJucyB0cmFuc2xhdGlvbiBjcmVhdGVkIGJ5ICRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyIG9yIHRyYW5zbGF0aW9uSWQgaXMgJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIgaXNcclxuICAgICAgICogYWJzZW50XHJcbiAgICAgICAqL1xyXG4gICAgICB2YXIgdHJhbnNsYXRlQnlIYW5kbGVyID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcclxuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgaGFuZGxlciBmYWN0b3J5IC0gd2UgbWlnaHQgYWxzbyBjYWxsIGl0IGhlcmUgdG8gZGV0ZXJtaW5lIGlmIGl0IHByb3ZpZGVzXHJcbiAgICAgICAgLy8gYSBkZWZhdWx0IHRleHQgZm9yIGEgdHJhbnNsYXRpb25pZCB0aGF0IGNhbid0IGJlIGZvdW5kIGFueXdoZXJlIGluIG91ciB0YWJsZXNcclxuICAgICAgICBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5KSB7XHJcbiAgICAgICAgICB2YXIgcmVzdWx0U3RyaW5nID0gJGluamVjdG9yLmdldCgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkpKHRyYW5zbGF0aW9uSWQsICR1c2VzKTtcclxuICAgICAgICAgIGlmIChyZXN1bHRTdHJpbmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0U3RyaW5nO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uSWQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbklkO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmFtZSByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZVxyXG4gICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBSZWN1cnNpdmUgaGVscGVyIGZ1bmN0aW9uIGZvciBmYWxsYmFja1RyYW5zbGF0aW9uIHRoYXQgd2lsbCBzZXF1ZW50aWFsbHkgbG9va1xyXG4gICAgICAgKiBmb3IgYSB0cmFuc2xhdGlvbiBpbiB0aGUgZmFsbGJhY2tMYW5ndWFnZXMgc3RhcnRpbmcgd2l0aCBmYWxsYmFja0xhbmd1YWdlSW5kZXguXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSBmYWxsYmFja0xhbmd1YWdlSW5kZXhcclxuICAgICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcclxuICAgICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXHJcbiAgICAgICAqIEBwYXJhbSBJbnRlcnBvbGF0b3JcclxuICAgICAgICogQHJldHVybnMge1EucHJvbWlzZX0gUHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSB0byB0aGUgdHJhbnNsYXRpb24uXHJcbiAgICAgICAqL1xyXG4gICAgICB2YXIgcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoZmFsbGJhY2tMYW5ndWFnZUluZGV4LCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKSB7XHJcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuXHJcbiAgICAgICAgaWYgKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCA8ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xyXG4gICAgICAgICAgdmFyIGxhbmdLZXkgPSAkZmFsbGJhY2tMYW5ndWFnZVtmYWxsYmFja0xhbmd1YWdlSW5kZXhdO1xyXG4gICAgICAgICAgZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbihsYW5nS2V5LCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKS50aGVuKFxyXG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlLFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgLy8gTG9vayBpbiB0aGUgbmV4dCBmYWxsYmFjayBsYW5ndWFnZSBmb3IgYSB0cmFuc2xhdGlvbi5cclxuICAgICAgICAgICAgICAvLyBJdCBkZWxheXMgdGhlIHJlc29sdmluZyBieSBwYXNzaW5nIGFub3RoZXIgcHJvbWlzZSB0byByZXNvbHZlLlxyXG4gICAgICAgICAgICAgIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCArIDEsIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIE5vIHRyYW5zbGF0aW9uIGZvdW5kIGluIGFueSBmYWxsYmFjayBsYW5ndWFnZVxyXG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cmFuc2xhdGVCeUhhbmRsZXIodHJhbnNsYXRpb25JZCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmFtZSByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZUluc3RhbnRcclxuICAgICAgICogQHByaXZhdGVcclxuICAgICAgICpcclxuICAgICAgICogUmVjdXJzaXZlIGhlbHBlciBmdW5jdGlvbiBmb3IgZmFsbGJhY2tUcmFuc2xhdGlvbiB0aGF0IHdpbGwgc2VxdWVudGlhbGx5IGxvb2tcclxuICAgICAgICogZm9yIGEgdHJhbnNsYXRpb24gaW4gdGhlIGZhbGxiYWNrTGFuZ3VhZ2VzIHN0YXJ0aW5nIHdpdGggZmFsbGJhY2tMYW5ndWFnZUluZGV4LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gZmFsbGJhY2tMYW5ndWFnZUluZGV4XHJcbiAgICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXHJcbiAgICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xyXG4gICAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXHJcbiAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHRyYW5zbGF0aW9uXHJcbiAgICAgICAqL1xyXG4gICAgICB2YXIgcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50ID0gZnVuY3Rpb24gKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcikge1xyXG4gICAgICAgIHZhciByZXN1bHQ7XHJcblxyXG4gICAgICAgIGlmIChmYWxsYmFja0xhbmd1YWdlSW5kZXggPCAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcclxuICAgICAgICAgIHZhciBsYW5nS2V5ID0gJGZhbGxiYWNrTGFuZ3VhZ2VbZmFsbGJhY2tMYW5ndWFnZUluZGV4XTtcclxuICAgICAgICAgIHJlc3VsdCA9IGdldEZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50KGxhbmdLZXksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpO1xyXG4gICAgICAgICAgaWYgKCFyZXN1bHQpIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50KGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCArIDEsIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFRyYW5zbGF0ZXMgd2l0aCB0aGUgdXNhZ2Ugb2YgdGhlIGZhbGxiYWNrIGxhbmd1YWdlcy5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcclxuICAgICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXHJcbiAgICAgICAqIEBwYXJhbSBJbnRlcnBvbGF0b3JcclxuICAgICAgICogQHJldHVybnMge1EucHJvbWlzZX0gUHJvbWlzZSwgdGhhdCByZXNvbHZlcyB0byB0aGUgdHJhbnNsYXRpb24uXHJcbiAgICAgICAqL1xyXG4gICAgICB2YXIgZmFsbGJhY2tUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKSB7XHJcbiAgICAgICAgLy8gU3RhcnQgd2l0aCB0aGUgZmFsbGJhY2tMYW5ndWFnZSB3aXRoIGluZGV4IDBcclxuICAgICAgICByZXR1cm4gcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2UoKHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24+MCA/IHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24gOiBmYWxsYmFja0luZGV4KSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcik7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogVHJhbnNsYXRlcyB3aXRoIHRoZSB1c2FnZSBvZiB0aGUgZmFsbGJhY2sgbGFuZ3VhZ2VzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxyXG4gICAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcclxuICAgICAgICogQHBhcmFtIEludGVycG9sYXRvclxyXG4gICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSB0cmFuc2xhdGlvblxyXG4gICAgICAgKi9cclxuICAgICAgdmFyIGZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50ID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpIHtcclxuICAgICAgICAvLyBTdGFydCB3aXRoIHRoZSBmYWxsYmFja0xhbmd1YWdlIHdpdGggaW5kZXggMFxyXG4gICAgICAgIHJldHVybiByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZUluc3RhbnQoKHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24+MCA/IHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24gOiBmYWxsYmFja0luZGV4KSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcik7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2YXIgZGV0ZXJtaW5lVHJhbnNsYXRpb24gPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCkge1xyXG5cclxuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG5cclxuICAgICAgICB2YXIgdGFibGUgPSAkdXNlcyA/ICR0cmFuc2xhdGlvblRhYmxlWyR1c2VzXSA6ICR0cmFuc2xhdGlvblRhYmxlLFxyXG4gICAgICAgICAgICBJbnRlcnBvbGF0b3IgPSAoaW50ZXJwb2xhdGlvbklkKSA/IGludGVycG9sYXRvckhhc2hNYXBbaW50ZXJwb2xhdGlvbklkXSA6IGRlZmF1bHRJbnRlcnBvbGF0b3I7XHJcblxyXG4gICAgICAgIC8vIGlmIHRoZSB0cmFuc2xhdGlvbiBpZCBleGlzdHMsIHdlIGNhbiBqdXN0IGludGVycG9sYXRlIGl0XHJcbiAgICAgICAgaWYgKHRhYmxlICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YWJsZSwgdHJhbnNsYXRpb25JZCkpIHtcclxuICAgICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IHRhYmxlW3RyYW5zbGF0aW9uSWRdO1xyXG5cclxuICAgICAgICAgIC8vIElmIHVzaW5nIGxpbmssIHJlcnVuICR0cmFuc2xhdGUgd2l0aCBsaW5rZWQgdHJhbnNsYXRpb25JZCBhbmQgcmV0dXJuIGl0XHJcbiAgICAgICAgICBpZiAodHJhbnNsYXRpb24uc3Vic3RyKDAsIDIpID09PSAnQDonKSB7XHJcblxyXG4gICAgICAgICAgICAkdHJhbnNsYXRlKHRyYW5zbGF0aW9uLnN1YnN0cigyKSwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZClcclxuICAgICAgICAgICAgICAudGhlbihkZWZlcnJlZC5yZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodHJhbnNsYXRpb24sIGludGVycG9sYXRlUGFyYW1zKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZhciBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb247XHJcbiAgICAgICAgICAvLyBmb3IgbG9nZ2luZyBwdXJwb3NlcyBvbmx5IChhcyBpbiAkdHJhbnNsYXRlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZyksIHZhbHVlIGlzIG5vdCByZXR1cm5lZCB0byBwcm9taXNlXHJcbiAgICAgICAgICBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ICYmICFwZW5kaW5nTG9hZGVyKSB7XHJcbiAgICAgICAgICAgIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbiA9IHRyYW5zbGF0ZUJ5SGFuZGxlcih0cmFuc2xhdGlvbklkKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBzaW5jZSB3ZSBjb3VsZG4ndCB0cmFuc2xhdGUgdGhlIGluaXRhbCByZXF1ZXN0ZWQgdHJhbnNsYXRpb24gaWQsXHJcbiAgICAgICAgICAvLyB3ZSB0cnkgaXQgbm93IHdpdGggb25lIG9yIG1vcmUgZmFsbGJhY2sgbGFuZ3VhZ2VzLCBpZiBmYWxsYmFjayBsYW5ndWFnZShzKSBpc1xyXG4gICAgICAgICAgLy8gY29uZmlndXJlZC5cclxuICAgICAgICAgIGlmICgkdXNlcyAmJiAkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZmFsbGJhY2tUcmFuc2xhdGlvbih0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHRyYW5zbGF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJhbnNsYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKF90cmFuc2xhdGlvbklkKSB7XHJcbiAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyhfdHJhbnNsYXRpb25JZCkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSAmJiAhcGVuZGluZ0xvYWRlciAmJiBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24pIHtcclxuICAgICAgICAgICAgLy8gbG9va3MgbGlrZSB0aGUgcmVxdWVzdGVkIHRyYW5zbGF0aW9uIGlkIGRvZXNuJ3QgZXhpc3RzLlxyXG4gICAgICAgICAgICAvLyBOb3csIGlmIHRoZXJlIGlzIGEgcmVnaXN0ZXJlZCBoYW5kbGVyIGZvciBtaXNzaW5nIHRyYW5zbGF0aW9ucyBhbmQgbm9cclxuICAgICAgICAgICAgLy8gYXN5bmNMb2FkZXIgaXMgcGVuZGluZywgd2UgZXhlY3V0ZSB0aGUgaGFuZGxlclxyXG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbik7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoYXBwbHlOb3RGb3VuZEluZGljYXRvcnModHJhbnNsYXRpb25JZCkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZhciBkZXRlcm1pbmVUcmFuc2xhdGlvbkluc3RhbnQgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCkge1xyXG5cclxuICAgICAgICB2YXIgcmVzdWx0LCB0YWJsZSA9ICR1c2VzID8gJHRyYW5zbGF0aW9uVGFibGVbJHVzZXNdIDogJHRyYW5zbGF0aW9uVGFibGUsXHJcbiAgICAgICAgICAgIEludGVycG9sYXRvciA9IChpbnRlcnBvbGF0aW9uSWQpID8gaW50ZXJwb2xhdG9ySGFzaE1hcFtpbnRlcnBvbGF0aW9uSWRdIDogZGVmYXVsdEludGVycG9sYXRvcjtcclxuXHJcbiAgICAgICAgLy8gaWYgdGhlIHRyYW5zbGF0aW9uIGlkIGV4aXN0cywgd2UgY2FuIGp1c3QgaW50ZXJwb2xhdGUgaXRcclxuICAgICAgICBpZiAodGFibGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhYmxlLCB0cmFuc2xhdGlvbklkKSkge1xyXG4gICAgICAgICAgdmFyIHRyYW5zbGF0aW9uID0gdGFibGVbdHJhbnNsYXRpb25JZF07XHJcblxyXG4gICAgICAgICAgLy8gSWYgdXNpbmcgbGluaywgcmVydW4gJHRyYW5zbGF0ZSB3aXRoIGxpbmtlZCB0cmFuc2xhdGlvbklkIGFuZCByZXR1cm4gaXRcclxuICAgICAgICAgIGlmICh0cmFuc2xhdGlvbi5zdWJzdHIoMCwgMikgPT09ICdAOicpIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gZGV0ZXJtaW5lVHJhbnNsYXRpb25JbnN0YW50KHRyYW5zbGF0aW9uLnN1YnN0cigyKSwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodHJhbnNsYXRpb24sIGludGVycG9sYXRlUGFyYW1zKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmFyIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbjtcclxuICAgICAgICAgIC8vIGZvciBsb2dnaW5nIHB1cnBvc2VzIG9ubHkgKGFzIGluICR0cmFuc2xhdGVNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyTG9nKSwgdmFsdWUgaXMgbm90IHJldHVybmVkIHRvIHByb21pc2VcclxuICAgICAgICAgIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgIXBlbmRpbmdMb2FkZXIpIHtcclxuICAgICAgICAgICAgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uID0gdHJhbnNsYXRlQnlIYW5kbGVyKHRyYW5zbGF0aW9uSWQpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIHNpbmNlIHdlIGNvdWxkbid0IHRyYW5zbGF0ZSB0aGUgaW5pdGFsIHJlcXVlc3RlZCB0cmFuc2xhdGlvbiBpZCxcclxuICAgICAgICAgIC8vIHdlIHRyeSBpdCBub3cgd2l0aCBvbmUgb3IgbW9yZSBmYWxsYmFjayBsYW5ndWFnZXMsIGlmIGZhbGxiYWNrIGxhbmd1YWdlKHMpIGlzXHJcbiAgICAgICAgICAvLyBjb25maWd1cmVkLlxyXG4gICAgICAgICAgaWYgKCR1c2VzICYmICRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmYWxsYmFja0luZGV4ID0gMDtcclxuICAgICAgICAgICAgcmVzdWx0ID0gZmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcik7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSAmJiAhcGVuZGluZ0xvYWRlciAmJiBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24pIHtcclxuICAgICAgICAgICAgLy8gbG9va3MgbGlrZSB0aGUgcmVxdWVzdGVkIHRyYW5zbGF0aW9uIGlkIGRvZXNuJ3QgZXhpc3RzLlxyXG4gICAgICAgICAgICAvLyBOb3csIGlmIHRoZXJlIGlzIGEgcmVnaXN0ZXJlZCBoYW5kbGVyIGZvciBtaXNzaW5nIHRyYW5zbGF0aW9ucyBhbmQgbm9cclxuICAgICAgICAgICAgLy8gYXN5bmNMb2FkZXIgaXMgcGVuZGluZywgd2UgZXhlY3V0ZSB0aGUgaGFuZGxlclxyXG4gICAgICAgICAgICByZXN1bHQgPSBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb247XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyh0cmFuc2xhdGlvbklkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNwcmVmZXJyZWRMYW5ndWFnZVxyXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBSZXR1cm5zIHRoZSBsYW5ndWFnZSBrZXkgZm9yIHRoZSBwcmVmZXJyZWQgbGFuZ3VhZ2UuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5nS2V5IGxhbmd1YWdlIFN0cmluZyBvciBBcnJheSB0byBiZSB1c2VkIGFzIHByZWZlcnJlZExhbmd1YWdlIChjaGFuZ2luZyBhdCBydW50aW1lKVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IHByZWZlcnJlZCBsYW5ndWFnZSBrZXlcclxuICAgICAgICovXHJcbiAgICAgICR0cmFuc2xhdGUucHJlZmVycmVkTGFuZ3VhZ2UgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xyXG4gICAgICAgIGlmKGxhbmdLZXkpIHtcclxuICAgICAgICAgIHNldHVwUHJlZmVycmVkTGFuZ3VhZ2UobGFuZ0tleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAkcHJlZmVycmVkTGFuZ3VhZ2U7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNjbG9ha0NsYXNzTmFtZVxyXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBSZXR1cm5zIHRoZSBjb25maWd1cmVkIGNsYXNzIG5hbWUgZm9yIGB0cmFuc2xhdGUtY2xvYWtgIGRpcmVjdGl2ZS5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7c3RyaW5nfSBjbG9ha0NsYXNzTmFtZVxyXG4gICAgICAgKi9cclxuICAgICAgJHRyYW5zbGF0ZS5jbG9ha0NsYXNzTmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJGNsb2FrQ2xhc3NOYW1lO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjZmFsbGJhY2tMYW5ndWFnZVxyXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBSZXR1cm5zIHRoZSBsYW5ndWFnZSBrZXkgZm9yIHRoZSBmYWxsYmFjayBsYW5ndWFnZXMgb3Igc2V0cyBhIG5ldyBmYWxsYmFjayBzdGFjay5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBsYW5nS2V5IGxhbmd1YWdlIFN0cmluZyBvciBBcnJheSBvZiBmYWxsYmFjayBsYW5ndWFnZXMgdG8gYmUgdXNlZCAodG8gY2hhbmdlIHN0YWNrIGF0IHJ1bnRpbWUpXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ3x8YXJyYXl9IGZhbGxiYWNrIGxhbmd1YWdlIGtleVxyXG4gICAgICAgKi9cclxuICAgICAgJHRyYW5zbGF0ZS5mYWxsYmFja0xhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcclxuICAgICAgICBpZiAobGFuZ0tleSAhPT0gdW5kZWZpbmVkICYmIGxhbmdLZXkgIT09IG51bGwpIHtcclxuICAgICAgICAgIGZhbGxiYWNrU3RhY2sobGFuZ0tleSk7XHJcblxyXG4gICAgICAgICAgLy8gYXMgd2UgbWlnaHQgaGF2ZSBhbiBhc3luYyBsb2FkZXIgaW5pdGlhdGVkIGFuZCBhIG5ldyB0cmFuc2xhdGlvbiBsYW5ndWFnZSBtaWdodCBoYXZlIGJlZW4gZGVmaW5lZFxyXG4gICAgICAgICAgLy8gd2UgbmVlZCB0byBhZGQgdGhlIHByb21pc2UgdG8gdGhlIHN0YWNrIGFsc28uIFNvIC0gaXRlcmF0ZS5cclxuICAgICAgICAgIGlmICgkbG9hZGVyRmFjdG9yeSkge1xyXG4gICAgICAgICAgICBpZiAoJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWxhbmdQcm9taXNlc1skZmFsbGJhY2tMYW5ndWFnZVtpXV0pIHtcclxuICAgICAgICAgICAgICAgICAgbGFuZ1Byb21pc2VzWyRmYWxsYmFja0xhbmd1YWdlW2ldXSA9IGxvYWRBc3luYygkZmFsbGJhY2tMYW5ndWFnZVtpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAkdHJhbnNsYXRlLnVzZSgkdHJhbnNsYXRlLnVzZSgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCRmYWxsYmFja1dhc1N0cmluZykge1xyXG4gICAgICAgICAgcmV0dXJuICRmYWxsYmFja0xhbmd1YWdlWzBdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gJGZhbGxiYWNrTGFuZ3VhZ2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3VzZUZhbGxiYWNrTGFuZ3VhZ2VcclxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogU2V0cyB0aGUgZmlyc3Qga2V5IG9mIHRoZSBmYWxsYmFjayBsYW5ndWFnZSBzdGFjayB0byBiZSB1c2VkIGZvciB0cmFuc2xhdGlvbi5cclxuICAgICAgICogVGhlcmVmb3JlIGFsbCBsYW5ndWFnZXMgaW4gdGhlIGZhbGxiYWNrIGFycmF5IEJFRk9SRSB0aGlzIGtleSB3aWxsIGJlIHNraXBwZWQhXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbGFuZ0tleSBDb250YWlucyB0aGUgbGFuZ0tleSB0aGUgaXRlcmF0aW9uIHNoYWxsIHN0YXJ0IHdpdGguIFNldCB0byBmYWxzZSBpZiB5b3Ugd2FudCB0b1xyXG4gICAgICAgKiBnZXQgYmFjayB0byB0aGUgd2hvbGUgc3RhY2tcclxuICAgICAgICovXHJcbiAgICAgICR0cmFuc2xhdGUudXNlRmFsbGJhY2tMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XHJcbiAgICAgICAgaWYgKGxhbmdLZXkgIT09IHVuZGVmaW5lZCAmJiBsYW5nS2V5ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICBpZiAoIWxhbmdLZXkpIHtcclxuICAgICAgICAgICAgc3RhcnRGYWxsYmFja0l0ZXJhdGlvbiA9IDA7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgbGFuZ0tleVBvc2l0aW9uID0gaW5kZXhPZigkZmFsbGJhY2tMYW5ndWFnZSwgbGFuZ0tleSk7XHJcbiAgICAgICAgICAgIGlmIChsYW5nS2V5UG9zaXRpb24gPiAtMSkge1xyXG4gICAgICAgICAgICAgIHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24gPSBsYW5nS2V5UG9zaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3Byb3Bvc2VkTGFuZ3VhZ2VcclxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogUmV0dXJucyB0aGUgbGFuZ3VhZ2Uga2V5IG9mIGxhbmd1YWdlIHRoYXQgaXMgY3VycmVudGx5IGxvYWRlZCBhc3luY2hyb25vdXNseS5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7c3RyaW5nfSBsYW5ndWFnZSBrZXlcclxuICAgICAgICovXHJcbiAgICAgICR0cmFuc2xhdGUucHJvcG9zZWRMYW5ndWFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJG5leHRMYW5nO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjc3RvcmFnZVxyXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBSZXR1cm5zIHJlZ2lzdGVyZWQgc3RvcmFnZS5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7b2JqZWN0fSBTdG9yYWdlXHJcbiAgICAgICAqL1xyXG4gICAgICAkdHJhbnNsYXRlLnN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIFN0b3JhZ2U7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSN1c2VcclxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgd2hpY2ggbGFuZ3VhZ2UgdG8gdXNlIGJ5IGdpdmVuIGxhbmd1YWdlIGtleS4gVGhpcyBtZXRob2QgaXNcclxuICAgICAgICogdXNlZCB0byBjaGFuZ2UgbGFuZ3VhZ2UgYXQgcnVudGltZS4gSXQgYWxzbyB0YWtlcyBjYXJlIG9mIHN0b3JpbmcgdGhlIGxhbmd1YWdlXHJcbiAgICAgICAqIGtleSBpbiBhIGNvbmZpZ3VyZWQgc3RvcmUgdG8gbGV0IHlvdXIgYXBwIHJlbWVtYmVyIHRoZSBjaG9vc2VkIGxhbmd1YWdlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBXaGVuIHRyeWluZyB0byAndXNlJyBhIGxhbmd1YWdlIHdoaWNoIGlzbid0IGF2YWlsYWJsZSBpdCB0cmllcyB0byBsb2FkIGl0XHJcbiAgICAgICAqIGFzeW5jaHJvbm91c2x5IHdpdGggcmVnaXN0ZXJlZCBsb2FkZXJzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBSZXR1cm5zIHByb21pc2Ugb2JqZWN0IHdpdGggbG9hZGVkIGxhbmd1YWdlIGZpbGUgZGF0YVxyXG4gICAgICAgKiBAZXhhbXBsZVxyXG4gICAgICAgKiAkdHJhbnNsYXRlLnVzZShcImVuX1VTXCIpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAqICAgJHNjb3BlLnRleHQgPSAkdHJhbnNsYXRlKFwiSEVMTE9cIik7XHJcbiAgICAgICAqIH0pO1xyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IExhbmd1YWdlIGtleVxyXG4gICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IExhbmd1YWdlIGtleVxyXG4gICAgICAgKi9cclxuICAgICAgJHRyYW5zbGF0ZS51c2UgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgaWYgKCFrZXkpIHtcclxuICAgICAgICAgIHJldHVybiAkdXNlcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcblxyXG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VTdGFydCcsIHtsYW5ndWFnZToga2V5fSk7XHJcblxyXG4gICAgICAgIC8vIFRyeSB0byBnZXQgdGhlIGFsaWFzZWQgbGFuZ3VhZ2Uga2V5XHJcbiAgICAgICAgdmFyIGFsaWFzZWRLZXkgPSBuZWdvdGlhdGVMb2NhbGUoa2V5KTtcclxuICAgICAgICBpZiAoYWxpYXNlZEtleSkge1xyXG4gICAgICAgICAga2V5ID0gYWxpYXNlZEtleTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzbid0IGEgdHJhbnNsYXRpb24gdGFibGUgZm9yIHRoZSBsYW5ndWFnZSB3ZSd2ZSByZXF1ZXN0ZWQsXHJcbiAgICAgICAgLy8gd2UgbG9hZCBpdCBhc3luY2hyb25vdXNseVxyXG4gICAgICAgIGlmICghJHRyYW5zbGF0aW9uVGFibGVba2V5XSAmJiAkbG9hZGVyRmFjdG9yeSAmJiAhbGFuZ1Byb21pc2VzW2tleV0pIHtcclxuICAgICAgICAgICRuZXh0TGFuZyA9IGtleTtcclxuICAgICAgICAgIGxhbmdQcm9taXNlc1trZXldID0gbG9hZEFzeW5jKGtleSkudGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcclxuICAgICAgICAgICAgdHJhbnNsYXRpb25zKHRyYW5zbGF0aW9uLmtleSwgdHJhbnNsYXRpb24udGFibGUpO1xyXG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRyYW5zbGF0aW9uLmtleSk7XHJcblxyXG4gICAgICAgICAgICB1c2VMYW5ndWFnZSh0cmFuc2xhdGlvbi5rZXkpO1xyXG4gICAgICAgICAgICBpZiAoJG5leHRMYW5nID09PSBrZXkpIHtcclxuICAgICAgICAgICAgICAkbmV4dExhbmcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uO1xyXG4gICAgICAgICAgfSwgZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICBpZiAoJG5leHRMYW5nID09PSBrZXkpIHtcclxuICAgICAgICAgICAgICAkbmV4dExhbmcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZUVycm9yJywge2xhbmd1YWdlOiBrZXl9KTtcclxuICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGtleSk7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VFbmQnLCB7bGFuZ3VhZ2U6IGtleX0pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoa2V5KTtcclxuICAgICAgICAgIHVzZUxhbmd1YWdlKGtleSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3N0b3JhZ2VLZXlcclxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogUmV0dXJucyB0aGUga2V5IGZvciB0aGUgc3RvcmFnZS5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7c3RyaW5nfSBzdG9yYWdlIGtleVxyXG4gICAgICAgKi9cclxuICAgICAgJHRyYW5zbGF0ZS5zdG9yYWdlS2V5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBzdG9yYWdlS2V5KCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNpc1Bvc3RDb21waWxpbmdFbmFibGVkXHJcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFJldHVybnMgd2hldGhlciBwb3N0IGNvbXBpbGluZyBpcyBlbmFibGVkIG9yIG5vdFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtib29sfSBzdG9yYWdlIGtleVxyXG4gICAgICAgKi9cclxuICAgICAgJHRyYW5zbGF0ZS5pc1Bvc3RDb21waWxpbmdFbmFibGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAkcG9zdENvbXBpbGluZ0VuYWJsZWQ7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNyZWZyZXNoXHJcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFJlZnJlc2hlcyBhIHRyYW5zbGF0aW9uIHRhYmxlIHBvaW50ZWQgYnkgdGhlIGdpdmVuIGxhbmdLZXkuIElmIGxhbmdLZXkgaXMgbm90IHNwZWNpZmllZCxcclxuICAgICAgICogdGhlIG1vZHVsZSB3aWxsIGRyb3AgYWxsIGV4aXN0ZW50IHRyYW5zbGF0aW9uIHRhYmxlcyBhbmQgbG9hZCBuZXcgdmVyc2lvbiBvZiB0aG9zZSB3aGljaFxyXG4gICAgICAgKiBhcmUgY3VycmVudGx5IGluIHVzZS5cclxuICAgICAgICpcclxuICAgICAgICogUmVmcmVzaCBtZWFucyB0aGF0IHRoZSBtb2R1bGUgd2lsbCBkcm9wIHRhcmdldCB0cmFuc2xhdGlvbiB0YWJsZSBhbmQgdHJ5IHRvIGxvYWQgaXQgYWdhaW4uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEluIGNhc2UgdGhlcmUgYXJlIG5vIGxvYWRlcnMgcmVnaXN0ZXJlZCB0aGUgcmVmcmVzaCgpIG1ldGhvZCB3aWxsIHRocm93IGFuIEVycm9yLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBJZiB0aGUgbW9kdWxlIGlzIGFibGUgdG8gcmVmcmVzaCB0cmFuc2xhdGlvbiB0YWJsZXMgcmVmcmVzaCgpIG1ldGhvZCB3aWxsIGJyb2FkY2FzdFxyXG4gICAgICAgKiAkdHJhbnNsYXRlUmVmcmVzaFN0YXJ0IGFuZCAkdHJhbnNsYXRlUmVmcmVzaEVuZCBldmVudHMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBleGFtcGxlXHJcbiAgICAgICAqIC8vIHRoaXMgd2lsbCBkcm9wIGFsbCBjdXJyZW50bHkgZXhpc3RlbnQgdHJhbnNsYXRpb24gdGFibGVzIGFuZCByZWxvYWQgdGhvc2Ugd2hpY2ggYXJlXHJcbiAgICAgICAqIC8vIGN1cnJlbnRseSBpbiB1c2VcclxuICAgICAgICogJHRyYW5zbGF0ZS5yZWZyZXNoKCk7XHJcbiAgICAgICAqIC8vIHRoaXMgd2lsbCByZWZyZXNoIGEgdHJhbnNsYXRpb24gdGFibGUgZm9yIHRoZSBlbl9VUyBsYW5ndWFnZVxyXG4gICAgICAgKiAkdHJhbnNsYXRlLnJlZnJlc2goJ2VuX1VTJyk7XHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5nS2V5IEEgbGFuZ3VhZ2Uga2V5IG9mIHRoZSB0YWJsZSwgd2hpY2ggaGFzIHRvIGJlIHJlZnJlc2hlZFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtwcm9taXNlfSBQcm9taXNlLCB3aGljaCB3aWxsIGJlIHJlc29sdmVkIGluIGNhc2UgYSB0cmFuc2xhdGlvbiB0YWJsZXMgcmVmcmVzaGluZ1xyXG4gICAgICAgKiBwcm9jZXNzIGlzIGZpbmlzaGVkIHN1Y2Nlc3NmdWxseSwgYW5kIHJlamVjdCBpZiBub3QuXHJcbiAgICAgICAqL1xyXG4gICAgICAkdHJhbnNsYXRlLnJlZnJlc2ggPSBmdW5jdGlvbiAobGFuZ0tleSkge1xyXG4gICAgICAgIGlmICghJGxvYWRlckZhY3RvcnkpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGRuXFwndCByZWZyZXNoIHRyYW5zbGF0aW9uIHRhYmxlLCBubyBsb2FkZXIgcmVnaXN0ZXJlZCEnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmUoKSB7XHJcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XHJcbiAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlUmVmcmVzaEVuZCcsIHtsYW5ndWFnZTogbGFuZ0tleX0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0KCkge1xyXG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KCk7XHJcbiAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlUmVmcmVzaEVuZCcsIHtsYW5ndWFnZTogbGFuZ0tleX0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZVJlZnJlc2hTdGFydCcsIHtsYW5ndWFnZTogbGFuZ0tleX0pO1xyXG5cclxuICAgICAgICBpZiAoIWxhbmdLZXkpIHtcclxuICAgICAgICAgIC8vIGlmIHRoZXJlJ3Mgbm8gbGFuZ3VhZ2Uga2V5IHNwZWNpZmllZCB3ZSByZWZyZXNoIEFMTCBUSEUgVEhJTkdTIVxyXG4gICAgICAgICAgdmFyIHRhYmxlcyA9IFtdLCBsb2FkaW5nS2V5cyA9IHt9O1xyXG5cclxuICAgICAgICAgIC8vIHJlbG9hZCByZWdpc3RlcmVkIGZhbGxiYWNrIGxhbmd1YWdlc1xyXG4gICAgICAgICAgaWYgKCRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICB0YWJsZXMucHVzaChsb2FkQXN5bmMoJGZhbGxiYWNrTGFuZ3VhZ2VbaV0pKTtcclxuICAgICAgICAgICAgICBsb2FkaW5nS2V5c1skZmFsbGJhY2tMYW5ndWFnZVtpXV0gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gcmVsb2FkIGN1cnJlbnRseSB1c2VkIGxhbmd1YWdlXHJcbiAgICAgICAgICBpZiAoJHVzZXMgJiYgIWxvYWRpbmdLZXlzWyR1c2VzXSkge1xyXG4gICAgICAgICAgICB0YWJsZXMucHVzaChsb2FkQXN5bmMoJHVzZXMpKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAkcS5hbGwodGFibGVzKS50aGVuKGZ1bmN0aW9uICh0YWJsZURhdGEpIHtcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHRhYmxlRGF0YSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICBpZiAoJHRyYW5zbGF0aW9uVGFibGVbZGF0YS5rZXldKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgJHRyYW5zbGF0aW9uVGFibGVbZGF0YS5rZXldO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB0cmFuc2xhdGlvbnMoZGF0YS5rZXksIGRhdGEudGFibGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKCR1c2VzKSB7XHJcbiAgICAgICAgICAgICAgdXNlTGFuZ3VhZ2UoJHVzZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKCR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldKSB7XHJcblxyXG4gICAgICAgICAgbG9hZEFzeW5jKGxhbmdLZXkpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgdHJhbnNsYXRpb25zKGRhdGEua2V5LCBkYXRhLnRhYmxlKTtcclxuICAgICAgICAgICAgaWYgKGxhbmdLZXkgPT09ICR1c2VzKSB7XHJcbiAgICAgICAgICAgICAgdXNlTGFuZ3VhZ2UoJHVzZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgIH0sIHJlamVjdCk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZWplY3QoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNpbnN0YW50XHJcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFJldHVybnMgYSB0cmFuc2xhdGlvbiBpbnN0YW50bHkgZnJvbSB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgbG9hZGVkIHRyYW5zbGF0aW9uLiBBbGwgcnVsZXNcclxuICAgICAgICogcmVnYXJkaW5nIHRoZSBjdXJyZW50IGxhbmd1YWdlLCB0aGUgcHJlZmVycmVkIGxhbmd1YWdlIG9mIGV2ZW4gZmFsbGJhY2sgbGFuZ3VhZ2VzIHdpbGwgYmVcclxuICAgICAgICogdXNlZCBleGNlcHQgYW55IHByb21pc2UgaGFuZGxpbmcuIElmIGEgbGFuZ3VhZ2Ugd2FzIG5vdCBmb3VuZCwgYW4gYXN5bmNocm9ub3VzIGxvYWRpbmdcclxuICAgICAgICogd2lsbCBiZSBpbnZva2VkIGluIHRoZSBiYWNrZ3JvdW5kLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ3xhcnJheX0gdHJhbnNsYXRpb25JZCBBIHRva2VuIHdoaWNoIHJlcHJlc2VudHMgYSB0cmFuc2xhdGlvbiBpZFxyXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGlzIGNhbiBiZSBvcHRpb25hbGx5IGFuIGFycmF5IG9mIHRyYW5zbGF0aW9uIGlkcyB3aGljaFxyXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzIHRoYXQgdGhlIGZ1bmN0aW9uJ3MgcHJvbWlzZSByZXR1cm5zIGFuIG9iamVjdCB3aGVyZVxyXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoIGtleSBpcyB0aGUgdHJhbnNsYXRpb24gaWQgYW5kIHRoZSB2YWx1ZSB0aGUgdHJhbnNsYXRpb24uXHJcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBpbnRlcnBvbGF0ZVBhcmFtcyBQYXJhbXNcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGludGVycG9sYXRpb25JZCBUaGUgaWQgb2YgdGhlIGludGVycG9sYXRpb24gdG8gdXNlXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gdHJhbnNsYXRpb25cclxuICAgICAgICovXHJcbiAgICAgICR0cmFuc2xhdGUuaW5zdGFudCA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKSB7XHJcblxyXG4gICAgICAgIC8vIERldGVjdCB1bmRlZmluZWQgYW5kIG51bGwgdmFsdWVzIHRvIHNob3J0ZW4gdGhlIGV4ZWN1dGlvbiBhbmQgcHJldmVudCBleGNlcHRpb25zXHJcbiAgICAgICAgaWYgKHRyYW5zbGF0aW9uSWQgPT09IG51bGwgfHwgYW5ndWxhci5pc1VuZGVmaW5lZCh0cmFuc2xhdGlvbklkKSkge1xyXG4gICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uSWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBEdWNrIGRldGVjdGlvbjogSWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGFuIGFycmF5LCBhIGJ1bmNoIG9mIHRyYW5zbGF0aW9ucyB3YXMgcmVxdWVzdGVkLlxyXG4gICAgICAgIC8vIFRoZSByZXN1bHQgaXMgYW4gb2JqZWN0LlxyXG4gICAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkodHJhbnNsYXRpb25JZCkpIHtcclxuICAgICAgICAgIHZhciByZXN1bHRzID0ge307XHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgYyA9IHRyYW5zbGF0aW9uSWQubGVuZ3RoOyBpIDwgYzsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdHNbdHJhbnNsYXRpb25JZFtpXV0gPSAkdHJhbnNsYXRlLmluc3RhbnQodHJhbnNsYXRpb25JZFtpXSwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gcmVzdWx0cztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFdlIGRpc2NhcmRlZCB1bmFjY2VwdGFibGUgdmFsdWVzLiBTbyB3ZSBqdXN0IG5lZWQgdG8gdmVyaWZ5IGlmIHRyYW5zbGF0aW9uSWQgaXMgZW1wdHkgU3RyaW5nXHJcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcodHJhbnNsYXRpb25JZCkgJiYgdHJhbnNsYXRpb25JZC5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJhbnNsYXRpb25JZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHRyaW0gb2ZmIGFueSB3aGl0ZXNwYWNlXHJcbiAgICAgICAgaWYgKHRyYW5zbGF0aW9uSWQpIHtcclxuICAgICAgICAgIHRyYW5zbGF0aW9uSWQgPSB0cmltLmFwcGx5KHRyYW5zbGF0aW9uSWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHJlc3VsdCwgcG9zc2libGVMYW5nS2V5cyA9IFtdO1xyXG4gICAgICAgIGlmICgkcHJlZmVycmVkTGFuZ3VhZ2UpIHtcclxuICAgICAgICAgIHBvc3NpYmxlTGFuZ0tleXMucHVzaCgkcHJlZmVycmVkTGFuZ3VhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJHVzZXMpIHtcclxuICAgICAgICAgIHBvc3NpYmxlTGFuZ0tleXMucHVzaCgkdXNlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcclxuICAgICAgICAgIHBvc3NpYmxlTGFuZ0tleXMgPSBwb3NzaWJsZUxhbmdLZXlzLmNvbmNhdCgkZmFsbGJhY2tMYW5ndWFnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGogPSAwLCBkID0gcG9zc2libGVMYW5nS2V5cy5sZW5ndGg7IGogPCBkOyBqKyspIHtcclxuICAgICAgICAgIHZhciBwb3NzaWJsZUxhbmdLZXkgPSBwb3NzaWJsZUxhbmdLZXlzW2pdO1xyXG4gICAgICAgICAgaWYgKCR0cmFuc2xhdGlvblRhYmxlW3Bvc3NpYmxlTGFuZ0tleV0pIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiAkdHJhbnNsYXRpb25UYWJsZVtwb3NzaWJsZUxhbmdLZXldW3RyYW5zbGF0aW9uSWRdICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgIHJlc3VsdCA9IGRldGVybWluZVRyYW5zbGF0aW9uSW5zdGFudCh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFyZXN1bHQgJiYgcmVzdWx0ICE9PSAnJykge1xyXG4gICAgICAgICAgLy8gUmV0dXJuIHRyYW5zbGF0aW9uIG9mIGRlZmF1bHQgaW50ZXJwb2xhdG9yIGlmIG5vdCBmb3VuZCBhbnl0aGluZy5cclxuICAgICAgICAgIHJlc3VsdCA9IGRlZmF1bHRJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMpO1xyXG4gICAgICAgICAgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSAmJiAhcGVuZGluZ0xvYWRlcikge1xyXG4gICAgICAgICAgICByZXN1bHQgPSB0cmFuc2xhdGVCeUhhbmRsZXIodHJhbnNsYXRpb25JZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjdmVyc2lvbkluZm9cclxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogUmV0dXJucyB0aGUgY3VycmVudCB2ZXJzaW9uIGluZm9ybWF0aW9uIGZvciB0aGUgYW5ndWxhci10cmFuc2xhdGUgbGlicmFyeVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IGFuZ3VsYXItdHJhbnNsYXRlIHZlcnNpb25cclxuICAgICAgICovXHJcbiAgICAgICR0cmFuc2xhdGUudmVyc2lvbkluZm8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHZlcnNpb247XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNsb2FkZXJDYWNoZVxyXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBSZXR1cm5zIHRoZSBkZWZpbmVkIGxvYWRlckNhY2hlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtib29sZWFufHN0cmluZ3xvYmplY3R9IGN1cnJlbnQgdmFsdWUgb2YgbG9hZGVyQ2FjaGVcclxuICAgICAgICovXHJcbiAgICAgICR0cmFuc2xhdGUubG9hZGVyQ2FjaGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGxvYWRlckNhY2hlO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgaWYgKCRsb2FkZXJGYWN0b3J5KSB7XHJcblxyXG4gICAgICAgIC8vIElmIGF0IGxlYXN0IG9uZSBhc3luYyBsb2FkZXIgaXMgZGVmaW5lZCBhbmQgdGhlcmUgYXJlIG5vXHJcbiAgICAgICAgLy8gKGRlZmF1bHQpIHRyYW5zbGF0aW9ucyBhdmFpbGFibGUgd2Ugc2hvdWxkIHRyeSB0byBsb2FkIHRoZW0uXHJcbiAgICAgICAgaWYgKGFuZ3VsYXIuZXF1YWxzKCR0cmFuc2xhdGlvblRhYmxlLCB7fSkpIHtcclxuICAgICAgICAgICR0cmFuc2xhdGUudXNlKCR0cmFuc2xhdGUudXNlKCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQWxzbywgaWYgdGhlcmUgYXJlIGFueSBmYWxsYmFjayBsYW5ndWFnZSByZWdpc3RlcmVkLCB3ZSBzdGFydFxyXG4gICAgICAgIC8vIGxvYWRpbmcgdGhlbSBhc3luY2hyb25vdXNseSBhcyBzb29uIGFzIHdlIGNhbi5cclxuICAgICAgICBpZiAoJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XHJcbiAgICAgICAgICB2YXIgcHJvY2Vzc0FzeW5jUmVzdWx0ID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uKSB7XHJcbiAgICAgICAgICAgIHRyYW5zbGF0aW9ucyh0cmFuc2xhdGlvbi5rZXksIHRyYW5zbGF0aW9uLnRhYmxlKTtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZUVuZCcsIHsgbGFuZ3VhZ2U6IHRyYW5zbGF0aW9uLmtleSB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBsYW5nUHJvbWlzZXNbJGZhbGxiYWNrTGFuZ3VhZ2VbaV1dID0gbG9hZEFzeW5jKCRmYWxsYmFja0xhbmd1YWdlW2ldKS50aGVuKHByb2Nlc3NBc3luY1Jlc3VsdCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gJHRyYW5zbGF0ZTtcclxuICAgIH1cclxuICBdO1xyXG59XSk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIG9iamVjdFxyXG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvblxyXG4gKiBAcmVxdWlyZXMgJGludGVycG9sYXRlXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBVc2VzIGFuZ3VsYXIncyBgJGludGVycG9sYXRlYCBzZXJ2aWNlcyB0byBpbnRlcnBvbGF0ZSBzdHJpbmdzIGFnYWluc3Qgc29tZSB2YWx1ZXMuXHJcbiAqXHJcbiAqIEByZXR1cm4ge29iamVjdH0gJHRyYW5zbGF0ZUludGVycG9sYXRvciBJbnRlcnBvbGF0b3Igc2VydmljZVxyXG4gKi9cclxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKS5mYWN0b3J5KCckdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24nLCBbJyRpbnRlcnBvbGF0ZScsIGZ1bmN0aW9uICgkaW50ZXJwb2xhdGUpIHtcclxuXHJcbiAgdmFyICR0cmFuc2xhdGVJbnRlcnBvbGF0b3IgPSB7fSxcclxuICAgICAgJGxvY2FsZSxcclxuICAgICAgJGlkZW50aWZpZXIgPSAnZGVmYXVsdCcsXHJcbiAgICAgICRzYW5pdGl6ZVZhbHVlU3RyYXRlZ3kgPSBudWxsLFxyXG4gICAgICAvLyBtYXAgb2YgYWxsIHNhbml0aXplIHN0cmF0ZWdpZXNcclxuICAgICAgc2FuaXRpemVWYWx1ZVN0cmF0ZWdpZXMgPSB7XHJcbiAgICAgICAgZXNjYXBlZDogZnVuY3Rpb24gKHBhcmFtcykge1xyXG4gICAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgICAgICAgZm9yICh2YXIga2V5IGluIHBhcmFtcykge1xyXG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmFtcywga2V5KSkge1xyXG4gICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2PjwvZGl2PicpLnRleHQocGFyYW1zW2tleV0pLmh0bWwoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gIHZhciBzYW5pdGl6ZVBhcmFtcyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcclxuICAgIHZhciByZXN1bHQ7XHJcbiAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHNhbml0aXplVmFsdWVTdHJhdGVnaWVzWyRzYW5pdGl6ZVZhbHVlU3RyYXRlZ3ldKSkge1xyXG4gICAgICByZXN1bHQgPSBzYW5pdGl6ZVZhbHVlU3RyYXRlZ2llc1skc2FuaXRpemVWYWx1ZVN0cmF0ZWd5XShwYXJhbXMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzdWx0ID0gcGFyYW1zO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbiNzZXRMb2NhbGVcclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNldHMgY3VycmVudCBsb2NhbGUgKHRoaXMgaXMgY3VycmVudGx5IG5vdCB1c2UgaW4gdGhpcyBpbnRlcnBvbGF0aW9uKS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhbGUgTGFuZ3VhZ2Uga2V5IG9yIGxvY2FsZS5cclxuICAgKi9cclxuICAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yLnNldExvY2FsZSA9IGZ1bmN0aW9uIChsb2NhbGUpIHtcclxuICAgICRsb2NhbGUgPSBsb2NhbGU7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24jZ2V0SW50ZXJwb2xhdGlvbklkZW50aWZpZXJcclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFJldHVybnMgYW4gaWRlbnRpZmllciBmb3IgdGhpcyBpbnRlcnBvbGF0aW9uIHNlcnZpY2UuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSAkaWRlbnRpZmllclxyXG4gICAqL1xyXG4gICR0cmFuc2xhdGVJbnRlcnBvbGF0b3IuZ2V0SW50ZXJwb2xhdGlvbklkZW50aWZpZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gJGlkZW50aWZpZXI7XHJcbiAgfTtcclxuXHJcbiAgJHRyYW5zbGF0ZUludGVycG9sYXRvci51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICRzYW5pdGl6ZVZhbHVlU3RyYXRlZ3kgPSB2YWx1ZTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uI2ludGVycG9sYXRlXHJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBJbnRlcnBvbGF0ZXMgZ2l2ZW4gc3RyaW5nIGFnYWlucyBnaXZlbiBpbnRlcnBvbGF0ZSBwYXJhbXMgdXNpbmcgYW5ndWxhcnNcclxuICAgKiBgJGludGVycG9sYXRlYCBzZXJ2aWNlLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge3N0cmluZ30gaW50ZXJwb2xhdGVkIHN0cmluZy5cclxuICAgKi9cclxuICAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yLmludGVycG9sYXRlID0gZnVuY3Rpb24gKHN0cmluZywgaW50ZXJwb2xhdGVQYXJhbXMpIHtcclxuICAgIGlmICgkc2FuaXRpemVWYWx1ZVN0cmF0ZWd5KSB7XHJcbiAgICAgIGludGVycG9sYXRlUGFyYW1zID0gc2FuaXRpemVQYXJhbXMoaW50ZXJwb2xhdGVQYXJhbXMpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICRpbnRlcnBvbGF0ZShzdHJpbmcpKGludGVycG9sYXRlUGFyYW1zIHx8IHt9KTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gJHRyYW5zbGF0ZUludGVycG9sYXRvcjtcclxufV0pO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKS5jb25zdGFudCgnJFNUT1JBR0VfS0VZJywgJ05HX1RSQU5TTEFURV9MQU5HX0tFWScpO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLmRpcmVjdGl2ZTp0cmFuc2xhdGVcclxuICogQHJlcXVpcmVzICRjb21waWxlXHJcbiAqIEByZXF1aXJlcyAkZmlsdGVyXHJcbiAqIEByZXF1aXJlcyAkaW50ZXJwb2xhdGVcclxuICogQHJlc3RyaWN0IEFcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRyYW5zbGF0ZXMgZ2l2ZW4gdHJhbnNsYXRpb24gaWQgZWl0aGVyIHRocm91Z2ggYXR0cmlidXRlIG9yIERPTSBjb250ZW50LlxyXG4gKiBJbnRlcm5hbGx5IGl0IHVzZXMgYHRyYW5zbGF0ZWAgZmlsdGVyIHRvIHRyYW5zbGF0ZSB0cmFuc2xhdGlvbiBpZC4gSXQgcG9zc2libGUgdG9cclxuICogcGFzcyBhbiBvcHRpb25hbCBgdHJhbnNsYXRlLXZhbHVlc2Agb2JqZWN0IGxpdGVyYWwgYXMgc3RyaW5nIGludG8gdHJhbnNsYXRpb24gaWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlIFRyYW5zbGF0aW9uIGlkIHdoaWNoIGNvdWxkIGJlIGVpdGhlciBzdHJpbmcgb3IgaW50ZXJwb2xhdGVkIHN0cmluZy5cclxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUtdmFsdWVzIFZhbHVlcyB0byBwYXNzIGludG8gdHJhbnNsYXRpb24gaWQuIENhbiBiZSBwYXNzZWQgYXMgb2JqZWN0IGxpdGVyYWwgc3RyaW5nIG9yIGludGVycG9sYXRlZCBvYmplY3QuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlLWF0dHItQVRUUiB0cmFuc2xhdGUgVHJhbnNsYXRpb24gaWQgYW5kIHB1dCBpdCBpbnRvIEFUVFIgYXR0cmlidXRlLlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZS1kZWZhdWx0IHdpbGwgYmUgdXNlZCB1bmxlc3MgdHJhbnNsYXRpb24gd2FzIHN1Y2Nlc3NmdWxcclxuICogQHBhcmFtIHtib29sZWFuPX0gdHJhbnNsYXRlLWNvbXBpbGUgKGRlZmF1bHQgdHJ1ZSBpZiBwcmVzZW50KSBkZWZpbmVzIGxvY2FsbHkgYWN0aXZhdGlvbiBvZiB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3VzZVBvc3RDb21waWxpbmd9XHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG1vZHVsZT1cIm5nVmlld1wiPlxyXG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiVHJhbnNsYXRlQ3RybFwiPlxyXG5cclxuICAgICAgICA8cHJlIHRyYW5zbGF0ZT1cIlRSQU5TTEFUSU9OX0lEXCI+PC9wcmU+XHJcbiAgICAgICAgPHByZSB0cmFuc2xhdGU+VFJBTlNMQVRJT05fSUQ8L3ByZT5cclxuICAgICAgICA8cHJlIHRyYW5zbGF0ZSB0cmFuc2xhdGUtYXR0ci10aXRsZT1cIlRSQU5TTEFUSU9OX0lEXCI+PC9wcmU+XHJcbiAgICAgICAgPHByZSB0cmFuc2xhdGU9XCJ7e3RyYW5zbGF0aW9uSWR9fVwiPjwvcHJlPlxyXG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPnt7dHJhbnNsYXRpb25JZH19PC9wcmU+XHJcbiAgICAgICAgPHByZSB0cmFuc2xhdGU9XCJXSVRIX1ZBTFVFU1wiIHRyYW5zbGF0ZS12YWx1ZXM9XCJ7dmFsdWU6IDV9XCI+PC9wcmU+XHJcbiAgICAgICAgPHByZSB0cmFuc2xhdGUgdHJhbnNsYXRlLXZhbHVlcz1cInt2YWx1ZTogNX1cIj5XSVRIX1ZBTFVFUzwvcHJlPlxyXG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPVwiV0lUSF9WQUxVRVNcIiB0cmFuc2xhdGUtdmFsdWVzPVwie3t2YWx1ZXN9fVwiPjwvcHJlPlxyXG4gICAgICAgIDxwcmUgdHJhbnNsYXRlIHRyYW5zbGF0ZS12YWx1ZXM9XCJ7e3ZhbHVlc319XCI+V0lUSF9WQUxVRVM8L3ByZT5cclxuICAgICAgICA8cHJlIHRyYW5zbGF0ZSB0cmFuc2xhdGUtYXR0ci10aXRsZT1cIldJVEhfVkFMVUVTXCIgdHJhbnNsYXRlLXZhbHVlcz1cInt7dmFsdWVzfX1cIj48L3ByZT5cclxuXHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JywgWydwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ10pXHJcblxyXG4gICAgICAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcclxuXHJcbiAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9ucygnZW4nLHtcclxuICAgICAgICAgICdUUkFOU0xBVElPTl9JRCc6ICdIZWxsbyB0aGVyZSEnLFxyXG4gICAgICAgICAgJ1dJVEhfVkFMVUVTJzogJ1RoZSBmb2xsb3dpbmcgdmFsdWUgaXMgZHluYW1pYzoge3t2YWx1ZX19J1xyXG4gICAgICAgIH0pLnByZWZlcnJlZExhbmd1YWdlKCdlbicpO1xyXG5cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JykuY29udHJvbGxlcignVHJhbnNsYXRlQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUpIHtcclxuICAgICAgICAkc2NvcGUudHJhbnNsYXRpb25JZCA9ICdUUkFOU0xBVElPTl9JRCc7XHJcblxyXG4gICAgICAgICRzY29wZS52YWx1ZXMgPSB7XHJcbiAgICAgICAgICB2YWx1ZTogNzhcclxuICAgICAgICB9O1xyXG4gICAgICB9KTtcclxuICAgIDwvZmlsZT5cclxuICAgIDxmaWxlIG5hbWU9XCJzY2VuYXJpby5qc1wiPlxyXG4gICAgICBpdCgnc2hvdWxkIHRyYW5zbGF0ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpbmplY3QoZnVuY3Rpb24gKCRyb290U2NvcGUsICRjb21waWxlKSB7XHJcbiAgICAgICAgICAkcm9vdFNjb3BlLnRyYW5zbGF0aW9uSWQgPSAnVFJBTlNMQVRJT05fSUQnO1xyXG5cclxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlPVwiVFJBTlNMQVRJT05fSURcIj48L3A+JykoJHJvb3RTY29wZSk7XHJcbiAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcclxuICAgICAgICAgIGV4cGVjdChlbGVtZW50LnRleHQoKSkudG9CZSgnSGVsbG8gdGhlcmUhJyk7XHJcblxyXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8cCB0cmFuc2xhdGU9XCJ7e3RyYW5zbGF0aW9uSWR9fVwiPjwvcD4nKSgkcm9vdFNjb3BlKTtcclxuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xyXG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQudGV4dCgpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcclxuXHJcbiAgICAgICAgICBlbGVtZW50ID0gJGNvbXBpbGUoJzxwIHRyYW5zbGF0ZT5UUkFOU0xBVElPTl9JRDwvcD4nKSgkcm9vdFNjb3BlKTtcclxuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xyXG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQudGV4dCgpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcclxuXHJcbiAgICAgICAgICBlbGVtZW50ID0gJGNvbXBpbGUoJzxwIHRyYW5zbGF0ZT57e3RyYW5zbGF0aW9uSWR9fTwvcD4nKSgkcm9vdFNjb3BlKTtcclxuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xyXG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQudGV4dCgpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcclxuXHJcbiAgICAgICAgICBlbGVtZW50ID0gJGNvbXBpbGUoJzxwIHRyYW5zbGF0ZSB0cmFuc2xhdGUtYXR0ci10aXRsZT1cIlRSQU5TTEFUSU9OX0lEXCI+PC9wPicpKCRyb290U2NvcGUpO1xyXG4gICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC5hdHRyKCd0aXRsZScpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcbi5kaXJlY3RpdmUoJ3RyYW5zbGF0ZScsIFsnJHRyYW5zbGF0ZScsICckcScsICckaW50ZXJwb2xhdGUnLCAnJGNvbXBpbGUnLCAnJHBhcnNlJywgJyRyb290U2NvcGUnLCBmdW5jdGlvbiAoJHRyYW5zbGF0ZSwgJHEsICRpbnRlcnBvbGF0ZSwgJGNvbXBpbGUsICRwYXJzZSwgJHJvb3RTY29wZSkge1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBRScsXHJcbiAgICBzY29wZTogdHJ1ZSxcclxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uICh0RWxlbWVudCwgdEF0dHIpIHtcclxuXHJcbiAgICAgIHZhciB0cmFuc2xhdGVWYWx1ZXNFeGlzdCA9ICh0QXR0ci50cmFuc2xhdGVWYWx1ZXMpID9cclxuICAgICAgICB0QXR0ci50cmFuc2xhdGVWYWx1ZXMgOiB1bmRlZmluZWQ7XHJcblxyXG4gICAgICB2YXIgdHJhbnNsYXRlSW50ZXJwb2xhdGlvbiA9ICh0QXR0ci50cmFuc2xhdGVJbnRlcnBvbGF0aW9uKSA/XHJcbiAgICAgICAgdEF0dHIudHJhbnNsYXRlSW50ZXJwb2xhdGlvbiA6IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgIHZhciB0cmFuc2xhdGVWYWx1ZUV4aXN0ID0gdEVsZW1lbnRbMF0ub3V0ZXJIVE1MLm1hdGNoKC90cmFuc2xhdGUtdmFsdWUtKy9pKTtcclxuXHJcbiAgICAgIHZhciBpbnRlcnBvbGF0ZVJlZ0V4cCA9IFwiXiguKikoXCIgKyAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKSArIFwiLipcIiArICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSArIFwiKSguKilcIixcclxuICAgICAgICAgIHdhdGNoZXJSZWdFeHAgPSBcIl4oLiopXCIgKyAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKSArIFwiKC4qKVwiICsgJGludGVycG9sYXRlLmVuZFN5bWJvbCgpICsgXCIoLiopXCI7XHJcblxyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gbGlua0ZuKHNjb3BlLCBpRWxlbWVudCwgaUF0dHIpIHtcclxuXHJcbiAgICAgICAgc2NvcGUuaW50ZXJwb2xhdGVQYXJhbXMgPSB7fTtcclxuICAgICAgICBzY29wZS5wcmVUZXh0ID0gXCJcIjtcclxuICAgICAgICBzY29wZS5wb3N0VGV4dCA9IFwiXCI7XHJcbiAgICAgICAgdmFyIHRyYW5zbGF0aW9uSWRzID0ge307XHJcblxyXG4gICAgICAgIC8vIEVuc3VyZXMgYW55IGNoYW5nZSBvZiB0aGUgYXR0cmlidXRlIFwidHJhbnNsYXRlXCIgY29udGFpbmluZyB0aGUgaWQgd2lsbFxyXG4gICAgICAgIC8vIGJlIHJlLXN0b3JlZCB0byB0aGUgc2NvcGUncyBcInRyYW5zbGF0aW9uSWRcIi5cclxuICAgICAgICAvLyBJZiB0aGUgYXR0cmlidXRlIGhhcyBubyBjb250ZW50LCB0aGUgZWxlbWVudCdzIHRleHQgdmFsdWUgKHdoaXRlIHNwYWNlcyB0cmltbWVkIG9mZikgd2lsbCBiZSB1c2VkLlxyXG4gICAgICAgIHZhciBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcclxuICAgICAgICAgIGlmIChhbmd1bGFyLmVxdWFscyh0cmFuc2xhdGlvbklkICwgJycpIHx8ICFhbmd1bGFyLmlzRGVmaW5lZCh0cmFuc2xhdGlvbklkKSkge1xyXG4gICAgICAgICAgICAvLyBSZXNvbHZlIHRyYW5zbGF0aW9uIGlkIGJ5IGlubmVyIGh0bWwgaWYgcmVxdWlyZWRcclxuICAgICAgICAgICAgdmFyIGludGVycG9sYXRlTWF0Y2hlcyA9IGlFbGVtZW50LnRleHQoKS5tYXRjaChpbnRlcnBvbGF0ZVJlZ0V4cCk7XHJcbiAgICAgICAgICAgIC8vIEludGVycG9sYXRlIHRyYW5zbGF0aW9uIGlkIGlmIHJlcXVpcmVkXHJcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkoaW50ZXJwb2xhdGVNYXRjaGVzKSkge1xyXG4gICAgICAgICAgICAgIHNjb3BlLnByZVRleHQgPSBpbnRlcnBvbGF0ZU1hdGNoZXNbMV07XHJcbiAgICAgICAgICAgICAgc2NvcGUucG9zdFRleHQgPSBpbnRlcnBvbGF0ZU1hdGNoZXNbM107XHJcbiAgICAgICAgICAgICAgdHJhbnNsYXRpb25JZHMudHJhbnNsYXRlID0gJGludGVycG9sYXRlKGludGVycG9sYXRlTWF0Y2hlc1syXSkoc2NvcGUuJHBhcmVudCk7XHJcbiAgICAgICAgICAgICAgd2F0Y2hlck1hdGNoZXMgPSBpRWxlbWVudC50ZXh0KCkubWF0Y2god2F0Y2hlclJlZ0V4cCk7XHJcbiAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheSh3YXRjaGVyTWF0Y2hlcykgJiYgd2F0Y2hlck1hdGNoZXNbMl0gJiYgd2F0Y2hlck1hdGNoZXNbMl0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBzY29wZS4kd2F0Y2god2F0Y2hlck1hdGNoZXNbMl0sIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbklkcy50cmFuc2xhdGUgPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdHJhbnNsYXRpb25JZHMudHJhbnNsYXRlID0gaUVsZW1lbnQudGV4dCgpLnJlcGxhY2UoL15cXHMrfFxccyskL2csJycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0cmFuc2xhdGlvbklkcy50cmFuc2xhdGUgPSB0cmFuc2xhdGlvbklkO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIG9ic2VydmVBdHRyaWJ1dGVUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICh0cmFuc2xhdGVBdHRyKSB7XHJcbiAgICAgICAgICBpQXR0ci4kb2JzZXJ2ZSh0cmFuc2xhdGVBdHRyLCBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xyXG4gICAgICAgICAgICB0cmFuc2xhdGlvbklkc1t0cmFuc2xhdGVBdHRyXSA9IHRyYW5zbGF0aW9uSWQ7XHJcbiAgICAgICAgICAgIHVwZGF0ZVRyYW5zbGF0aW9ucygpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaUF0dHIuJG9ic2VydmUoJ3RyYW5zbGF0ZScsIGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XHJcbiAgICAgICAgICBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uKHRyYW5zbGF0aW9uSWQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmb3IgKHZhciB0cmFuc2xhdGVBdHRyIGluIGlBdHRyKSB7XHJcbiAgICAgICAgICBpZihpQXR0ci5oYXNPd25Qcm9wZXJ0eSh0cmFuc2xhdGVBdHRyKSAmJiB0cmFuc2xhdGVBdHRyLnN1YnN0cigwLCAxMykgPT09ICd0cmFuc2xhdGVBdHRyJykge1xyXG4gICAgICAgICAgICBvYnNlcnZlQXR0cmlidXRlVHJhbnNsYXRpb24odHJhbnNsYXRlQXR0cik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpQXR0ci4kb2JzZXJ2ZSgndHJhbnNsYXRlRGVmYXVsdCcsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgc2NvcGUuZGVmYXVsdFRleHQgPSB2YWx1ZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRyYW5zbGF0ZVZhbHVlc0V4aXN0KSB7XHJcbiAgICAgICAgICBpQXR0ci4kb2JzZXJ2ZSgndHJhbnNsYXRlVmFsdWVzJywgZnVuY3Rpb24gKGludGVycG9sYXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgIGlmIChpbnRlcnBvbGF0ZVBhcmFtcykge1xyXG4gICAgICAgICAgICAgIHNjb3BlLiRwYXJlbnQuJHdhdGNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHNjb3BlLmludGVycG9sYXRlUGFyYW1zLCAkcGFyc2UoaW50ZXJwb2xhdGVQYXJhbXMpKHNjb3BlLiRwYXJlbnQpKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHJhbnNsYXRlVmFsdWVFeGlzdCkge1xyXG4gICAgICAgICAgdmFyIG9ic2VydmVWYWx1ZUF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChhdHRyTmFtZSkge1xyXG4gICAgICAgICAgICBpQXR0ci4kb2JzZXJ2ZShhdHRyTmFtZSwgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZU5hbWUgPSBhbmd1bGFyLmxvd2VyY2FzZShhdHRyTmFtZS5zdWJzdHIoMTQsIDEpKSArIGF0dHJOYW1lLnN1YnN0cigxNSk7XHJcbiAgICAgICAgICAgICAgc2NvcGUuaW50ZXJwb2xhdGVQYXJhbXNbYXR0cmlidXRlTmFtZV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBpQXR0cikge1xyXG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGlBdHRyLCBhdHRyKSAmJiBhdHRyLnN1YnN0cigwLCAxNCkgPT09ICd0cmFuc2xhdGVWYWx1ZScgJiYgYXR0ciAhPT0gJ3RyYW5zbGF0ZVZhbHVlcycpIHtcclxuICAgICAgICAgICAgICBvYnNlcnZlVmFsdWVBdHRyaWJ1dGUoYXR0cik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1hc3RlciB1cGRhdGUgZnVuY3Rpb25cclxuICAgICAgICB2YXIgdXBkYXRlVHJhbnNsYXRpb25zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgZm9yICh2YXIga2V5IGluIHRyYW5zbGF0aW9uSWRzKSB7XHJcbiAgICAgICAgICAgIGlmICh0cmFuc2xhdGlvbklkcy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIHRyYW5zbGF0aW9uSWRzW2tleV0pIHtcclxuICAgICAgICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbihrZXksIHRyYW5zbGF0aW9uSWRzW2tleV0sIHNjb3BlLCBzY29wZS5pbnRlcnBvbGF0ZVBhcmFtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBQdXQgdHJhbnNsYXRpb24gcHJvY2Vzc2luZyBmdW5jdGlvbiBvdXRzaWRlIGxvb3BcclxuICAgICAgICB2YXIgdXBkYXRlVHJhbnNsYXRpb24gPSBmdW5jdGlvbih0cmFuc2xhdGVBdHRyLCB0cmFuc2xhdGlvbklkLCBzY29wZSwgaW50ZXJwb2xhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICR0cmFuc2xhdGUodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIHRyYW5zbGF0ZUludGVycG9sYXRpb24pXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xyXG4gICAgICAgICAgICAgIGFwcGx5VHJhbnNsYXRpb24odHJhbnNsYXRpb24sIHNjb3BlLCB0cnVlLCB0cmFuc2xhdGVBdHRyKTtcclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcclxuICAgICAgICAgICAgICBhcHBseVRyYW5zbGF0aW9uKHRyYW5zbGF0aW9uSWQsIHNjb3BlLCBmYWxzZSwgdHJhbnNsYXRlQXR0cik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBhcHBseVRyYW5zbGF0aW9uID0gZnVuY3Rpb24gKHZhbHVlLCBzY29wZSwgc3VjY2Vzc2Z1bCwgdHJhbnNsYXRlQXR0cikge1xyXG4gICAgICAgICAgaWYgKHRyYW5zbGF0ZUF0dHIgPT09ICd0cmFuc2xhdGUnKSB7XHJcbiAgICAgICAgICAgIC8vIGRlZmF1bHQgdHJhbnNsYXRlIGludG8gaW5uZXJIVE1MXHJcbiAgICAgICAgICAgIGlmICghc3VjY2Vzc2Z1bCAmJiB0eXBlb2Ygc2NvcGUuZGVmYXVsdFRleHQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgdmFsdWUgPSBzY29wZS5kZWZhdWx0VGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpRWxlbWVudC5odG1sKHNjb3BlLnByZVRleHQgKyB2YWx1ZSArIHNjb3BlLnBvc3RUZXh0KTtcclxuICAgICAgICAgICAgdmFyIGdsb2JhbGx5RW5hYmxlZCA9ICR0cmFuc2xhdGUuaXNQb3N0Q29tcGlsaW5nRW5hYmxlZCgpO1xyXG4gICAgICAgICAgICB2YXIgbG9jYWxseURlZmluZWQgPSB0eXBlb2YgdEF0dHIudHJhbnNsYXRlQ29tcGlsZSAhPT0gJ3VuZGVmaW5lZCc7XHJcbiAgICAgICAgICAgIHZhciBsb2NhbGx5RW5hYmxlZCA9IGxvY2FsbHlEZWZpbmVkICYmIHRBdHRyLnRyYW5zbGF0ZUNvbXBpbGUgIT09ICdmYWxzZSc7XHJcbiAgICAgICAgICAgIGlmICgoZ2xvYmFsbHlFbmFibGVkICYmICFsb2NhbGx5RGVmaW5lZCkgfHwgbG9jYWxseUVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAkY29tcGlsZShpRWxlbWVudC5jb250ZW50cygpKShzY29wZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRyYW5zbGF0ZSBhdHRyaWJ1dGVcclxuICAgICAgICAgICAgaWYgKCFzdWNjZXNzZnVsICYmIHR5cGVvZiBzY29wZS5kZWZhdWx0VGV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICB2YWx1ZSA9IHNjb3BlLmRlZmF1bHRUZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gaUF0dHIuJGF0dHJbdHJhbnNsYXRlQXR0cl0uc3Vic3RyKDE1KTtcclxuICAgICAgICAgICAgaUVsZW1lbnQuYXR0cihhdHRyaWJ1dGVOYW1lLCB2YWx1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2NvcGUuJHdhdGNoKCdpbnRlcnBvbGF0ZVBhcmFtcycsIHVwZGF0ZVRyYW5zbGF0aW9ucywgdHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vIEVuc3VyZXMgdGhlIHRleHQgd2lsbCBiZSByZWZyZXNoZWQgYWZ0ZXIgdGhlIGN1cnJlbnQgbGFuZ3VhZ2Ugd2FzIGNoYW5nZWRcclxuICAgICAgICAvLyB3LyAkdHJhbnNsYXRlLnVzZSguLi4pXHJcbiAgICAgICAgdmFyIHVuYmluZCA9ICRyb290U2NvcGUuJG9uKCckdHJhbnNsYXRlQ2hhbmdlU3VjY2VzcycsIHVwZGF0ZVRyYW5zbGF0aW9ucyk7XHJcblxyXG4gICAgICAgIC8vIGVuc3VyZSB0cmFuc2xhdGlvbiB3aWxsIGJlIGxvb2tlZCB1cCBhdCBsZWFzdCBvbmVcclxuICAgICAgICBpZiAoaUVsZW1lbnQudGV4dCgpLmxlbmd0aCkge1xyXG4gICAgICAgICAgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbignJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVwZGF0ZVRyYW5zbGF0aW9ucygpO1xyXG4gICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCB1bmJpbmQpO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH07XHJcbn1dKTtcclxuXHJcbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS5kaXJlY3RpdmU6dHJhbnNsYXRlQ2xvYWtcclxuICogQHJlcXVpcmVzICRyb290U2NvcGVcclxuICogQHJlcXVpcmVzICR0cmFuc2xhdGVcclxuICogQHJlc3RyaWN0IEFcclxuICpcclxuICogJGRlc2NyaXB0aW9uXHJcbiAqIEFkZHMgYSBgdHJhbnNsYXRlLWNsb2FrYCBjbGFzcyBuYW1lIHRvIHRoZSBnaXZlbiBlbGVtZW50IHdoZXJlIHRoaXMgZGlyZWN0aXZlXHJcbiAqIGlzIGFwcGxpZWQgaW5pdGlhbGx5IGFuZCByZW1vdmVzIGl0LCBvbmNlIGEgbG9hZGVyIGhhcyBmaW5pc2hlZCBsb2FkaW5nLlxyXG4gKlxyXG4gKiBUaGlzIGRpcmVjdGl2ZSBjYW4gYmUgdXNlZCB0byBwcmV2ZW50IGluaXRpYWwgZmxpY2tlcmluZyB3aGVuIGxvYWRpbmcgdHJhbnNsYXRpb25cclxuICogZGF0YSBhc3luY2hyb25vdXNseS5cclxuICpcclxuICogVGhlIGNsYXNzIG5hbWUgaXMgZGVmaW5lZCBpblxyXG4gKiB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjY2xvYWtDbGFzc05hbWUgJHRyYW5zbGF0ZS5jbG9ha0NsYXNzTmFtZSgpfS5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUtY2xvYWsgSWYgYSB0cmFuc2xhdGlvbklkIGlzIHByb3ZpZGVkLCBpdCB3aWxsIGJlIHVzZWQgZm9yIHNob3dpbmdcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3IgaGlkaW5nIHRoZSBjbG9hay4gQmFzaWNhbGx5IGl0IHJlbGllcyBvbiB0aGUgdHJhbnNsYXRpb25cclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZS5cclxuICovXHJcbi5kaXJlY3RpdmUoJ3RyYW5zbGF0ZUNsb2FrJywgWyckcm9vdFNjb3BlJywgJyR0cmFuc2xhdGUnLCBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJHRyYW5zbGF0ZSkge1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgY29tcGlsZTogZnVuY3Rpb24gKHRFbGVtZW50KSB7XHJcbiAgICAgIHZhciBhcHBseUNsb2FrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRFbGVtZW50LmFkZENsYXNzKCR0cmFuc2xhdGUuY2xvYWtDbGFzc05hbWUoKSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHJlbW92ZUNsb2FrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRFbGVtZW50LnJlbW92ZUNsYXNzKCR0cmFuc2xhdGUuY2xvYWtDbGFzc05hbWUoKSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHJlbW92ZUxpc3RlbmVyID0gJHJvb3RTY29wZS4kb24oJyR0cmFuc2xhdGVDaGFuZ2VFbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmVtb3ZlQ2xvYWsoKTtcclxuICAgICAgICByZW1vdmVMaXN0ZW5lcigpO1xyXG4gICAgICAgIHJlbW92ZUxpc3RlbmVyID0gbnVsbDtcclxuICAgICAgfSk7XHJcbiAgICAgIGFwcGx5Q2xvYWsoKTtcclxuXHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiBsaW5rRm4oc2NvcGUsIGlFbGVtZW50LCBpQXR0cikge1xyXG4gICAgICAgIC8vIFJlZ2lzdGVyIGEgd2F0Y2hlciBmb3IgdGhlIGRlZmluZWQgdHJhbnNsYXRpb24gYWxsb3dpbmcgYSBmaW5lIHR1bmVkIGNsb2FrXHJcbiAgICAgICAgaWYgKGlBdHRyLnRyYW5zbGF0ZUNsb2FrICYmIGlBdHRyLnRyYW5zbGF0ZUNsb2FrLmxlbmd0aCkge1xyXG4gICAgICAgICAgaUF0dHIuJG9ic2VydmUoJ3RyYW5zbGF0ZUNsb2FrJywgZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcclxuICAgICAgICAgICAgJHRyYW5zbGF0ZSh0cmFuc2xhdGlvbklkKS50aGVuKHJlbW92ZUNsb2FrLCBhcHBseUNsb2FrKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH1cclxuICB9O1xyXG59XSk7XHJcblxyXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpXHJcbi8qKlxyXG4gKiBAbmdkb2MgZmlsdGVyXHJcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuZmlsdGVyOnRyYW5zbGF0ZVxyXG4gKiBAcmVxdWlyZXMgJHBhcnNlXHJcbiAqIEByZXF1aXJlcyBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcclxuICogQGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBVc2VzIGAkdHJhbnNsYXRlYCBzZXJ2aWNlIHRvIHRyYW5zbGF0ZSBjb250ZW50cy4gQWNjZXB0cyBpbnRlcnBvbGF0ZSBwYXJhbWV0ZXJzXHJcbiAqIHRvIHBhc3MgZHluYW1pemVkIHZhbHVlcyB0aG91Z2ggdHJhbnNsYXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0cmFuc2xhdGlvbklkIEEgdHJhbnNsYXRpb24gaWQgdG8gYmUgdHJhbnNsYXRlZC5cclxuICogQHBhcmFtIHsqPX0gaW50ZXJwb2xhdGVQYXJhbXMgT3B0aW9uYWwgb2JqZWN0IGxpdGVyYWwgKGFzIGhhc2ggb3Igc3RyaW5nKSB0byBwYXNzIHZhbHVlcyBpbnRvIHRyYW5zbGF0aW9uLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUcmFuc2xhdGVkIHRleHQuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG1vZHVsZT1cIm5nVmlld1wiPlxyXG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiVHJhbnNsYXRlQ3RybFwiPlxyXG5cclxuICAgICAgICA8cHJlPnt7ICdUUkFOU0xBVElPTl9JRCcgfCB0cmFuc2xhdGUgfX08L3ByZT5cclxuICAgICAgICA8cHJlPnt7IHRyYW5zbGF0aW9uSWQgfCB0cmFuc2xhdGUgfX08L3ByZT5cclxuICAgICAgICA8cHJlPnt7ICdXSVRIX1ZBTFVFUycgfCB0cmFuc2xhdGU6J3t2YWx1ZTogNX0nIH19PC9wcmU+XHJcbiAgICAgICAgPHByZT57eyAnV0lUSF9WQUxVRVMnIHwgdHJhbnNsYXRlOnZhbHVlcyB9fTwvcHJlPlxyXG5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1ZpZXcnLCBbJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnXSlcclxuXHJcbiAgICAgIC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xyXG5cclxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdlbicsIHtcclxuICAgICAgICAgICdUUkFOU0xBVElPTl9JRCc6ICdIZWxsbyB0aGVyZSEnLFxyXG4gICAgICAgICAgJ1dJVEhfVkFMVUVTJzogJ1RoZSBmb2xsb3dpbmcgdmFsdWUgaXMgZHluYW1pYzoge3t2YWx1ZX19J1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci5wcmVmZXJyZWRMYW5ndWFnZSgnZW4nKTtcclxuXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycpLmNvbnRyb2xsZXIoJ1RyYW5zbGF0ZUN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XHJcbiAgICAgICAgJHNjb3BlLnRyYW5zbGF0aW9uSWQgPSAnVFJBTlNMQVRJT05fSUQnO1xyXG5cclxuICAgICAgICAkc2NvcGUudmFsdWVzID0ge1xyXG4gICAgICAgICAgdmFsdWU6IDc4XHJcbiAgICAgICAgfTtcclxuICAgICAgfSk7XHJcbiAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcbi5maWx0ZXIoJ3RyYW5zbGF0ZScsIFsnJHBhcnNlJywgJyR0cmFuc2xhdGUnLCBmdW5jdGlvbiAoJHBhcnNlLCAkdHJhbnNsYXRlKSB7XHJcbiAgdmFyIHRyYW5zbGF0ZUZpbHRlciA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbikge1xyXG5cclxuICAgIGlmICghYW5ndWxhci5pc09iamVjdChpbnRlcnBvbGF0ZVBhcmFtcykpIHtcclxuICAgICAgaW50ZXJwb2xhdGVQYXJhbXMgPSAkcGFyc2UoaW50ZXJwb2xhdGVQYXJhbXMpKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAkdHJhbnNsYXRlLmluc3RhbnQodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb24pO1xyXG4gIH07XHJcblxyXG4gIC8vIFNpbmNlIEFuZ3VsYXJKUyAxLjMsIGZpbHRlcnMgd2hpY2ggYXJlIG5vdCBzdGF0ZWxlc3MgKGRlcGVuZGluZyBhdCB0aGUgc2NvcGUpXHJcbiAgLy8gaGF2ZSB0byBleHBsaWNpdCBkZWZpbmUgdGhpcyBiZWhhdmlvci5cclxuICB0cmFuc2xhdGVGaWx0ZXIuJHN0YXRlZnVsID0gdHJ1ZTtcclxuXHJcbiAgcmV0dXJuIHRyYW5zbGF0ZUZpbHRlcjtcclxufV0pO1xyXG5cclxuLyoqXHJcbiAqIEBsaWNlbnNlIEFuZ3VsYXJKUyB2MS4zLjIwXHJcbiAqIChjKSAyMDEwLTIwMTQgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnXHJcbiAqIExpY2Vuc2U6IE1JVFxyXG4gKi9cclxuKGZ1bmN0aW9uKHdpbmRvdywgYW5ndWxhciwgdW5kZWZpbmVkKSB7J3VzZSBzdHJpY3QnO1xyXG5cclxuLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKlxyXG4gKiAgICAgQW55IGNvbW1pdHMgdG8gdGhpcyBmaWxlIHNob3VsZCBiZSByZXZpZXdlZCB3aXRoIHNlY3VyaXR5IGluIG1pbmQuICAqXHJcbiAqICAgQ2hhbmdlcyB0byB0aGlzIGZpbGUgY2FuIHBvdGVudGlhbGx5IGNyZWF0ZSBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMuICpcclxuICogICAgICAgICAgQW4gYXBwcm92YWwgZnJvbSAyIENvcmUgbWVtYmVycyB3aXRoIGhpc3Rvcnkgb2YgbW9kaWZ5aW5nICAgICAgKlxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzIGZpbGUgaXMgcmVxdWlyZWQuICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICogIERvZXMgdGhlIGNoYW5nZSBzb21laG93IGFsbG93IGZvciBhcmJpdHJhcnkgamF2YXNjcmlwdCB0byBiZSBleGVjdXRlZD8gKlxyXG4gKiAgICBPciBhbGxvd3MgZm9yIHNvbWVvbmUgdG8gY2hhbmdlIHRoZSBwcm90b3R5cGUgb2YgYnVpbHQtaW4gb2JqZWN0cz8gICAqXHJcbiAqICAgICBPciBnaXZlcyB1bmRlc2lyZWQgYWNjZXNzIHRvIHZhcmlhYmxlcyBsaWtlcyBkb2N1bWVudCBvciB3aW5kb3c/ICAgICpcclxuICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi9cclxuXHJcbnZhciAkc2FuaXRpemVNaW5FcnIgPSBhbmd1bGFyLiQkbWluRXJyKCckc2FuaXRpemUnKTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgbW9kdWxlXHJcbiAqIEBuYW1lIG5nU2FuaXRpemVcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqICMgbmdTYW5pdGl6ZVxyXG4gKlxyXG4gKiBUaGUgYG5nU2FuaXRpemVgIG1vZHVsZSBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHNhbml0aXplIEhUTUwuXHJcbiAqXHJcbiAqXHJcbiAqIDxkaXYgZG9jLW1vZHVsZS1jb21wb25lbnRzPVwibmdTYW5pdGl6ZVwiPjwvZGl2PlxyXG4gKlxyXG4gKiBTZWUge0BsaW5rIG5nU2FuaXRpemUuJHNhbml0aXplIGAkc2FuaXRpemVgfSBmb3IgdXNhZ2UuXHJcbiAqL1xyXG5cclxuLypcclxuICogSFRNTCBQYXJzZXIgQnkgTWlza28gSGV2ZXJ5IChtaXNrb0BoZXZlcnkuY29tKVxyXG4gKiBiYXNlZCBvbjogIEhUTUwgUGFyc2VyIEJ5IEpvaG4gUmVzaWcgKGVqb2huLm9yZylcclxuICogT3JpZ2luYWwgY29kZSBieSBFcmlrIEFydmlkc3NvbiwgTW96aWxsYSBQdWJsaWMgTGljZW5zZVxyXG4gKiBodHRwOi8vZXJpay5lYWUubmV0L3NpbXBsZWh0bWxwYXJzZXIvc2ltcGxlaHRtbHBhcnNlci5qc1xyXG4gKlxyXG4gKiAvLyBVc2UgbGlrZSBzbzpcclxuICogaHRtbFBhcnNlcihodG1sU3RyaW5nLCB7XHJcbiAqICAgICBzdGFydDogZnVuY3Rpb24odGFnLCBhdHRycywgdW5hcnkpIHt9LFxyXG4gKiAgICAgZW5kOiBmdW5jdGlvbih0YWcpIHt9LFxyXG4gKiAgICAgY2hhcnM6IGZ1bmN0aW9uKHRleHQpIHt9LFxyXG4gKiAgICAgY29tbWVudDogZnVuY3Rpb24odGV4dCkge31cclxuICogfSk7XHJcbiAqXHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgc2VydmljZVxyXG4gKiBAbmFtZSAkc2FuaXRpemVcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqICAgVGhlIGlucHV0IGlzIHNhbml0aXplZCBieSBwYXJzaW5nIHRoZSBIVE1MIGludG8gdG9rZW5zLiBBbGwgc2FmZSB0b2tlbnMgKGZyb20gYSB3aGl0ZWxpc3QpIGFyZVxyXG4gKiAgIHRoZW4gc2VyaWFsaXplZCBiYWNrIHRvIHByb3Blcmx5IGVzY2FwZWQgaHRtbCBzdHJpbmcuIFRoaXMgbWVhbnMgdGhhdCBubyB1bnNhZmUgaW5wdXQgY2FuIG1ha2VcclxuICogICBpdCBpbnRvIHRoZSByZXR1cm5lZCBzdHJpbmcsIGhvd2V2ZXIsIHNpbmNlIG91ciBwYXJzZXIgaXMgbW9yZSBzdHJpY3QgdGhhbiBhIHR5cGljYWwgYnJvd3NlclxyXG4gKiAgIHBhcnNlciwgaXQncyBwb3NzaWJsZSB0aGF0IHNvbWUgb2JzY3VyZSBpbnB1dCwgd2hpY2ggd291bGQgYmUgcmVjb2duaXplZCBhcyB2YWxpZCBIVE1MIGJ5IGFcclxuICogICBicm93c2VyLCB3b24ndCBtYWtlIGl0IHRocm91Z2ggdGhlIHNhbml0aXplci4gVGhlIGlucHV0IG1heSBhbHNvIGNvbnRhaW4gU1ZHIG1hcmt1cC5cclxuICogICBUaGUgd2hpdGVsaXN0IGlzIGNvbmZpZ3VyZWQgdXNpbmcgdGhlIGZ1bmN0aW9ucyBgYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3RgIGFuZFxyXG4gKiAgIGBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3RgIG9mIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyIGAkY29tcGlsZVByb3ZpZGVyYH0uXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBodG1sIEhUTUwgaW5wdXQuXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFNhbml0aXplZCBIVE1MLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJzYW5pdGl6ZUV4YW1wbGVcIiBkZXBzPVwiYW5ndWxhci1zYW5pdGl6ZS5qc1wiPlxyXG4gICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdzYW5pdGl6ZUV4YW1wbGUnLCBbJ25nU2FuaXRpemUnXSlcclxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckc2NlJywgZnVuY3Rpb24oJHNjb3BlLCAkc2NlKSB7XHJcbiAgICAgICAgICAgICAkc2NvcGUuc25pcHBldCA9XHJcbiAgICAgICAgICAgICAgICc8cCBzdHlsZT1cImNvbG9yOmJsdWVcIj5hbiBodG1sXFxuJyArXHJcbiAgICAgICAgICAgICAgICc8ZW0gb25tb3VzZW92ZXI9XCJ0aGlzLnRleHRDb250ZW50PVxcJ1BXTjNEIVxcJ1wiPmNsaWNrIGhlcmU8L2VtPlxcbicgK1xyXG4gICAgICAgICAgICAgICAnc25pcHBldDwvcD4nO1xyXG4gICAgICAgICAgICAgJHNjb3BlLmRlbGliZXJhdGVseVRydXN0RGFuZ2Vyb3VzU25pcHBldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICByZXR1cm4gJHNjZS50cnVzdEFzSHRtbCgkc2NvcGUuc25pcHBldCk7XHJcbiAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgIH1dKTtcclxuICAgICA8L3NjcmlwdD5cclxuICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgIFNuaXBwZXQ6IDx0ZXh0YXJlYSBuZy1tb2RlbD1cInNuaXBwZXRcIiBjb2xzPVwiNjBcIiByb3dzPVwiM1wiPjwvdGV4dGFyZWE+XHJcbiAgICAgICA8dGFibGU+XHJcbiAgICAgICAgIDx0cj5cclxuICAgICAgICAgICA8dGQ+RGlyZWN0aXZlPC90ZD5cclxuICAgICAgICAgICA8dGQ+SG93PC90ZD5cclxuICAgICAgICAgICA8dGQ+U291cmNlPC90ZD5cclxuICAgICAgICAgICA8dGQ+UmVuZGVyZWQ8L3RkPlxyXG4gICAgICAgICA8L3RyPlxyXG4gICAgICAgICA8dHIgaWQ9XCJiaW5kLWh0bWwtd2l0aC1zYW5pdGl6ZVwiPlxyXG4gICAgICAgICAgIDx0ZD5uZy1iaW5kLWh0bWw8L3RkPlxyXG4gICAgICAgICAgIDx0ZD5BdXRvbWF0aWNhbGx5IHVzZXMgJHNhbml0aXplPC90ZD5cclxuICAgICAgICAgICA8dGQ+PHByZT4mbHQ7ZGl2IG5nLWJpbmQtaHRtbD1cInNuaXBwZXRcIiZndDs8YnIvPiZsdDsvZGl2Jmd0OzwvcHJlPjwvdGQ+XHJcbiAgICAgICAgICAgPHRkPjxkaXYgbmctYmluZC1odG1sPVwic25pcHBldFwiPjwvZGl2PjwvdGQ+XHJcbiAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgIDx0ciBpZD1cImJpbmQtaHRtbC13aXRoLXRydXN0XCI+XHJcbiAgICAgICAgICAgPHRkPm5nLWJpbmQtaHRtbDwvdGQ+XHJcbiAgICAgICAgICAgPHRkPkJ5cGFzcyAkc2FuaXRpemUgYnkgZXhwbGljaXRseSB0cnVzdGluZyB0aGUgZGFuZ2Vyb3VzIHZhbHVlPC90ZD5cclxuICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgPHByZT4mbHQ7ZGl2IG5nLWJpbmQtaHRtbD1cImRlbGliZXJhdGVseVRydXN0RGFuZ2Vyb3VzU25pcHBldCgpXCImZ3Q7XHJcbiZsdDsvZGl2Jmd0OzwvcHJlPlxyXG4gICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgPHRkPjxkaXYgbmctYmluZC1odG1sPVwiZGVsaWJlcmF0ZWx5VHJ1c3REYW5nZXJvdXNTbmlwcGV0KClcIj48L2Rpdj48L3RkPlxyXG4gICAgICAgICA8L3RyPlxyXG4gICAgICAgICA8dHIgaWQ9XCJiaW5kLWRlZmF1bHRcIj5cclxuICAgICAgICAgICA8dGQ+bmctYmluZDwvdGQ+XHJcbiAgICAgICAgICAgPHRkPkF1dG9tYXRpY2FsbHkgZXNjYXBlczwvdGQ+XHJcbiAgICAgICAgICAgPHRkPjxwcmU+Jmx0O2RpdiBuZy1iaW5kPVwic25pcHBldFwiJmd0Ozxici8+Jmx0Oy9kaXYmZ3Q7PC9wcmU+PC90ZD5cclxuICAgICAgICAgICA8dGQ+PGRpdiBuZy1iaW5kPVwic25pcHBldFwiPjwvZGl2PjwvdGQ+XHJcbiAgICAgICAgIDwvdHI+XHJcbiAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgPC9kaXY+XHJcbiAgIDwvZmlsZT5cclxuICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgIGl0KCdzaG91bGQgc2FuaXRpemUgdGhlIGh0bWwgc25pcHBldCBieSBkZWZhdWx0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyNiaW5kLWh0bWwtd2l0aC1zYW5pdGl6ZSBkaXYnKSkuZ2V0SW5uZXJIdG1sKCkpLlxyXG4gICAgICAgICB0b0JlKCc8cD5hbiBodG1sXFxuPGVtPmNsaWNrIGhlcmU8L2VtPlxcbnNuaXBwZXQ8L3A+Jyk7XHJcbiAgICAgfSk7XHJcblxyXG4gICAgIGl0KCdzaG91bGQgaW5saW5lIHJhdyBzbmlwcGV0IGlmIGJvdW5kIHRvIGEgdHJ1c3RlZCB2YWx1ZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjYmluZC1odG1sLXdpdGgtdHJ1c3QgZGl2JykpLmdldElubmVySHRtbCgpKS5cclxuICAgICAgICAgdG9CZShcIjxwIHN0eWxlPVxcXCJjb2xvcjpibHVlXFxcIj5hbiBodG1sXFxuXCIgK1xyXG4gICAgICAgICAgICAgIFwiPGVtIG9ubW91c2VvdmVyPVxcXCJ0aGlzLnRleHRDb250ZW50PSdQV04zRCEnXFxcIj5jbGljayBoZXJlPC9lbT5cXG5cIiArXHJcbiAgICAgICAgICAgICAgXCJzbmlwcGV0PC9wPlwiKTtcclxuICAgICB9KTtcclxuXHJcbiAgICAgaXQoJ3Nob3VsZCBlc2NhcGUgc25pcHBldCB3aXRob3V0IGFueSBmaWx0ZXInLCBmdW5jdGlvbigpIHtcclxuICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnI2JpbmQtZGVmYXVsdCBkaXYnKSkuZ2V0SW5uZXJIdG1sKCkpLlxyXG4gICAgICAgICB0b0JlKFwiJmx0O3Agc3R5bGU9XFxcImNvbG9yOmJsdWVcXFwiJmd0O2FuIGh0bWxcXG5cIiArXHJcbiAgICAgICAgICAgICAgXCImbHQ7ZW0gb25tb3VzZW92ZXI9XFxcInRoaXMudGV4dENvbnRlbnQ9J1BXTjNEISdcXFwiJmd0O2NsaWNrIGhlcmUmbHQ7L2VtJmd0O1xcblwiICtcclxuICAgICAgICAgICAgICBcInNuaXBwZXQmbHQ7L3AmZ3Q7XCIpO1xyXG4gICAgIH0pO1xyXG5cclxuICAgICBpdCgnc2hvdWxkIHVwZGF0ZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgZWxlbWVudChieS5tb2RlbCgnc25pcHBldCcpKS5jbGVhcigpO1xyXG4gICAgICAgZWxlbWVudChieS5tb2RlbCgnc25pcHBldCcpKS5zZW5kS2V5cygnbmV3IDxiIG9uY2xpY2s9XCJhbGVydCgxKVwiPnRleHQ8L2I+Jyk7XHJcbiAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyNiaW5kLWh0bWwtd2l0aC1zYW5pdGl6ZSBkaXYnKSkuZ2V0SW5uZXJIdG1sKCkpLlxyXG4gICAgICAgICB0b0JlKCduZXcgPGI+dGV4dDwvYj4nKTtcclxuICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnI2JpbmQtaHRtbC13aXRoLXRydXN0IGRpdicpKS5nZXRJbm5lckh0bWwoKSkudG9CZShcclxuICAgICAgICAgJ25ldyA8YiBvbmNsaWNrPVwiYWxlcnQoMSlcIj50ZXh0PC9iPicpO1xyXG4gICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjYmluZC1kZWZhdWx0IGRpdicpKS5nZXRJbm5lckh0bWwoKSkudG9CZShcclxuICAgICAgICAgXCJuZXcgJmx0O2Igb25jbGljaz1cXFwiYWxlcnQoMSlcXFwiJmd0O3RleHQmbHQ7L2ImZ3Q7XCIpO1xyXG4gICAgIH0pO1xyXG4gICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcbmZ1bmN0aW9uICRTYW5pdGl6ZVByb3ZpZGVyKCkge1xyXG4gIHRoaXMuJGdldCA9IFsnJCRzYW5pdGl6ZVVyaScsIGZ1bmN0aW9uKCQkc2FuaXRpemVVcmkpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihodG1sKSB7XHJcbiAgICAgIHZhciBidWYgPSBbXTtcclxuICAgICAgaHRtbFBhcnNlcihodG1sLCBodG1sU2FuaXRpemVXcml0ZXIoYnVmLCBmdW5jdGlvbih1cmksIGlzSW1hZ2UpIHtcclxuICAgICAgICByZXR1cm4gIS9edW5zYWZlLy50ZXN0KCQkc2FuaXRpemVVcmkodXJpLCBpc0ltYWdlKSk7XHJcbiAgICAgIH0pKTtcclxuICAgICAgcmV0dXJuIGJ1Zi5qb2luKCcnKTtcclxuICAgIH07XHJcbiAgfV07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNhbml0aXplVGV4dChjaGFycykge1xyXG4gIHZhciBidWYgPSBbXTtcclxuICB2YXIgd3JpdGVyID0gaHRtbFNhbml0aXplV3JpdGVyKGJ1ZiwgYW5ndWxhci5ub29wKTtcclxuICB3cml0ZXIuY2hhcnMoY2hhcnMpO1xyXG4gIHJldHVybiBidWYuam9pbignJyk7XHJcbn1cclxuXHJcblxyXG4vLyBSZWd1bGFyIEV4cHJlc3Npb25zIGZvciBwYXJzaW5nIHRhZ3MgYW5kIGF0dHJpYnV0ZXNcclxudmFyIFNUQVJUX1RBR19SRUdFWFAgPVxyXG4gICAgICAgL148KCg/OlthLXpBLVpdKVtcXHc6LV0qKSgoPzpcXHMrW1xcdzotXSsoPzpcXHMqPVxccyooPzooPzpcIlteXCJdKlwiKXwoPzonW14nXSonKXxbXj5cXHNdKykpPykqKVxccyooXFwvPylcXHMqKD4/KS8sXHJcbiAgRU5EX1RBR19SRUdFWFAgPSAvXjxcXC9cXHMqKFtcXHc6LV0rKVtePl0qPi8sXHJcbiAgQVRUUl9SRUdFWFAgPSAvKFtcXHc6LV0rKSg/Olxccyo9XFxzKig/Oig/OlwiKCg/OlteXCJdKSopXCIpfCg/OicoKD86W14nXSkqKScpfChbXj5cXHNdKykpKT8vZyxcclxuICBCRUdJTl9UQUdfUkVHRVhQID0gL148LyxcclxuICBCRUdJTkdfRU5EX1RBR0VfUkVHRVhQID0gL148XFwvLyxcclxuICBDT01NRU5UX1JFR0VYUCA9IC88IS0tKC4qPyktLT4vZyxcclxuICBET0NUWVBFX1JFR0VYUCA9IC88IURPQ1RZUEUoW14+XSo/KT4vaSxcclxuICBDREFUQV9SRUdFWFAgPSAvPCFcXFtDREFUQVxcWyguKj8pXV0+L2csXHJcbiAgU1VSUk9HQVRFX1BBSVJfUkVHRVhQID0gL1tcXHVEODAwLVxcdURCRkZdW1xcdURDMDAtXFx1REZGRl0vZyxcclxuICAvLyBNYXRjaCBldmVyeXRoaW5nIG91dHNpZGUgb2Ygbm9ybWFsIGNoYXJzIGFuZCBcIiAocXVvdGUgY2hhcmFjdGVyKVxyXG4gIE5PTl9BTFBIQU5VTUVSSUNfUkVHRVhQID0gLyhbXlxcIy1+fCB8IV0pL2c7XHJcblxyXG5cclxuLy8gR29vZCBzb3VyY2Ugb2YgaW5mbyBhYm91dCBlbGVtZW50cyBhbmQgYXR0cmlidXRlc1xyXG4vLyBodHRwOi8vZGV2LnczLm9yZy9odG1sNS9zcGVjL092ZXJ2aWV3Lmh0bWwjc2VtYW50aWNzXHJcbi8vIGh0dHA6Ly9zaW1vbi5odG1sNS5vcmcvaHRtbC1lbGVtZW50c1xyXG5cclxuLy8gU2FmZSBWb2lkIEVsZW1lbnRzIC0gSFRNTDVcclxuLy8gaHR0cDovL2Rldi53My5vcmcvaHRtbDUvc3BlYy9PdmVydmlldy5odG1sI3ZvaWQtZWxlbWVudHNcclxudmFyIHZvaWRFbGVtZW50cyA9IG1ha2VNYXAoXCJhcmVhLGJyLGNvbCxocixpbWcsd2JyXCIpO1xyXG5cclxuLy8gRWxlbWVudHMgdGhhdCB5b3UgY2FuLCBpbnRlbnRpb25hbGx5LCBsZWF2ZSBvcGVuIChhbmQgd2hpY2ggY2xvc2UgdGhlbXNlbHZlcylcclxuLy8gaHR0cDovL2Rldi53My5vcmcvaHRtbDUvc3BlYy9PdmVydmlldy5odG1sI29wdGlvbmFsLXRhZ3NcclxudmFyIG9wdGlvbmFsRW5kVGFnQmxvY2tFbGVtZW50cyA9IG1ha2VNYXAoXCJjb2xncm91cCxkZCxkdCxsaSxwLHRib2R5LHRkLHRmb290LHRoLHRoZWFkLHRyXCIpLFxyXG4gICAgb3B0aW9uYWxFbmRUYWdJbmxpbmVFbGVtZW50cyA9IG1ha2VNYXAoXCJycCxydFwiKSxcclxuICAgIG9wdGlvbmFsRW5kVGFnRWxlbWVudHMgPSBhbmd1bGFyLmV4dGVuZCh7fSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25hbEVuZFRhZ0lubGluZUVsZW1lbnRzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsRW5kVGFnQmxvY2tFbGVtZW50cyk7XHJcblxyXG4vLyBTYWZlIEJsb2NrIEVsZW1lbnRzIC0gSFRNTDVcclxudmFyIGJsb2NrRWxlbWVudHMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgb3B0aW9uYWxFbmRUYWdCbG9ja0VsZW1lbnRzLCBtYWtlTWFwKFwiYWRkcmVzcyxhcnRpY2xlLFwiICtcclxuICAgICAgICBcImFzaWRlLGJsb2NrcXVvdGUsY2FwdGlvbixjZW50ZXIsZGVsLGRpcixkaXYsZGwsZmlndXJlLGZpZ2NhcHRpb24sZm9vdGVyLGgxLGgyLGgzLGg0LGg1LFwiICtcclxuICAgICAgICBcImg2LGhlYWRlcixoZ3JvdXAsaHIsaW5zLG1hcCxtZW51LG5hdixvbCxwcmUsc2NyaXB0LHNlY3Rpb24sdGFibGUsdWxcIikpO1xyXG5cclxuLy8gSW5saW5lIEVsZW1lbnRzIC0gSFRNTDVcclxudmFyIGlubGluZUVsZW1lbnRzID0gYW5ndWxhci5leHRlbmQoe30sIG9wdGlvbmFsRW5kVGFnSW5saW5lRWxlbWVudHMsIG1ha2VNYXAoXCJhLGFiYnIsYWNyb255bSxiLFwiICtcclxuICAgICAgICBcImJkaSxiZG8sYmlnLGJyLGNpdGUsY29kZSxkZWwsZGZuLGVtLGZvbnQsaSxpbWcsaW5zLGtiZCxsYWJlbCxtYXAsbWFyayxxLHJ1YnkscnAscnQscyxcIiArXHJcbiAgICAgICAgXCJzYW1wLHNtYWxsLHNwYW4sc3RyaWtlLHN0cm9uZyxzdWIsc3VwLHRpbWUsdHQsdSx2YXJcIikpO1xyXG5cclxuLy8gU1ZHIEVsZW1lbnRzXHJcbi8vIGh0dHBzOi8vd2lraS53aGF0d2cub3JnL3dpa2kvU2FuaXRpemF0aW9uX3J1bGVzI3N2Z19FbGVtZW50c1xyXG52YXIgc3ZnRWxlbWVudHMgPSBtYWtlTWFwKFwiYW5pbWF0ZSxhbmltYXRlQ29sb3IsYW5pbWF0ZU1vdGlvbixhbmltYXRlVHJhbnNmb3JtLGNpcmNsZSxkZWZzLFwiICtcclxuICAgICAgICBcImRlc2MsZWxsaXBzZSxmb250LWZhY2UsZm9udC1mYWNlLW5hbWUsZm9udC1mYWNlLXNyYyxnLGdseXBoLGhrZXJuLGltYWdlLGxpbmVhckdyYWRpZW50LFwiICtcclxuICAgICAgICBcImxpbmUsbWFya2VyLG1ldGFkYXRhLG1pc3NpbmctZ2x5cGgsbXBhdGgscGF0aCxwb2x5Z29uLHBvbHlsaW5lLHJhZGlhbEdyYWRpZW50LHJlY3Qsc2V0LFwiICtcclxuICAgICAgICBcInN0b3Asc3ZnLHN3aXRjaCx0ZXh0LHRpdGxlLHRzcGFuLHVzZVwiKTtcclxuXHJcbi8vIFNwZWNpYWwgRWxlbWVudHMgKGNhbiBjb250YWluIGFueXRoaW5nKVxyXG52YXIgc3BlY2lhbEVsZW1lbnRzID0gbWFrZU1hcChcInNjcmlwdCxzdHlsZVwiKTtcclxuXHJcbnZhciB2YWxpZEVsZW1lbnRzID0gYW5ndWxhci5leHRlbmQoe30sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9pZEVsZW1lbnRzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrRWxlbWVudHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5saW5lRWxlbWVudHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWxFbmRUYWdFbGVtZW50cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdmdFbGVtZW50cyk7XHJcblxyXG4vL0F0dHJpYnV0ZXMgdGhhdCBoYXZlIGhyZWYgYW5kIGhlbmNlIG5lZWQgdG8gYmUgc2FuaXRpemVkXHJcbnZhciB1cmlBdHRycyA9IG1ha2VNYXAoXCJiYWNrZ3JvdW5kLGNpdGUsaHJlZixsb25nZGVzYyxzcmMsdXNlbWFwLHhsaW5rOmhyZWZcIik7XHJcblxyXG52YXIgaHRtbEF0dHJzID0gbWFrZU1hcCgnYWJicixhbGlnbixhbHQsYXhpcyxiZ2NvbG9yLGJvcmRlcixjZWxscGFkZGluZyxjZWxsc3BhY2luZyxjbGFzcyxjbGVhciwnICtcclxuICAgICdjb2xvcixjb2xzLGNvbHNwYW4sY29tcGFjdCxjb29yZHMsZGlyLGZhY2UsaGVhZGVycyxoZWlnaHQsaHJlZmxhbmcsaHNwYWNlLCcgK1xyXG4gICAgJ2lzbWFwLGxhbmcsbGFuZ3VhZ2Usbm9ocmVmLG5vd3JhcCxyZWwscmV2LHJvd3Mscm93c3BhbixydWxlcywnICtcclxuICAgICdzY29wZSxzY3JvbGxpbmcsc2hhcGUsc2l6ZSxzcGFuLHN0YXJ0LHN1bW1hcnksdGFyZ2V0LHRpdGxlLHR5cGUsJyArXHJcbiAgICAndmFsaWduLHZhbHVlLHZzcGFjZSx3aWR0aCcpO1xyXG5cclxuLy8gU1ZHIGF0dHJpYnV0ZXMgKHdpdGhvdXQgXCJpZFwiIGFuZCBcIm5hbWVcIiBhdHRyaWJ1dGVzKVxyXG4vLyBodHRwczovL3dpa2kud2hhdHdnLm9yZy93aWtpL1Nhbml0aXphdGlvbl9ydWxlcyNzdmdfQXR0cmlidXRlc1xyXG52YXIgc3ZnQXR0cnMgPSBtYWtlTWFwKCdhY2NlbnQtaGVpZ2h0LGFjY3VtdWxhdGUsYWRkaXRpdmUsYWxwaGFiZXRpYyxhcmFiaWMtZm9ybSxhc2NlbnQsJyArXHJcbiAgICAnYXR0cmlidXRlTmFtZSxhdHRyaWJ1dGVUeXBlLGJhc2VQcm9maWxlLGJib3gsYmVnaW4sYnksY2FsY01vZGUsY2FwLWhlaWdodCxjbGFzcyxjb2xvciwnICtcclxuICAgICdjb2xvci1yZW5kZXJpbmcsY29udGVudCxjeCxjeSxkLGR4LGR5LGRlc2NlbnQsZGlzcGxheSxkdXIsZW5kLGZpbGwsZmlsbC1ydWxlLGZvbnQtZmFtaWx5LCcgK1xyXG4gICAgJ2ZvbnQtc2l6ZSxmb250LXN0cmV0Y2gsZm9udC1zdHlsZSxmb250LXZhcmlhbnQsZm9udC13ZWlnaHQsZnJvbSxmeCxmeSxnMSxnMixnbHlwaC1uYW1lLCcgK1xyXG4gICAgJ2dyYWRpZW50VW5pdHMsaGFuZ2luZyxoZWlnaHQsaG9yaXotYWR2LXgsaG9yaXotb3JpZ2luLXgsaWRlb2dyYXBoaWMsayxrZXlQb2ludHMsJyArXHJcbiAgICAna2V5U3BsaW5lcyxrZXlUaW1lcyxsYW5nLG1hcmtlci1lbmQsbWFya2VyLW1pZCxtYXJrZXItc3RhcnQsbWFya2VySGVpZ2h0LG1hcmtlclVuaXRzLCcgK1xyXG4gICAgJ21hcmtlcldpZHRoLG1hdGhlbWF0aWNhbCxtYXgsbWluLG9mZnNldCxvcGFjaXR5LG9yaWVudCxvcmlnaW4sb3ZlcmxpbmUtcG9zaXRpb24sJyArXHJcbiAgICAnb3ZlcmxpbmUtdGhpY2tuZXNzLHBhbm9zZS0xLHBhdGgscGF0aExlbmd0aCxwb2ludHMscHJlc2VydmVBc3BlY3RSYXRpbyxyLHJlZlgscmVmWSwnICtcclxuICAgICdyZXBlYXRDb3VudCxyZXBlYXREdXIscmVxdWlyZWRFeHRlbnNpb25zLHJlcXVpcmVkRmVhdHVyZXMscmVzdGFydCxyb3RhdGUscngscnksc2xvcGUsc3RlbWgsJyArXHJcbiAgICAnc3RlbXYsc3RvcC1jb2xvcixzdG9wLW9wYWNpdHksc3RyaWtldGhyb3VnaC1wb3NpdGlvbixzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcyxzdHJva2UsJyArXHJcbiAgICAnc3Ryb2tlLWRhc2hhcnJheSxzdHJva2UtZGFzaG9mZnNldCxzdHJva2UtbGluZWNhcCxzdHJva2UtbGluZWpvaW4sc3Ryb2tlLW1pdGVybGltaXQsJyArXHJcbiAgICAnc3Ryb2tlLW9wYWNpdHksc3Ryb2tlLXdpZHRoLHN5c3RlbUxhbmd1YWdlLHRhcmdldCx0ZXh0LWFuY2hvcix0byx0cmFuc2Zvcm0sdHlwZSx1MSx1MiwnICtcclxuICAgICd1bmRlcmxpbmUtcG9zaXRpb24sdW5kZXJsaW5lLXRoaWNrbmVzcyx1bmljb2RlLHVuaWNvZGUtcmFuZ2UsdW5pdHMtcGVyLWVtLHZhbHVlcyx2ZXJzaW9uLCcgK1xyXG4gICAgJ3ZpZXdCb3gsdmlzaWJpbGl0eSx3aWR0aCx3aWR0aHMseCx4LWhlaWdodCx4MSx4Mix4bGluazphY3R1YXRlLHhsaW5rOmFyY3JvbGUseGxpbms6cm9sZSwnICtcclxuICAgICd4bGluazpzaG93LHhsaW5rOnRpdGxlLHhsaW5rOnR5cGUseG1sOmJhc2UseG1sOmxhbmcseG1sOnNwYWNlLHhtbG5zLHhtbG5zOnhsaW5rLHkseTEseTIsJyArXHJcbiAgICAnem9vbUFuZFBhbicpO1xyXG5cclxudmFyIHZhbGlkQXR0cnMgPSBhbmd1bGFyLmV4dGVuZCh7fSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmlBdHRycyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdmdBdHRycyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sQXR0cnMpO1xyXG5cclxuZnVuY3Rpb24gbWFrZU1hcChzdHIpIHtcclxuICB2YXIgb2JqID0ge30sIGl0ZW1zID0gc3RyLnNwbGl0KCcsJyksIGk7XHJcbiAgZm9yIChpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSBvYmpbaXRlbXNbaV1dID0gdHJ1ZTtcclxuICByZXR1cm4gb2JqO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGh0bWxQYXJzZXIoaHRtbFN0cmluZywge1xyXG4gKiAgICAgc3RhcnQ6IGZ1bmN0aW9uKHRhZywgYXR0cnMsIHVuYXJ5KSB7fSxcclxuICogICAgIGVuZDogZnVuY3Rpb24odGFnKSB7fSxcclxuICogICAgIGNoYXJzOiBmdW5jdGlvbih0ZXh0KSB7fSxcclxuICogICAgIGNvbW1lbnQ6IGZ1bmN0aW9uKHRleHQpIHt9XHJcbiAqIH0pO1xyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaHRtbCBzdHJpbmdcclxuICogQHBhcmFtIHtvYmplY3R9IGhhbmRsZXJcclxuICovXHJcbmZ1bmN0aW9uIGh0bWxQYXJzZXIoaHRtbCwgaGFuZGxlcikge1xyXG4gIGlmICh0eXBlb2YgaHRtbCAhPT0gJ3N0cmluZycpIHtcclxuICAgIGlmIChodG1sID09PSBudWxsIHx8IHR5cGVvZiBodG1sID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICBodG1sID0gJyc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBodG1sID0gJycgKyBodG1sO1xyXG4gICAgfVxyXG4gIH1cclxuICB2YXIgaW5kZXgsIGNoYXJzLCBtYXRjaCwgc3RhY2sgPSBbXSwgbGFzdCA9IGh0bWwsIHRleHQ7XHJcbiAgc3RhY2subGFzdCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07IH07XHJcblxyXG4gIHdoaWxlIChodG1sKSB7XHJcbiAgICB0ZXh0ID0gJyc7XHJcbiAgICBjaGFycyA9IHRydWU7XHJcblxyXG4gICAgLy8gTWFrZSBzdXJlIHdlJ3JlIG5vdCBpbiBhIHNjcmlwdCBvciBzdHlsZSBlbGVtZW50XHJcbiAgICBpZiAoIXN0YWNrLmxhc3QoKSB8fCAhc3BlY2lhbEVsZW1lbnRzW3N0YWNrLmxhc3QoKV0pIHtcclxuXHJcbiAgICAgIC8vIENvbW1lbnRcclxuICAgICAgaWYgKGh0bWwuaW5kZXhPZihcIjwhLS1cIikgPT09IDApIHtcclxuICAgICAgICAvLyBjb21tZW50cyBjb250YWluaW5nIC0tIGFyZSBub3QgYWxsb3dlZCB1bmxlc3MgdGhleSB0ZXJtaW5hdGUgdGhlIGNvbW1lbnRcclxuICAgICAgICBpbmRleCA9IGh0bWwuaW5kZXhPZihcIi0tXCIsIDQpO1xyXG5cclxuICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBodG1sLmxhc3RJbmRleE9mKFwiLS0+XCIsIGluZGV4KSA9PT0gaW5kZXgpIHtcclxuICAgICAgICAgIGlmIChoYW5kbGVyLmNvbW1lbnQpIGhhbmRsZXIuY29tbWVudChodG1sLnN1YnN0cmluZyg0LCBpbmRleCkpO1xyXG4gICAgICAgICAgaHRtbCA9IGh0bWwuc3Vic3RyaW5nKGluZGV4ICsgMyk7XHJcbiAgICAgICAgICBjaGFycyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgLy8gRE9DVFlQRVxyXG4gICAgICB9IGVsc2UgaWYgKERPQ1RZUEVfUkVHRVhQLnRlc3QoaHRtbCkpIHtcclxuICAgICAgICBtYXRjaCA9IGh0bWwubWF0Y2goRE9DVFlQRV9SRUdFWFApO1xyXG5cclxuICAgICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UobWF0Y2hbMF0sICcnKTtcclxuICAgICAgICAgIGNoYXJzID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAvLyBlbmQgdGFnXHJcbiAgICAgIH0gZWxzZSBpZiAoQkVHSU5HX0VORF9UQUdFX1JFR0VYUC50ZXN0KGh0bWwpKSB7XHJcbiAgICAgICAgbWF0Y2ggPSBodG1sLm1hdGNoKEVORF9UQUdfUkVHRVhQKTtcclxuXHJcbiAgICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgICBodG1sID0gaHRtbC5zdWJzdHJpbmcobWF0Y2hbMF0ubGVuZ3RoKTtcclxuICAgICAgICAgIG1hdGNoWzBdLnJlcGxhY2UoRU5EX1RBR19SRUdFWFAsIHBhcnNlRW5kVGFnKTtcclxuICAgICAgICAgIGNoYXJzID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgLy8gc3RhcnQgdGFnXHJcbiAgICAgIH0gZWxzZSBpZiAoQkVHSU5fVEFHX1JFR0VYUC50ZXN0KGh0bWwpKSB7XHJcbiAgICAgICAgbWF0Y2ggPSBodG1sLm1hdGNoKFNUQVJUX1RBR19SRUdFWFApO1xyXG5cclxuICAgICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICAgIC8vIFdlIG9ubHkgaGF2ZSBhIHZhbGlkIHN0YXJ0LXRhZyBpZiB0aGVyZSBpcyBhICc+Jy5cclxuICAgICAgICAgIGlmIChtYXRjaFs0XSkge1xyXG4gICAgICAgICAgICBodG1sID0gaHRtbC5zdWJzdHJpbmcobWF0Y2hbMF0ubGVuZ3RoKTtcclxuICAgICAgICAgICAgbWF0Y2hbMF0ucmVwbGFjZShTVEFSVF9UQUdfUkVHRVhQLCBwYXJzZVN0YXJ0VGFnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNoYXJzID0gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIG5vIGVuZGluZyB0YWcgZm91bmQgLS0tIHRoaXMgcGllY2Ugc2hvdWxkIGJlIGVuY29kZWQgYXMgYW4gZW50aXR5LlxyXG4gICAgICAgICAgdGV4dCArPSAnPCc7XHJcbiAgICAgICAgICBodG1sID0gaHRtbC5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoY2hhcnMpIHtcclxuICAgICAgICBpbmRleCA9IGh0bWwuaW5kZXhPZihcIjxcIik7XHJcblxyXG4gICAgICAgIHRleHQgKz0gaW5kZXggPCAwID8gaHRtbCA6IGh0bWwuc3Vic3RyaW5nKDAsIGluZGV4KTtcclxuICAgICAgICBodG1sID0gaW5kZXggPCAwID8gXCJcIiA6IGh0bWwuc3Vic3RyaW5nKGluZGV4KTtcclxuXHJcbiAgICAgICAgaWYgKGhhbmRsZXIuY2hhcnMpIGhhbmRsZXIuY2hhcnMoZGVjb2RlRW50aXRpZXModGV4dCkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gSUUgdmVyc2lvbnMgOSBhbmQgMTAgZG8gbm90IHVuZGVyc3RhbmQgdGhlIHJlZ2V4ICdbXl0nLCBzbyB1c2luZyBhIHdvcmthcm91bmQgd2l0aCBbXFxXXFx3XS5cclxuICAgICAgaHRtbCA9IGh0bWwucmVwbGFjZShuZXcgUmVnRXhwKFwiKFtcXFxcV1xcXFx3XSopPFxcXFxzKlxcXFwvXFxcXHMqXCIgKyBzdGFjay5sYXN0KCkgKyBcIltePl0qPlwiLCAnaScpLFxyXG4gICAgICAgIGZ1bmN0aW9uKGFsbCwgdGV4dCkge1xyXG4gICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShDT01NRU5UX1JFR0VYUCwgXCIkMVwiKS5yZXBsYWNlKENEQVRBX1JFR0VYUCwgXCIkMVwiKTtcclxuXHJcbiAgICAgICAgICBpZiAoaGFuZGxlci5jaGFycykgaGFuZGxlci5jaGFycyhkZWNvZGVFbnRpdGllcyh0ZXh0KSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcGFyc2VFbmRUYWcoXCJcIiwgc3RhY2subGFzdCgpKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaHRtbCA9PSBsYXN0KSB7XHJcbiAgICAgIHRocm93ICRzYW5pdGl6ZU1pbkVycignYmFkcGFyc2UnLCBcIlRoZSBzYW5pdGl6ZXIgd2FzIHVuYWJsZSB0byBwYXJzZSB0aGUgZm9sbG93aW5nIGJsb2NrIFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib2YgaHRtbDogezB9XCIsIGh0bWwpO1xyXG4gICAgfVxyXG4gICAgbGFzdCA9IGh0bWw7XHJcbiAgfVxyXG5cclxuICAvLyBDbGVhbiB1cCBhbnkgcmVtYWluaW5nIHRhZ3NcclxuICBwYXJzZUVuZFRhZygpO1xyXG5cclxuICBmdW5jdGlvbiBwYXJzZVN0YXJ0VGFnKHRhZywgdGFnTmFtZSwgcmVzdCwgdW5hcnkpIHtcclxuICAgIHRhZ05hbWUgPSBhbmd1bGFyLmxvd2VyY2FzZSh0YWdOYW1lKTtcclxuICAgIGlmIChibG9ja0VsZW1lbnRzW3RhZ05hbWVdKSB7XHJcbiAgICAgIHdoaWxlIChzdGFjay5sYXN0KCkgJiYgaW5saW5lRWxlbWVudHNbc3RhY2subGFzdCgpXSkge1xyXG4gICAgICAgIHBhcnNlRW5kVGFnKFwiXCIsIHN0YWNrLmxhc3QoKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAob3B0aW9uYWxFbmRUYWdFbGVtZW50c1t0YWdOYW1lXSAmJiBzdGFjay5sYXN0KCkgPT0gdGFnTmFtZSkge1xyXG4gICAgICBwYXJzZUVuZFRhZyhcIlwiLCB0YWdOYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICB1bmFyeSA9IHZvaWRFbGVtZW50c1t0YWdOYW1lXSB8fCAhIXVuYXJ5O1xyXG5cclxuICAgIGlmICghdW5hcnkpXHJcbiAgICAgIHN0YWNrLnB1c2godGFnTmFtZSk7XHJcblxyXG4gICAgdmFyIGF0dHJzID0ge307XHJcblxyXG4gICAgcmVzdC5yZXBsYWNlKEFUVFJfUkVHRVhQLFxyXG4gICAgICBmdW5jdGlvbihtYXRjaCwgbmFtZSwgZG91YmxlUXVvdGVkVmFsdWUsIHNpbmdsZVF1b3RlZFZhbHVlLCB1bnF1b3RlZFZhbHVlKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gZG91YmxlUXVvdGVkVmFsdWVcclxuICAgICAgICAgIHx8IHNpbmdsZVF1b3RlZFZhbHVlXHJcbiAgICAgICAgICB8fCB1bnF1b3RlZFZhbHVlXHJcbiAgICAgICAgICB8fCAnJztcclxuXHJcbiAgICAgICAgYXR0cnNbbmFtZV0gPSBkZWNvZGVFbnRpdGllcyh2YWx1ZSk7XHJcbiAgICB9KTtcclxuICAgIGlmIChoYW5kbGVyLnN0YXJ0KSBoYW5kbGVyLnN0YXJ0KHRhZ05hbWUsIGF0dHJzLCB1bmFyeSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBwYXJzZUVuZFRhZyh0YWcsIHRhZ05hbWUpIHtcclxuICAgIHZhciBwb3MgPSAwLCBpO1xyXG4gICAgdGFnTmFtZSA9IGFuZ3VsYXIubG93ZXJjYXNlKHRhZ05hbWUpO1xyXG4gICAgaWYgKHRhZ05hbWUpXHJcbiAgICAgIC8vIEZpbmQgdGhlIGNsb3Nlc3Qgb3BlbmVkIHRhZyBvZiB0aGUgc2FtZSB0eXBlXHJcbiAgICAgIGZvciAocG9zID0gc3RhY2subGVuZ3RoIC0gMTsgcG9zID49IDA7IHBvcy0tKVxyXG4gICAgICAgIGlmIChzdGFja1twb3NdID09IHRhZ05hbWUpXHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICBpZiAocG9zID49IDApIHtcclxuICAgICAgLy8gQ2xvc2UgYWxsIHRoZSBvcGVuIGVsZW1lbnRzLCB1cCB0aGUgc3RhY2tcclxuICAgICAgZm9yIChpID0gc3RhY2subGVuZ3RoIC0gMTsgaSA+PSBwb3M7IGktLSlcclxuICAgICAgICBpZiAoaGFuZGxlci5lbmQpIGhhbmRsZXIuZW5kKHN0YWNrW2ldKTtcclxuXHJcbiAgICAgIC8vIFJlbW92ZSB0aGUgb3BlbiBlbGVtZW50cyBmcm9tIHRoZSBzdGFja1xyXG4gICAgICBzdGFjay5sZW5ndGggPSBwb3M7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG52YXIgaGlkZGVuUHJlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwcmVcIik7XHJcbi8qKlxyXG4gKiBkZWNvZGVzIGFsbCBlbnRpdGllcyBpbnRvIHJlZ3VsYXIgc3RyaW5nXHJcbiAqIEBwYXJhbSB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIHN0cmluZyB3aXRoIGRlY29kZWQgZW50aXRpZXMuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWNvZGVFbnRpdGllcyh2YWx1ZSkge1xyXG4gIGlmICghdmFsdWUpIHsgcmV0dXJuICcnOyB9XHJcblxyXG4gIGhpZGRlblByZS5pbm5lckhUTUwgPSB2YWx1ZS5yZXBsYWNlKC88L2csXCImbHQ7XCIpO1xyXG4gIC8vIGlubmVyVGV4dCBkZXBlbmRzIG9uIHN0eWxpbmcgYXMgaXQgZG9lc24ndCBkaXNwbGF5IGhpZGRlbiBlbGVtZW50cy5cclxuICAvLyBUaGVyZWZvcmUsIGl0J3MgYmV0dGVyIHRvIHVzZSB0ZXh0Q29udGVudCBub3QgdG8gY2F1c2UgdW5uZWNlc3NhcnkgcmVmbG93cy5cclxuICByZXR1cm4gaGlkZGVuUHJlLnRleHRDb250ZW50O1xyXG59XHJcblxyXG4vKipcclxuICogRXNjYXBlcyBhbGwgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIGNoYXJhY3RlcnMsIHNvIHRoYXQgdGhlXHJcbiAqIHJlc3VsdGluZyBzdHJpbmcgY2FuIGJlIHNhZmVseSBpbnNlcnRlZCBpbnRvIGF0dHJpYnV0ZSBvclxyXG4gKiBlbGVtZW50IHRleHQuXHJcbiAqIEBwYXJhbSB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBlc2NhcGVkIHRleHRcclxuICovXHJcbmZ1bmN0aW9uIGVuY29kZUVudGl0aWVzKHZhbHVlKSB7XHJcbiAgcmV0dXJuIHZhbHVlLlxyXG4gICAgcmVwbGFjZSgvJi9nLCAnJmFtcDsnKS5cclxuICAgIHJlcGxhY2UoU1VSUk9HQVRFX1BBSVJfUkVHRVhQLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICB2YXIgaGkgPSB2YWx1ZS5jaGFyQ29kZUF0KDApO1xyXG4gICAgICB2YXIgbG93ID0gdmFsdWUuY2hhckNvZGVBdCgxKTtcclxuICAgICAgcmV0dXJuICcmIycgKyAoKChoaSAtIDB4RDgwMCkgKiAweDQwMCkgKyAobG93IC0gMHhEQzAwKSArIDB4MTAwMDApICsgJzsnO1xyXG4gICAgfSkuXHJcbiAgICByZXBsYWNlKE5PTl9BTFBIQU5VTUVSSUNfUkVHRVhQLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICByZXR1cm4gJyYjJyArIHZhbHVlLmNoYXJDb2RlQXQoMCkgKyAnOyc7XHJcbiAgICB9KS5cclxuICAgIHJlcGxhY2UoLzwvZywgJyZsdDsnKS5cclxuICAgIHJlcGxhY2UoLz4vZywgJyZndDsnKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIGNyZWF0ZSBhbiBIVE1ML1hNTCB3cml0ZXIgd2hpY2ggd3JpdGVzIHRvIGJ1ZmZlclxyXG4gKiBAcGFyYW0ge0FycmF5fSBidWYgdXNlIGJ1Zi5qYWluKCcnKSB0byBnZXQgb3V0IHNhbml0aXplZCBodG1sIHN0cmluZ1xyXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBpbiB0aGUgZm9ybSBvZiB7XHJcbiAqICAgICBzdGFydDogZnVuY3Rpb24odGFnLCBhdHRycywgdW5hcnkpIHt9LFxyXG4gKiAgICAgZW5kOiBmdW5jdGlvbih0YWcpIHt9LFxyXG4gKiAgICAgY2hhcnM6IGZ1bmN0aW9uKHRleHQpIHt9LFxyXG4gKiAgICAgY29tbWVudDogZnVuY3Rpb24odGV4dCkge31cclxuICogfVxyXG4gKi9cclxuZnVuY3Rpb24gaHRtbFNhbml0aXplV3JpdGVyKGJ1ZiwgdXJpVmFsaWRhdG9yKSB7XHJcbiAgdmFyIGlnbm9yZSA9IGZhbHNlO1xyXG4gIHZhciBvdXQgPSBhbmd1bGFyLmJpbmQoYnVmLCBidWYucHVzaCk7XHJcbiAgcmV0dXJuIHtcclxuICAgIHN0YXJ0OiBmdW5jdGlvbih0YWcsIGF0dHJzLCB1bmFyeSkge1xyXG4gICAgICB0YWcgPSBhbmd1bGFyLmxvd2VyY2FzZSh0YWcpO1xyXG4gICAgICBpZiAoIWlnbm9yZSAmJiBzcGVjaWFsRWxlbWVudHNbdGFnXSkge1xyXG4gICAgICAgIGlnbm9yZSA9IHRhZztcclxuICAgICAgfVxyXG4gICAgICBpZiAoIWlnbm9yZSAmJiB2YWxpZEVsZW1lbnRzW3RhZ10gPT09IHRydWUpIHtcclxuICAgICAgICBvdXQoJzwnKTtcclxuICAgICAgICBvdXQodGFnKTtcclxuICAgICAgICBhbmd1bGFyLmZvckVhY2goYXR0cnMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICAgIHZhciBsa2V5PWFuZ3VsYXIubG93ZXJjYXNlKGtleSk7XHJcbiAgICAgICAgICB2YXIgaXNJbWFnZSA9ICh0YWcgPT09ICdpbWcnICYmIGxrZXkgPT09ICdzcmMnKSB8fCAobGtleSA9PT0gJ2JhY2tncm91bmQnKTtcclxuICAgICAgICAgIGlmICh2YWxpZEF0dHJzW2xrZXldID09PSB0cnVlICYmXHJcbiAgICAgICAgICAgICh1cmlBdHRyc1tsa2V5XSAhPT0gdHJ1ZSB8fCB1cmlWYWxpZGF0b3IodmFsdWUsIGlzSW1hZ2UpKSkge1xyXG4gICAgICAgICAgICBvdXQoJyAnKTtcclxuICAgICAgICAgICAgb3V0KGtleSk7XHJcbiAgICAgICAgICAgIG91dCgnPVwiJyk7XHJcbiAgICAgICAgICAgIG91dChlbmNvZGVFbnRpdGllcyh2YWx1ZSkpO1xyXG4gICAgICAgICAgICBvdXQoJ1wiJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgb3V0KHVuYXJ5ID8gJy8+JyA6ICc+Jyk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBlbmQ6IGZ1bmN0aW9uKHRhZykge1xyXG4gICAgICAgIHRhZyA9IGFuZ3VsYXIubG93ZXJjYXNlKHRhZyk7XHJcbiAgICAgICAgaWYgKCFpZ25vcmUgJiYgdmFsaWRFbGVtZW50c1t0YWddID09PSB0cnVlKSB7XHJcbiAgICAgICAgICBvdXQoJzwvJyk7XHJcbiAgICAgICAgICBvdXQodGFnKTtcclxuICAgICAgICAgIG91dCgnPicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGFnID09IGlnbm9yZSkge1xyXG4gICAgICAgICAgaWdub3JlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgY2hhcnM6IGZ1bmN0aW9uKGNoYXJzKSB7XHJcbiAgICAgICAgaWYgKCFpZ25vcmUpIHtcclxuICAgICAgICAgIG91dChlbmNvZGVFbnRpdGllcyhjaGFycykpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gIH07XHJcbn1cclxuXHJcblxyXG4vLyBkZWZpbmUgbmdTYW5pdGl6ZSBtb2R1bGUgYW5kIHJlZ2lzdGVyICRzYW5pdGl6ZSBzZXJ2aWNlXHJcbmFuZ3VsYXIubW9kdWxlKCduZ1Nhbml0aXplJywgW10pLnByb3ZpZGVyKCckc2FuaXRpemUnLCAkU2FuaXRpemVQcm92aWRlcik7XHJcblxyXG4vKiBnbG9iYWwgc2FuaXRpemVUZXh0OiBmYWxzZSAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmaWx0ZXJcclxuICogQG5hbWUgbGlua3lcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEZpbmRzIGxpbmtzIGluIHRleHQgaW5wdXQgYW5kIHR1cm5zIHRoZW0gaW50byBodG1sIGxpbmtzLiBTdXBwb3J0cyBodHRwL2h0dHBzL2Z0cC9tYWlsdG8gYW5kXHJcbiAqIHBsYWluIGVtYWlsIGFkZHJlc3MgbGlua3MuXHJcbiAqXHJcbiAqIFJlcXVpcmVzIHRoZSB7QGxpbmsgbmdTYW5pdGl6ZSBgbmdTYW5pdGl6ZWB9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IElucHV0IHRleHQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXQgV2luZG93IChfYmxhbmt8X3NlbGZ8X3BhcmVudHxfdG9wKSBvciBuYW1lZCBmcmFtZSB0byBvcGVuIGxpbmtzIGluLlxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBIdG1sLWxpbmtpZmllZCB0ZXh0LlxyXG4gKlxyXG4gKiBAdXNhZ2VcclxuICAgPHNwYW4gbmctYmluZC1odG1sPVwibGlua3lfZXhwcmVzc2lvbiB8IGxpbmt5XCI+PC9zcGFuPlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJsaW5reUV4YW1wbGVcIiBkZXBzPVwiYW5ndWxhci1zYW5pdGl6ZS5qc1wiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnbGlua3lFeGFtcGxlJywgWyduZ1Nhbml0aXplJ10pXHJcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgICRzY29wZS5zbmlwcGV0ID1cclxuICAgICAgICAgICAgICAgJ1ByZXR0eSB0ZXh0IHdpdGggc29tZSBsaW5rczpcXG4nK1xyXG4gICAgICAgICAgICAgICAnaHR0cDovL2FuZ3VsYXJqcy5vcmcvLFxcbicrXHJcbiAgICAgICAgICAgICAgICdtYWlsdG86dXNAc29tZXdoZXJlLm9yZyxcXG4nK1xyXG4gICAgICAgICAgICAgICAnYW5vdGhlckBzb21ld2hlcmUub3JnLFxcbicrXHJcbiAgICAgICAgICAgICAgICdhbmQgb25lIG1vcmU6IGZ0cDovLzEyNy4wLjAuMS8uJztcclxuICAgICAgICAgICAgICRzY29wZS5zbmlwcGV0V2l0aFRhcmdldCA9ICdodHRwOi8vYW5ndWxhcmpzLm9yZy8nO1xyXG4gICAgICAgICAgIH1dKTtcclxuICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgIFNuaXBwZXQ6IDx0ZXh0YXJlYSBuZy1tb2RlbD1cInNuaXBwZXRcIiBjb2xzPVwiNjBcIiByb3dzPVwiM1wiPjwvdGV4dGFyZWE+XHJcbiAgICAgICA8dGFibGU+XHJcbiAgICAgICAgIDx0cj5cclxuICAgICAgICAgICA8dGQ+RmlsdGVyPC90ZD5cclxuICAgICAgICAgICA8dGQ+U291cmNlPC90ZD5cclxuICAgICAgICAgICA8dGQ+UmVuZGVyZWQ8L3RkPlxyXG4gICAgICAgICA8L3RyPlxyXG4gICAgICAgICA8dHIgaWQ9XCJsaW5reS1maWx0ZXJcIj5cclxuICAgICAgICAgICA8dGQ+bGlua3kgZmlsdGVyPC90ZD5cclxuICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICA8cHJlPiZsdDtkaXYgbmctYmluZC1odG1sPVwic25pcHBldCB8IGxpbmt5XCImZ3Q7PGJyPiZsdDsvZGl2Jmd0OzwvcHJlPlxyXG4gICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgPGRpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0IHwgbGlua3lcIj48L2Rpdj5cclxuICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICA8L3RyPlxyXG4gICAgICAgICA8dHIgaWQ9XCJsaW5reS10YXJnZXRcIj5cclxuICAgICAgICAgIDx0ZD5saW5reSB0YXJnZXQ8L3RkPlxyXG4gICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICA8cHJlPiZsdDtkaXYgbmctYmluZC1odG1sPVwic25pcHBldFdpdGhUYXJnZXQgfCBsaW5reTonX2JsYW5rJ1wiJmd0Ozxicj4mbHQ7L2RpdiZndDs8L3ByZT5cclxuICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgIDxkaXYgbmctYmluZC1odG1sPVwic25pcHBldFdpdGhUYXJnZXQgfCBsaW5reTonX2JsYW5rJ1wiPjwvZGl2PlxyXG4gICAgICAgICAgPC90ZD5cclxuICAgICAgICAgPC90cj5cclxuICAgICAgICAgPHRyIGlkPVwiZXNjYXBlZC1odG1sXCI+XHJcbiAgICAgICAgICAgPHRkPm5vIGZpbHRlcjwvdGQ+XHJcbiAgICAgICAgICAgPHRkPjxwcmU+Jmx0O2RpdiBuZy1iaW5kPVwic25pcHBldFwiJmd0Ozxicj4mbHQ7L2RpdiZndDs8L3ByZT48L3RkPlxyXG4gICAgICAgICAgIDx0ZD48ZGl2IG5nLWJpbmQ9XCJzbmlwcGV0XCI+PC9kaXY+PC90ZD5cclxuICAgICAgICAgPC90cj5cclxuICAgICAgIDwvdGFibGU+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIGl0KCdzaG91bGQgbGlua2lmeSB0aGUgc25pcHBldCB3aXRoIHVybHMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmt5LWZpbHRlcicpKS5lbGVtZW50KGJ5LmJpbmRpbmcoJ3NuaXBwZXQgfCBsaW5reScpKS5nZXRUZXh0KCkpLlxyXG4gICAgICAgICAgICAgdG9CZSgnUHJldHR5IHRleHQgd2l0aCBzb21lIGxpbmtzOiBodHRwOi8vYW5ndWxhcmpzLm9yZy8sIHVzQHNvbWV3aGVyZS5vcmcsICcgK1xyXG4gICAgICAgICAgICAgICAgICAnYW5vdGhlckBzb21ld2hlcmUub3JnLCBhbmQgb25lIG1vcmU6IGZ0cDovLzEyNy4wLjAuMS8uJyk7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50LmFsbChieS5jc3MoJyNsaW5reS1maWx0ZXIgYScpKS5jb3VudCgpKS50b0VxdWFsKDQpO1xyXG4gICAgICAgfSk7XHJcblxyXG4gICAgICAgaXQoJ3Nob3VsZCBub3QgbGlua2lmeSBzbmlwcGV0IHdpdGhvdXQgdGhlIGxpbmt5IGZpbHRlcicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZXNjYXBlZC1odG1sJykpLmVsZW1lbnQoYnkuYmluZGluZygnc25pcHBldCcpKS5nZXRUZXh0KCkpLlxyXG4gICAgICAgICAgICAgdG9CZSgnUHJldHR5IHRleHQgd2l0aCBzb21lIGxpbmtzOiBodHRwOi8vYW5ndWxhcmpzLm9yZy8sIG1haWx0bzp1c0Bzb21ld2hlcmUub3JnLCAnICtcclxuICAgICAgICAgICAgICAgICAgJ2Fub3RoZXJAc29tZXdoZXJlLm9yZywgYW5kIG9uZSBtb3JlOiBmdHA6Ly8xMjcuMC4wLjEvLicpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudC5hbGwoYnkuY3NzKCcjZXNjYXBlZC1odG1sIGEnKSkuY291bnQoKSkudG9FcXVhbCgwKTtcclxuICAgICAgIH0pO1xyXG5cclxuICAgICAgIGl0KCdzaG91bGQgdXBkYXRlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3NuaXBwZXQnKSkuY2xlYXIoKTtcclxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc25pcHBldCcpKS5zZW5kS2V5cygnbmV3IGh0dHA6Ly9saW5rLicpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGlua3ktZmlsdGVyJykpLmVsZW1lbnQoYnkuYmluZGluZygnc25pcHBldCB8IGxpbmt5JykpLmdldFRleHQoKSkuXHJcbiAgICAgICAgICAgICB0b0JlKCduZXcgaHR0cDovL2xpbmsuJyk7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50LmFsbChieS5jc3MoJyNsaW5reS1maWx0ZXIgYScpKS5jb3VudCgpKS50b0VxdWFsKDEpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZXNjYXBlZC1odG1sJykpLmVsZW1lbnQoYnkuYmluZGluZygnc25pcHBldCcpKS5nZXRUZXh0KCkpXHJcbiAgICAgICAgICAgICAudG9CZSgnbmV3IGh0dHA6Ly9saW5rLicpO1xyXG4gICAgICAgfSk7XHJcblxyXG4gICAgICAgaXQoJ3Nob3VsZCB3b3JrIHdpdGggdGhlIHRhcmdldCBwcm9wZXJ0eScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5reS10YXJnZXQnKSkuXHJcbiAgICAgICAgICAgIGVsZW1lbnQoYnkuYmluZGluZyhcInNuaXBwZXRXaXRoVGFyZ2V0IHwgbGlua3k6J19ibGFuaydcIikpLmdldFRleHQoKSkuXHJcbiAgICAgICAgICAgIHRvQmUoJ2h0dHA6Ly9hbmd1bGFyanMub3JnLycpO1xyXG4gICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnI2xpbmt5LXRhcmdldCBhJykpLmdldEF0dHJpYnV0ZSgndGFyZ2V0JykpLnRvRXF1YWwoJ19ibGFuaycpO1xyXG4gICAgICAgfSk7XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG5hbmd1bGFyLm1vZHVsZSgnbmdTYW5pdGl6ZScpLmZpbHRlcignbGlua3knLCBbJyRzYW5pdGl6ZScsIGZ1bmN0aW9uKCRzYW5pdGl6ZSkge1xyXG4gIHZhciBMSU5LWV9VUkxfUkVHRVhQID1cclxuICAgICAgICAvKChmdHB8aHR0cHM/KTpcXC9cXC98KHd3d1xcLil8KG1haWx0bzopP1tBLVphLXowLTkuXyUrLV0rQClcXFMqW15cXHMuOywoKXt9PD5cIuKAneKAmV0vaSxcclxuICAgICAgTUFJTFRPX1JFR0VYUCA9IC9ebWFpbHRvOi9pO1xyXG5cclxuICByZXR1cm4gZnVuY3Rpb24odGV4dCwgdGFyZ2V0KSB7XHJcbiAgICBpZiAoIXRleHQpIHJldHVybiB0ZXh0O1xyXG4gICAgdmFyIG1hdGNoO1xyXG4gICAgdmFyIHJhdyA9IHRleHQ7XHJcbiAgICB2YXIgaHRtbCA9IFtdO1xyXG4gICAgdmFyIHVybDtcclxuICAgIHZhciBpO1xyXG4gICAgd2hpbGUgKChtYXRjaCA9IHJhdy5tYXRjaChMSU5LWV9VUkxfUkVHRVhQKSkpIHtcclxuICAgICAgLy8gV2UgY2FuIG5vdCBlbmQgaW4gdGhlc2UgYXMgdGhleSBhcmUgc29tZXRpbWVzIGZvdW5kIGF0IHRoZSBlbmQgb2YgdGhlIHNlbnRlbmNlXHJcbiAgICAgIHVybCA9IG1hdGNoWzBdO1xyXG4gICAgICAvLyBpZiB3ZSBkaWQgbm90IG1hdGNoIGZ0cC9odHRwL3d3dy9tYWlsdG8gdGhlbiBhc3N1bWUgbWFpbHRvXHJcbiAgICAgIGlmICghbWF0Y2hbMl0gJiYgIW1hdGNoWzRdKSB7XHJcbiAgICAgICAgdXJsID0gKG1hdGNoWzNdID8gJ2h0dHA6Ly8nIDogJ21haWx0bzonKSArIHVybDtcclxuICAgICAgfVxyXG4gICAgICBpID0gbWF0Y2guaW5kZXg7XHJcbiAgICAgIGFkZFRleHQocmF3LnN1YnN0cigwLCBpKSk7XHJcbiAgICAgIGFkZExpbmsodXJsLCBtYXRjaFswXS5yZXBsYWNlKE1BSUxUT19SRUdFWFAsICcnKSk7XHJcbiAgICAgIHJhdyA9IHJhdy5zdWJzdHJpbmcoaSArIG1hdGNoWzBdLmxlbmd0aCk7XHJcbiAgICB9XHJcbiAgICBhZGRUZXh0KHJhdyk7XHJcbiAgICByZXR1cm4gJHNhbml0aXplKGh0bWwuam9pbignJykpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFkZFRleHQodGV4dCkge1xyXG4gICAgICBpZiAoIXRleHQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgaHRtbC5wdXNoKHNhbml0aXplVGV4dCh0ZXh0KSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkTGluayh1cmwsIHRleHQpIHtcclxuICAgICAgaHRtbC5wdXNoKCc8YSAnKTtcclxuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHRhcmdldCkpIHtcclxuICAgICAgICBodG1sLnB1c2goJ3RhcmdldD1cIicsXHJcbiAgICAgICAgICAgICAgICAgIHRhcmdldCxcclxuICAgICAgICAgICAgICAgICAgJ1wiICcpO1xyXG4gICAgICB9XHJcbiAgICAgIGh0bWwucHVzaCgnaHJlZj1cIicsXHJcbiAgICAgICAgICAgICAgICB1cmwucmVwbGFjZSgvXCIvZywgJyZxdW90OycpLFxyXG4gICAgICAgICAgICAgICAgJ1wiPicpO1xyXG4gICAgICBhZGRUZXh0KHRleHQpO1xyXG4gICAgICBodG1sLnB1c2goJzwvYT4nKTtcclxuICAgIH1cclxuICB9O1xyXG59XSk7XHJcblxyXG5cclxufSkod2luZG93LCB3aW5kb3cuYW5ndWxhcik7XHJcblxyXG4vKiBhbmd1bGFyLWxvYWQuanMgLyB2MC40LjEgLyAoYykgMjAxNCwgMjAxNSwgMjAxNiBVcmkgU2hha2VkIC8gTUlUIExpY2VuY2UgKi9cclxuXHJcbihmdW5jdGlvbiAoKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyLm1vZHVsZSgnYW5ndWxhckxvYWQnLCBbXSlcclxuXHRcdC5zZXJ2aWNlKCdhbmd1bGFyTG9hZCcsIFsnJGRvY3VtZW50JywgJyRxJywgJyR0aW1lb3V0JywgZnVuY3Rpb24gKCRkb2N1bWVudCwgJHEsICR0aW1lb3V0KSB7XHJcblx0XHRcdHZhciBkb2N1bWVudCA9ICRkb2N1bWVudFswXTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGxvYWRlcihjcmVhdGVFbGVtZW50KSB7XHJcblx0XHRcdFx0dmFyIHByb21pc2VzID0ge307XHJcblxyXG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbih1cmwpIHtcclxuXHRcdFx0XHRcdGlmICh0eXBlb2YgcHJvbWlzZXNbdXJsXSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHRcdFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuXHRcdFx0XHRcdFx0dmFyIGVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KHVybCk7XHJcblxyXG5cdFx0XHRcdFx0XHRlbGVtZW50Lm9ubG9hZCA9IGVsZW1lbnQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoZWxlbWVudC5yZWFkeVN0YXRlICYmIGVsZW1lbnQucmVhZHlTdGF0ZSAhPT0gJ2NvbXBsZXRlJyAmJiBlbGVtZW50LnJlYWR5U3RhdGUgIT09ICdsb2FkZWQnKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHQkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKGUpO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHRlbGVtZW50Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHRcdFx0XHRcdCR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdChlKTtcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRcdHByb21pc2VzW3VybF0gPSBkZWZlcnJlZC5wcm9taXNlO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHJldHVybiBwcm9taXNlc1t1cmxdO1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBEeW5hbWljYWxseSBsb2FkcyB0aGUgZ2l2ZW4gc2NyaXB0XHJcblx0XHRcdCAqIEBwYXJhbSBzcmMgVGhlIHVybCBvZiB0aGUgc2NyaXB0IHRvIGxvYWQgZHluYW1pY2FsbHlcclxuXHRcdFx0ICogQHJldHVybnMgeyp9IFByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIG9uY2UgdGhlIHNjcmlwdCBoYXMgYmVlbiBsb2FkZWQuXHJcblx0XHRcdCAqL1xyXG5cdFx0XHR0aGlzLmxvYWRTY3JpcHQgPSBsb2FkZXIoZnVuY3Rpb24gKHNyYykge1xyXG5cdFx0XHRcdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcclxuXHJcblx0XHRcdFx0c2NyaXB0LnNyYyA9IHNyYztcclxuXHJcblx0XHRcdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xyXG5cdFx0XHRcdHJldHVybiBzY3JpcHQ7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIER5bmFtaWNhbGx5IGxvYWRzIHRoZSBnaXZlbiBDU1MgZmlsZVxyXG5cdFx0XHQgKiBAcGFyYW0gaHJlZiBUaGUgdXJsIG9mIHRoZSBDU1MgdG8gbG9hZCBkeW5hbWljYWxseVxyXG5cdFx0XHQgKiBAcmV0dXJucyB7Kn0gUHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgb25jZSB0aGUgQ1NTIGZpbGUgaGFzIGJlZW4gbG9hZGVkLlxyXG5cdFx0XHQgKi9cclxuXHRcdFx0dGhpcy5sb2FkQ1NTID0gbG9hZGVyKGZ1bmN0aW9uIChocmVmKSB7XHJcblx0XHRcdFx0dmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xyXG5cclxuXHRcdFx0XHRzdHlsZS5yZWwgPSAnc3R5bGVzaGVldCc7XHJcblx0XHRcdFx0c3R5bGUudHlwZSA9ICd0ZXh0L2Nzcyc7XHJcblx0XHRcdFx0c3R5bGUuaHJlZiA9IGhyZWY7XHJcblxyXG5cdFx0XHRcdGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xyXG5cdFx0XHRcdHJldHVybiBzdHlsZTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XSk7XHJcbn0pKCk7XHJcblxyXG4vKiFcclxuICogYW5ndWxhci10cmFuc2xhdGUgLSB2Mi41LjIgLSAyMDE0LTEyLTEwXHJcbiAqIGh0dHA6Ly9naXRodWIuY29tL2FuZ3VsYXItdHJhbnNsYXRlL2FuZ3VsYXItdHJhbnNsYXRlXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNCA7IExpY2Vuc2VkIE1JVFxyXG4gKi9cclxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxyXG4vKipcclxuICogQG5nZG9jIG9iamVjdFxyXG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlclxyXG4gKiBAcmVxdWlyZXMgJHFcclxuICogQHJlcXVpcmVzICRodHRwXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBDcmVhdGVzIGEgbG9hZGluZyBmdW5jdGlvbiBmb3IgYSB0eXBpY2FsIHN0YXRpYyBmaWxlIHVybCBwYXR0ZXJuOlxyXG4gKiBcImxhbmctZW5fVVMuanNvblwiLCBcImxhbmctZGVfREUuanNvblwiLCBldGMuIFVzaW5nIHRoaXMgYnVpbGRlcixcclxuICogdGhlIHJlc3BvbnNlIG9mIHRoZXNlIHVybHMgbXVzdCBiZSBhbiBvYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBPcHRpb25zIG9iamVjdCwgd2hpY2ggZ2V0cyBwcmVmaXgsIHN1ZmZpeCBhbmQga2V5LlxyXG4gKi9cclxuLmZhY3RvcnkoJyR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlcicsIFsnJHEnLCAnJGh0dHAnLCBmdW5jdGlvbiAoJHEsICRodHRwKSB7XHJcblxyXG4gIHJldHVybiBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cclxuICAgIGlmICghb3B0aW9ucyB8fCAoIWFuZ3VsYXIuaXNTdHJpbmcob3B0aW9ucy5wcmVmaXgpIHx8ICFhbmd1bGFyLmlzU3RyaW5nKG9wdGlvbnMuc3VmZml4KSkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZG5cXCd0IGxvYWQgc3RhdGljIGZpbGVzLCBubyBwcmVmaXggb3Igc3VmZml4IHNwZWNpZmllZCEnKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG5cclxuICAgICRodHRwKGFuZ3VsYXIuZXh0ZW5kKHtcclxuICAgICAgdXJsOiBbXHJcbiAgICAgICAgb3B0aW9ucy5wcmVmaXgsXHJcbiAgICAgICAgb3B0aW9ucy5rZXksXHJcbiAgICAgICAgb3B0aW9ucy5zdWZmaXhcclxuICAgICAgXS5qb2luKCcnKSxcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgcGFyYW1zOiAnJ1xyXG4gICAgfSwgb3B0aW9ucy4kaHR0cCkpLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcclxuICAgIH0pLmVycm9yKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgIGRlZmVycmVkLnJlamVjdChvcHRpb25zLmtleSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICB9O1xyXG59XSk7XHJcblxyXG5cInVzZSBzdHJpY3RcIjtcclxuLyogZ2xvYmFsIGFuZ3VsYXIsIHdpbmRvdyAqL1xyXG5cclxuLyoqXHJcbiAqIFJlaW1wbGVtZW50YXRpb24gb2YgJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyIHRvIGhhbmRsZSBtaXNzaW5nIGZpbGVzIGFuZCBsb2NhbGUgaGllcmFyY2h5IChlbi9lbl9VUylcclxuICovXHJcbmFuZ3VsYXIubW9kdWxlKFwicGFzY2FscHJlY2h0LnRyYW5zbGF0ZVwiKS5mYWN0b3J5KFwiJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyXCIsIFtcclxuICBcIiRxXCIsXHJcbiAgXCIkaHR0cFwiLFxyXG4gIGZ1bmN0aW9uICgkcSwgJGh0dHApIHtcclxuICAgIGZ1bmN0aW9uIGxvYWRUcmFuc2xhdGlvbkZpbGUob3B0aW9ucywgZGVmZXJyZWQpIHtcclxuICAgICAgJGh0dHAoYW5ndWxhci5leHRlbmQoe1xyXG4gICAgICAgIHVybDogW1xyXG4gICAgICAgICAgb3B0aW9ucy5wcmVmaXgsXHJcbiAgICAgICAgICBvcHRpb25zLmtleS50b0xvd2VyQ2FzZSgpLFxyXG4gICAgICAgICAgb3B0aW9ucy5zdWZmaXhcclxuICAgICAgICBdLmpvaW4oXCJcIiksXHJcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgIHBhcmFtczogXCJcIlxyXG4gICAgICB9LCBvcHRpb25zLiRodHRwKSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XHJcbiAgICAgIH0pLmVycm9yKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZihvcHRpb25zLmtleS5pbmRleE9mKFwiX1wiKSA+PSAwKSB7XHJcbiAgICAgICAgICB2YXIga2V5ID0gb3B0aW9ucy5rZXkuc3Vic3RyKDAsIG9wdGlvbnMua2V5Lmxhc3RJbmRleE9mKFwiX1wiKSk7XHJcbiAgICAgICAgICB2YXIgb3B0cyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBvcHRpb25zLCB7IGtleToga2V5IH0pO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBsb2FkVHJhbnNsYXRpb25GaWxlKG9wdHMsIGRlZmVycmVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKFwie31cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gICAgICBpZiAoIW9wdGlvbnMgfHwgKCFhbmd1bGFyLmlzU3RyaW5nKG9wdGlvbnMucHJlZml4KSB8fCAhYW5ndWxhci5pc1N0cmluZyhvcHRpb25zLnN1ZmZpeCkpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuXFxcInQgbG9hZCBzdGF0aWMgZmlsZXMsIG5vIHByZWZpeCBvciBzdWZmaXggc3BlY2lmaWVkIVwiKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuXHJcbiAgICAgIGxvYWRUcmFuc2xhdGlvbkZpbGUob3B0aW9ucywgZGVmZXJyZWQpO1xyXG5cclxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICB9O1xyXG4gIH1cclxuXSk7XHJcblxyXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24uY29tbW9uLmkxOG5cIiwgW1wicGFzY2FscHJlY2h0LnRyYW5zbGF0ZVwiLCBcInJpc2V2aXNpb24uY29tbW9uLmkxOG4uY29uZmlnXCJdKVxyXG4uY29uZmlnKFtcIiR0cmFuc2xhdGVQcm92aWRlclwiLCBcIkxPQ0FMRVNfUFJFRklYXCIsIFwiTE9DQUxFU19TVUZJWFwiLCBmdW5jdGlvbiAoJHRyYW5zbGF0ZVByb3ZpZGVyLCBMT0NBTEVTX1BSRUZJWCwgTE9DQUxFU19TVUZJWCkge1xyXG4gIC8vIFRyaWVzIHRvIGRldGVybWluZSB0aGUgYnJvd3NlcnMgbG9jYWxlXHJcbiAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZVN0YXRpY0ZpbGVzTG9hZGVyKHtcclxuICAgIHByZWZpeDogTE9DQUxFU19QUkVGSVgsXHJcbiAgICBzdWZmaXg6IExPQ0FMRVNfU1VGSVhcclxuICB9KTtcclxuICBcclxuICAkdHJhbnNsYXRlUHJvdmlkZXJcclxuICAgIC5kZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSgpXHJcbiAgICAuZmFsbGJhY2tMYW5ndWFnZShcImVuXCIpO1xyXG59XSk7XHJcblxyXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQm9vdHN0cmFwOiBhZmZpeC5qcyB2My4yLjBcclxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYWZmaXhcclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxyXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuXHJcblxyXG4rZnVuY3Rpb24gKCQpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIC8vIEFGRklYIENMQVNTIERFRklOSVRJT05cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIHZhciBBZmZpeCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XHJcbiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQWZmaXguREVGQVVMVFMsIG9wdGlvbnMpXHJcblxyXG4gICAgdGhpcy4kdGFyZ2V0ID0gJCh0aGlzLm9wdGlvbnMudGFyZ2V0KVxyXG4gICAgICAub24oJ3Njcm9sbC5icy5hZmZpeC5kYXRhLWFwaScsICQucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uLCB0aGlzKSlcclxuICAgICAgLm9uKCdjbGljay5icy5hZmZpeC5kYXRhLWFwaScsICAkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3AsIHRoaXMpKVxyXG5cclxuICAgIHRoaXMuJGVsZW1lbnQgICAgID0gJChlbGVtZW50KVxyXG4gICAgdGhpcy5hZmZpeGVkICAgICAgPVxyXG4gICAgdGhpcy51bnBpbiAgICAgICAgPVxyXG4gICAgdGhpcy5waW5uZWRPZmZzZXQgPSBudWxsXHJcblxyXG4gICAgdGhpcy5jaGVja1Bvc2l0aW9uKClcclxuICB9XHJcblxyXG4gIEFmZml4LlZFUlNJT04gID0gJzMuMi4wJ1xyXG5cclxuICBBZmZpeC5SRVNFVCAgICA9ICdhZmZpeCBhZmZpeC10b3AgYWZmaXgtYm90dG9tJ1xyXG5cclxuICBBZmZpeC5ERUZBVUxUUyA9IHtcclxuICAgIG9mZnNldDogMCxcclxuICAgIHRhcmdldDogd2luZG93XHJcbiAgfVxyXG5cclxuICBBZmZpeC5wcm90b3R5cGUuZ2V0UGlubmVkT2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKHRoaXMucGlubmVkT2Zmc2V0KSByZXR1cm4gdGhpcy5waW5uZWRPZmZzZXRcclxuICAgIHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoQWZmaXguUkVTRVQpLmFkZENsYXNzKCdhZmZpeCcpXHJcbiAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpXHJcbiAgICB2YXIgcG9zaXRpb24gID0gdGhpcy4kZWxlbWVudC5vZmZzZXQoKVxyXG4gICAgcmV0dXJuICh0aGlzLnBpbm5lZE9mZnNldCA9IHBvc2l0aW9uLnRvcCAtIHNjcm9sbFRvcClcclxuICB9XHJcblxyXG4gIEFmZml4LnByb3RvdHlwZS5jaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHNldFRpbWVvdXQoJC5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb24sIHRoaXMpLCAxKVxyXG4gIH1cclxuXHJcbiAgQWZmaXgucHJvdG90eXBlLmNoZWNrUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoIXRoaXMuJGVsZW1lbnQuaXMoJzp2aXNpYmxlJykpIHJldHVyblxyXG5cclxuICAgIHZhciBzY3JvbGxIZWlnaHQgPSAkKGRvY3VtZW50KS5oZWlnaHQoKVxyXG4gICAgdmFyIHNjcm9sbFRvcCAgICA9IHRoaXMuJHRhcmdldC5zY3JvbGxUb3AoKVxyXG4gICAgdmFyIHBvc2l0aW9uICAgICA9IHRoaXMuJGVsZW1lbnQub2Zmc2V0KClcclxuICAgIHZhciBvZmZzZXQgICAgICAgPSB0aGlzLm9wdGlvbnMub2Zmc2V0XHJcbiAgICB2YXIgb2Zmc2V0VG9wICAgID0gb2Zmc2V0LnRvcFxyXG4gICAgdmFyIG9mZnNldEJvdHRvbSA9IG9mZnNldC5ib3R0b21cclxuXHJcbiAgICBpZiAodHlwZW9mIG9mZnNldCAhPSAnb2JqZWN0JykgICAgICAgICBvZmZzZXRCb3R0b20gPSBvZmZzZXRUb3AgPSBvZmZzZXRcclxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0VG9wID09ICdmdW5jdGlvbicpICAgIG9mZnNldFRvcCAgICA9IG9mZnNldC50b3AodGhpcy4kZWxlbWVudClcclxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0Qm90dG9tID09ICdmdW5jdGlvbicpIG9mZnNldEJvdHRvbSA9IG9mZnNldC5ib3R0b20odGhpcy4kZWxlbWVudClcclxuXHJcbiAgICB2YXIgYWZmaXggPSB0aGlzLnVucGluICAgIT0gbnVsbCAmJiAoc2Nyb2xsVG9wICsgdGhpcy51bnBpbiA8PSBwb3NpdGlvbi50b3ApID8gZmFsc2UgOlxyXG4gICAgICAgICAgICAgICAgb2Zmc2V0Qm90dG9tICE9IG51bGwgJiYgKHBvc2l0aW9uLnRvcCArIHRoaXMuJGVsZW1lbnQuaGVpZ2h0KCkgPj0gc2Nyb2xsSGVpZ2h0IC0gb2Zmc2V0Qm90dG9tKSA/ICdib3R0b20nIDpcclxuICAgICAgICAgICAgICAgIG9mZnNldFRvcCAgICAhPSBudWxsICYmIChzY3JvbGxUb3AgPD0gb2Zmc2V0VG9wKSA/ICd0b3AnIDogZmFsc2VcclxuXHJcbiAgICBpZiAodGhpcy5hZmZpeGVkID09PSBhZmZpeCkgcmV0dXJuXHJcbiAgICBpZiAodGhpcy51bnBpbiAhPSBudWxsKSB0aGlzLiRlbGVtZW50LmNzcygndG9wJywgJycpXHJcblxyXG4gICAgdmFyIGFmZml4VHlwZSA9ICdhZmZpeCcgKyAoYWZmaXggPyAnLScgKyBhZmZpeCA6ICcnKVxyXG4gICAgdmFyIGUgICAgICAgICA9ICQuRXZlbnQoYWZmaXhUeXBlICsgJy5icy5hZmZpeCcpXHJcblxyXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXHJcblxyXG4gICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxyXG5cclxuICAgIHRoaXMuYWZmaXhlZCA9IGFmZml4XHJcbiAgICB0aGlzLnVucGluID0gYWZmaXggPT0gJ2JvdHRvbScgPyB0aGlzLmdldFBpbm5lZE9mZnNldCgpIDogbnVsbFxyXG5cclxuICAgIHRoaXMuJGVsZW1lbnRcclxuICAgICAgLnJlbW92ZUNsYXNzKEFmZml4LlJFU0VUKVxyXG4gICAgICAuYWRkQ2xhc3MoYWZmaXhUeXBlKVxyXG4gICAgICAudHJpZ2dlcigkLkV2ZW50KGFmZml4VHlwZS5yZXBsYWNlKCdhZmZpeCcsICdhZmZpeGVkJykpKVxyXG5cclxuICAgIGlmIChhZmZpeCA9PSAnYm90dG9tJykge1xyXG4gICAgICB0aGlzLiRlbGVtZW50Lm9mZnNldCh7XHJcbiAgICAgICAgdG9wOiBzY3JvbGxIZWlnaHQgLSB0aGlzLiRlbGVtZW50LmhlaWdodCgpIC0gb2Zmc2V0Qm90dG9tXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gQUZGSVggUExVR0lOIERFRklOSVRJT05cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XHJcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXHJcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuYWZmaXgnKVxyXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXHJcblxyXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmFmZml4JywgKGRhdGEgPSBuZXcgQWZmaXgodGhpcywgb3B0aW9ucykpKVxyXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICB2YXIgb2xkID0gJC5mbi5hZmZpeFxyXG5cclxuICAkLmZuLmFmZml4ICAgICAgICAgICAgID0gUGx1Z2luXHJcbiAgJC5mbi5hZmZpeC5Db25zdHJ1Y3RvciA9IEFmZml4XHJcblxyXG5cclxuICAvLyBBRkZJWCBOTyBDT05GTElDVFxyXG4gIC8vID09PT09PT09PT09PT09PT09XHJcblxyXG4gICQuZm4uYWZmaXgubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICQuZm4uYWZmaXggPSBvbGRcclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gQUZGSVggREFUQS1BUElcclxuICAvLyA9PT09PT09PT09PT09PVxyXG5cclxuICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCdbZGF0YS1zcHk9XCJhZmZpeFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgJHNweSA9ICQodGhpcylcclxuICAgICAgdmFyIGRhdGEgPSAkc3B5LmRhdGEoKVxyXG5cclxuICAgICAgZGF0YS5vZmZzZXQgPSBkYXRhLm9mZnNldCB8fCB7fVxyXG5cclxuICAgICAgaWYgKGRhdGEub2Zmc2V0Qm90dG9tKSBkYXRhLm9mZnNldC5ib3R0b20gPSBkYXRhLm9mZnNldEJvdHRvbVxyXG4gICAgICBpZiAoZGF0YS5vZmZzZXRUb3ApICAgIGRhdGEub2Zmc2V0LnRvcCAgICA9IGRhdGEub2Zmc2V0VG9wXHJcblxyXG4gICAgICBQbHVnaW4uY2FsbCgkc3B5LCBkYXRhKVxyXG4gICAgfSlcclxuICB9KVxyXG5cclxufShqUXVlcnkpO1xyXG5cclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIEJvb3RzdHJhcDogYWxlcnQuanMgdjMuMi4wXHJcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2FsZXJ0c1xyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cclxuXHJcbitmdW5jdGlvbiAoJCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgLy8gQUxFUlQgQ0xBU1MgREVGSU5JVElPTlxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgdmFyIGRpc21pc3MgPSAnW2RhdGEtZGlzbWlzcz1cImFsZXJ0XCJdJ1xyXG4gIHZhciBBbGVydCAgID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAkKGVsKS5vbignY2xpY2snLCBkaXNtaXNzLCB0aGlzLmNsb3NlKVxyXG4gIH1cclxuXHJcbiAgQWxlcnQuVkVSU0lPTiA9ICczLjIuMCdcclxuXHJcbiAgQWxlcnQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKGUpIHtcclxuICAgIHZhciAkdGhpcyAgICA9ICQodGhpcylcclxuICAgIHZhciBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JylcclxuXHJcbiAgICBpZiAoIXNlbGVjdG9yKSB7XHJcbiAgICAgIHNlbGVjdG9yID0gJHRoaXMuYXR0cignaHJlZicpXHJcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcclxuICAgIH1cclxuXHJcbiAgICB2YXIgJHBhcmVudCA9ICQoc2VsZWN0b3IpXHJcblxyXG4gICAgaWYgKGUpIGUucHJldmVudERlZmF1bHQoKVxyXG5cclxuICAgIGlmICghJHBhcmVudC5sZW5ndGgpIHtcclxuICAgICAgJHBhcmVudCA9ICR0aGlzLmhhc0NsYXNzKCdhbGVydCcpID8gJHRoaXMgOiAkdGhpcy5wYXJlbnQoKVxyXG4gICAgfVxyXG5cclxuICAgICRwYXJlbnQudHJpZ2dlcihlID0gJC5FdmVudCgnY2xvc2UuYnMuYWxlcnQnKSlcclxuXHJcbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXHJcblxyXG4gICAgJHBhcmVudC5yZW1vdmVDbGFzcygnaW4nKVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQoKSB7XHJcbiAgICAgIC8vIGRldGFjaCBmcm9tIHBhcmVudCwgZmlyZSBldmVudCB0aGVuIGNsZWFuIHVwIGRhdGFcclxuICAgICAgJHBhcmVudC5kZXRhY2goKS50cmlnZ2VyKCdjbG9zZWQuYnMuYWxlcnQnKS5yZW1vdmUoKVxyXG4gICAgfVxyXG5cclxuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmICRwYXJlbnQuaGFzQ2xhc3MoJ2ZhZGUnKSA/XHJcbiAgICAgICRwYXJlbnRcclxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCByZW1vdmVFbGVtZW50KVxyXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApIDpcclxuICAgICAgcmVtb3ZlRWxlbWVudCgpXHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gQUxFUlQgUExVR0lOIERFRklOSVRJT05cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XHJcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKVxyXG4gICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy5hbGVydCcpXHJcblxyXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmFsZXJ0JywgKGRhdGEgPSBuZXcgQWxlcnQodGhpcykpKVxyXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dLmNhbGwoJHRoaXMpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgdmFyIG9sZCA9ICQuZm4uYWxlcnRcclxuXHJcbiAgJC5mbi5hbGVydCAgICAgICAgICAgICA9IFBsdWdpblxyXG4gICQuZm4uYWxlcnQuQ29uc3RydWN0b3IgPSBBbGVydFxyXG5cclxuXHJcbiAgLy8gQUxFUlQgTk8gQ09ORkxJQ1RcclxuICAvLyA9PT09PT09PT09PT09PT09PVxyXG5cclxuICAkLmZuLmFsZXJ0Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAkLmZuLmFsZXJ0ID0gb2xkXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIEFMRVJUIERBVEEtQVBJXHJcbiAgLy8gPT09PT09PT09PT09PT1cclxuXHJcbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmFsZXJ0LmRhdGEtYXBpJywgZGlzbWlzcywgQWxlcnQucHJvdG90eXBlLmNsb3NlKVxyXG5cclxufShqUXVlcnkpO1xyXG5cclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIEJvb3RzdHJhcDogYnV0dG9uLmpzIHYzLjIuMFxyXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNidXR0b25zXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cclxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcblxyXG5cclxuK2Z1bmN0aW9uICgkKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAvLyBCVVRUT04gUFVCTElDIENMQVNTIERFRklOSVRJT05cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgdmFyIEJ1dHRvbiA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XHJcbiAgICB0aGlzLiRlbGVtZW50ICA9ICQoZWxlbWVudClcclxuICAgIHRoaXMub3B0aW9ucyAgID0gJC5leHRlbmQoe30sIEJ1dHRvbi5ERUZBVUxUUywgb3B0aW9ucylcclxuICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2VcclxuICB9XHJcblxyXG4gIEJ1dHRvbi5WRVJTSU9OICA9ICczLjIuMCdcclxuXHJcbiAgQnV0dG9uLkRFRkFVTFRTID0ge1xyXG4gICAgbG9hZGluZ1RleHQ6ICdsb2FkaW5nLi4uJ1xyXG4gIH1cclxuXHJcbiAgQnV0dG9uLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xyXG4gICAgdmFyIGQgICAgPSAnZGlzYWJsZWQnXHJcbiAgICB2YXIgJGVsICA9IHRoaXMuJGVsZW1lbnRcclxuICAgIHZhciB2YWwgID0gJGVsLmlzKCdpbnB1dCcpID8gJ3ZhbCcgOiAnaHRtbCdcclxuICAgIHZhciBkYXRhID0gJGVsLmRhdGEoKVxyXG5cclxuICAgIHN0YXRlID0gc3RhdGUgKyAnVGV4dCdcclxuXHJcbiAgICBpZiAoZGF0YS5yZXNldFRleHQgPT0gbnVsbCkgJGVsLmRhdGEoJ3Jlc2V0VGV4dCcsICRlbFt2YWxdKCkpXHJcblxyXG4gICAgJGVsW3ZhbF0oZGF0YVtzdGF0ZV0gPT0gbnVsbCA/IHRoaXMub3B0aW9uc1tzdGF0ZV0gOiBkYXRhW3N0YXRlXSlcclxuXHJcbiAgICAvLyBwdXNoIHRvIGV2ZW50IGxvb3AgdG8gYWxsb3cgZm9ybXMgdG8gc3VibWl0XHJcbiAgICBzZXRUaW1lb3V0KCQucHJveHkoZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAoc3RhdGUgPT0gJ2xvYWRpbmdUZXh0Jykge1xyXG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZVxyXG4gICAgICAgICRlbC5hZGRDbGFzcyhkKS5hdHRyKGQsIGQpXHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0xvYWRpbmcpIHtcclxuICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlXHJcbiAgICAgICAgJGVsLnJlbW92ZUNsYXNzKGQpLnJlbW92ZUF0dHIoZClcclxuICAgICAgfVxyXG4gICAgfSwgdGhpcyksIDApXHJcbiAgfVxyXG5cclxuICBCdXR0b24ucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBjaGFuZ2VkID0gdHJ1ZVxyXG4gICAgdmFyICRwYXJlbnQgPSB0aGlzLiRlbGVtZW50LmNsb3Nlc3QoJ1tkYXRhLXRvZ2dsZT1cImJ1dHRvbnNcIl0nKVxyXG5cclxuICAgIGlmICgkcGFyZW50Lmxlbmd0aCkge1xyXG4gICAgICB2YXIgJGlucHV0ID0gdGhpcy4kZWxlbWVudC5maW5kKCdpbnB1dCcpXHJcbiAgICAgIGlmICgkaW5wdXQucHJvcCgndHlwZScpID09ICdyYWRpbycpIHtcclxuICAgICAgICBpZiAoJGlucHV0LnByb3AoJ2NoZWNrZWQnKSAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdhY3RpdmUnKSkgY2hhbmdlZCA9IGZhbHNlXHJcbiAgICAgICAgZWxzZSAkcGFyZW50LmZpbmQoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcclxuICAgICAgfVxyXG4gICAgICBpZiAoY2hhbmdlZCkgJGlucHV0LnByb3AoJ2NoZWNrZWQnLCAhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnYWN0aXZlJykpLnRyaWdnZXIoJ2NoYW5nZScpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNoYW5nZWQpIHRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gQlVUVE9OIFBMVUdJTiBERUZJTklUSU9OXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcclxuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcclxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5idXR0b24nKVxyXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXHJcblxyXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmJ1dHRvbicsIChkYXRhID0gbmV3IEJ1dHRvbih0aGlzLCBvcHRpb25zKSkpXHJcblxyXG4gICAgICBpZiAob3B0aW9uID09ICd0b2dnbGUnKSBkYXRhLnRvZ2dsZSgpXHJcbiAgICAgIGVsc2UgaWYgKG9wdGlvbikgZGF0YS5zZXRTdGF0ZShvcHRpb24pXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgdmFyIG9sZCA9ICQuZm4uYnV0dG9uXHJcblxyXG4gICQuZm4uYnV0dG9uICAgICAgICAgICAgID0gUGx1Z2luXHJcbiAgJC5mbi5idXR0b24uQ29uc3RydWN0b3IgPSBCdXR0b25cclxuXHJcblxyXG4gIC8vIEJVVFRPTiBOTyBDT05GTElDVFxyXG4gIC8vID09PT09PT09PT09PT09PT09PVxyXG5cclxuICAkLmZuLmJ1dHRvbi5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgJC5mbi5idXR0b24gPSBvbGRcclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gQlVUVE9OIERBVEEtQVBJXHJcbiAgLy8gPT09PT09PT09PT09PT09XHJcblxyXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5idXR0b24uZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlXj1cImJ1dHRvblwiXScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICB2YXIgJGJ0biA9ICQoZS50YXJnZXQpXHJcbiAgICBpZiAoISRidG4uaGFzQ2xhc3MoJ2J0bicpKSAkYnRuID0gJGJ0bi5jbG9zZXN0KCcuYnRuJylcclxuICAgIFBsdWdpbi5jYWxsKCRidG4sICd0b2dnbGUnKVxyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgfSlcclxuXHJcbn0oalF1ZXJ5KTtcclxuXHJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBCb290c3RyYXA6IGNhcm91c2VsLmpzIHYzLjIuMFxyXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNjYXJvdXNlbFxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cclxuXHJcbitmdW5jdGlvbiAoJCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgLy8gQ0FST1VTRUwgQ0xBU1MgREVGSU5JVElPTlxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgdmFyIENhcm91c2VsID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcclxuICAgIHRoaXMuJGVsZW1lbnQgICAgPSAkKGVsZW1lbnQpLm9uKCdrZXlkb3duLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLmtleWRvd24sIHRoaXMpKVxyXG4gICAgdGhpcy4kaW5kaWNhdG9ycyA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLmNhcm91c2VsLWluZGljYXRvcnMnKVxyXG4gICAgdGhpcy5vcHRpb25zICAgICA9IG9wdGlvbnNcclxuICAgIHRoaXMucGF1c2VkICAgICAgPVxyXG4gICAgdGhpcy5zbGlkaW5nICAgICA9XHJcbiAgICB0aGlzLmludGVydmFsICAgID1cclxuICAgIHRoaXMuJGFjdGl2ZSAgICAgPVxyXG4gICAgdGhpcy4kaXRlbXMgICAgICA9IG51bGxcclxuXHJcbiAgICB0aGlzLm9wdGlvbnMucGF1c2UgPT0gJ2hvdmVyJyAmJiB0aGlzLiRlbGVtZW50XHJcbiAgICAgIC5vbignbW91c2VlbnRlci5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5wYXVzZSwgdGhpcykpXHJcbiAgICAgIC5vbignbW91c2VsZWF2ZS5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5jeWNsZSwgdGhpcykpXHJcbiAgfVxyXG5cclxuICBDYXJvdXNlbC5WRVJTSU9OICA9ICczLjIuMCdcclxuXHJcbiAgQ2Fyb3VzZWwuREVGQVVMVFMgPSB7XHJcbiAgICBpbnRlcnZhbDogNTAwMCxcclxuICAgIHBhdXNlOiAnaG92ZXInLFxyXG4gICAgd3JhcDogdHJ1ZVxyXG4gIH1cclxuXHJcbiAgQ2Fyb3VzZWwucHJvdG90eXBlLmtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgc3dpdGNoIChlLndoaWNoKSB7XHJcbiAgICAgIGNhc2UgMzc6IHRoaXMucHJldigpOyBicmVha1xyXG4gICAgICBjYXNlIDM5OiB0aGlzLm5leHQoKTsgYnJlYWtcclxuICAgICAgZGVmYXVsdDogcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgfVxyXG5cclxuICBDYXJvdXNlbC5wcm90b3R5cGUuY3ljbGUgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgZSB8fCAodGhpcy5wYXVzZWQgPSBmYWxzZSlcclxuXHJcbiAgICB0aGlzLmludGVydmFsICYmIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbClcclxuXHJcbiAgICB0aGlzLm9wdGlvbnMuaW50ZXJ2YWxcclxuICAgICAgJiYgIXRoaXMucGF1c2VkXHJcbiAgICAgICYmICh0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoJC5wcm94eSh0aGlzLm5leHQsIHRoaXMpLCB0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpKVxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuICBDYXJvdXNlbC5wcm90b3R5cGUuZ2V0SXRlbUluZGV4ID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgIHRoaXMuJGl0ZW1zID0gaXRlbS5wYXJlbnQoKS5jaGlsZHJlbignLml0ZW0nKVxyXG4gICAgcmV0dXJuIHRoaXMuJGl0ZW1zLmluZGV4KGl0ZW0gfHwgdGhpcy4kYWN0aXZlKVxyXG4gIH1cclxuXHJcbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnRvID0gZnVuY3Rpb24gKHBvcykge1xyXG4gICAgdmFyIHRoYXQgICAgICAgID0gdGhpc1xyXG4gICAgdmFyIGFjdGl2ZUluZGV4ID0gdGhpcy5nZXRJdGVtSW5kZXgodGhpcy4kYWN0aXZlID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbS5hY3RpdmUnKSlcclxuXHJcbiAgICBpZiAocG9zID4gKHRoaXMuJGl0ZW1zLmxlbmd0aCAtIDEpIHx8IHBvcyA8IDApIHJldHVyblxyXG5cclxuICAgIGlmICh0aGlzLnNsaWRpbmcpICAgICAgIHJldHVybiB0aGlzLiRlbGVtZW50Lm9uZSgnc2xpZC5icy5jYXJvdXNlbCcsIGZ1bmN0aW9uICgpIHsgdGhhdC50byhwb3MpIH0pIC8vIHllcywgXCJzbGlkXCJcclxuICAgIGlmIChhY3RpdmVJbmRleCA9PSBwb3MpIHJldHVybiB0aGlzLnBhdXNlKCkuY3ljbGUoKVxyXG5cclxuICAgIHJldHVybiB0aGlzLnNsaWRlKHBvcyA+IGFjdGl2ZUluZGV4ID8gJ25leHQnIDogJ3ByZXYnLCAkKHRoaXMuJGl0ZW1zW3Bvc10pKVxyXG4gIH1cclxuXHJcbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKGUpIHtcclxuICAgIGUgfHwgKHRoaXMucGF1c2VkID0gdHJ1ZSlcclxuXHJcbiAgICBpZiAodGhpcy4kZWxlbWVudC5maW5kKCcubmV4dCwgLnByZXYnKS5sZW5ndGggJiYgJC5zdXBwb3J0LnRyYW5zaXRpb24pIHtcclxuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZClcclxuICAgICAgdGhpcy5jeWNsZSh0cnVlKVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuaW50ZXJ2YWwgPSBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpXHJcblxyXG4gICAgcmV0dXJuIHRoaXNcclxuICB9XHJcblxyXG4gIENhcm91c2VsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuXHJcbiAgICByZXR1cm4gdGhpcy5zbGlkZSgnbmV4dCcpXHJcbiAgfVxyXG5cclxuICBDYXJvdXNlbC5wcm90b3R5cGUucHJldiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICh0aGlzLnNsaWRpbmcpIHJldHVyblxyXG4gICAgcmV0dXJuIHRoaXMuc2xpZGUoJ3ByZXYnKVxyXG4gIH1cclxuXHJcbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnNsaWRlID0gZnVuY3Rpb24gKHR5cGUsIG5leHQpIHtcclxuICAgIHZhciAkYWN0aXZlICAgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtLmFjdGl2ZScpXHJcbiAgICB2YXIgJG5leHQgICAgID0gbmV4dCB8fCAkYWN0aXZlW3R5cGVdKClcclxuICAgIHZhciBpc0N5Y2xpbmcgPSB0aGlzLmludGVydmFsXHJcbiAgICB2YXIgZGlyZWN0aW9uID0gdHlwZSA9PSAnbmV4dCcgPyAnbGVmdCcgOiAncmlnaHQnXHJcbiAgICB2YXIgZmFsbGJhY2sgID0gdHlwZSA9PSAnbmV4dCcgPyAnZmlyc3QnIDogJ2xhc3QnXHJcbiAgICB2YXIgdGhhdCAgICAgID0gdGhpc1xyXG5cclxuICAgIGlmICghJG5leHQubGVuZ3RoKSB7XHJcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLndyYXApIHJldHVyblxyXG4gICAgICAkbmV4dCA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLml0ZW0nKVtmYWxsYmFja10oKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICgkbmV4dC5oYXNDbGFzcygnYWN0aXZlJykpIHJldHVybiAodGhpcy5zbGlkaW5nID0gZmFsc2UpXHJcblxyXG4gICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSAkbmV4dFswXVxyXG4gICAgdmFyIHNsaWRlRXZlbnQgPSAkLkV2ZW50KCdzbGlkZS5icy5jYXJvdXNlbCcsIHtcclxuICAgICAgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldCxcclxuICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb25cclxuICAgIH0pXHJcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc2xpZGVFdmVudClcclxuICAgIGlmIChzbGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cclxuXHJcbiAgICB0aGlzLnNsaWRpbmcgPSB0cnVlXHJcblxyXG4gICAgaXNDeWNsaW5nICYmIHRoaXMucGF1c2UoKVxyXG5cclxuICAgIGlmICh0aGlzLiRpbmRpY2F0b3JzLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLiRpbmRpY2F0b3JzLmZpbmQoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcclxuICAgICAgdmFyICRuZXh0SW5kaWNhdG9yID0gJCh0aGlzLiRpbmRpY2F0b3JzLmNoaWxkcmVuKClbdGhpcy5nZXRJdGVtSW5kZXgoJG5leHQpXSlcclxuICAgICAgJG5leHRJbmRpY2F0b3IgJiYgJG5leHRJbmRpY2F0b3IuYWRkQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHNsaWRFdmVudCA9ICQuRXZlbnQoJ3NsaWQuYnMuY2Fyb3VzZWwnLCB7IHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXQsIGRpcmVjdGlvbjogZGlyZWN0aW9uIH0pIC8vIHllcywgXCJzbGlkXCJcclxuICAgIGlmICgkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdzbGlkZScpKSB7XHJcbiAgICAgICRuZXh0LmFkZENsYXNzKHR5cGUpXHJcbiAgICAgICRuZXh0WzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xyXG4gICAgICAkYWN0aXZlLmFkZENsYXNzKGRpcmVjdGlvbilcclxuICAgICAgJG5leHQuYWRkQ2xhc3MoZGlyZWN0aW9uKVxyXG4gICAgICAkYWN0aXZlXHJcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgJG5leHQucmVtb3ZlQ2xhc3MoW3R5cGUsIGRpcmVjdGlvbl0uam9pbignICcpKS5hZGRDbGFzcygnYWN0aXZlJylcclxuICAgICAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoWydhY3RpdmUnLCBkaXJlY3Rpb25dLmpvaW4oJyAnKSlcclxuICAgICAgICAgIHRoYXQuc2xpZGluZyA9IGZhbHNlXHJcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcclxuICAgICAgICAgIH0sIDApXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoJGFjdGl2ZS5jc3MoJ3RyYW5zaXRpb24tZHVyYXRpb24nKS5zbGljZSgwLCAtMSkgKiAxMDAwKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJGFjdGl2ZS5yZW1vdmVDbGFzcygnYWN0aXZlJylcclxuICAgICAgJG5leHQuYWRkQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgIHRoaXMuc2xpZGluZyA9IGZhbHNlXHJcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzbGlkRXZlbnQpXHJcbiAgICB9XHJcblxyXG4gICAgaXNDeWNsaW5nICYmIHRoaXMuY3ljbGUoKVxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gQ0FST1VTRUwgUExVR0lOIERFRklOSVRJT05cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XHJcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXHJcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuY2Fyb3VzZWwnKVxyXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDYXJvdXNlbC5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcclxuICAgICAgdmFyIGFjdGlvbiAgPSB0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnID8gb3B0aW9uIDogb3B0aW9ucy5zbGlkZVxyXG5cclxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5jYXJvdXNlbCcsIChkYXRhID0gbmV3IENhcm91c2VsKHRoaXMsIG9wdGlvbnMpKSlcclxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ251bWJlcicpIGRhdGEudG8ob3B0aW9uKVxyXG4gICAgICBlbHNlIGlmIChhY3Rpb24pIGRhdGFbYWN0aW9uXSgpXHJcbiAgICAgIGVsc2UgaWYgKG9wdGlvbnMuaW50ZXJ2YWwpIGRhdGEucGF1c2UoKS5jeWNsZSgpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgdmFyIG9sZCA9ICQuZm4uY2Fyb3VzZWxcclxuXHJcbiAgJC5mbi5jYXJvdXNlbCAgICAgICAgICAgICA9IFBsdWdpblxyXG4gICQuZm4uY2Fyb3VzZWwuQ29uc3RydWN0b3IgPSBDYXJvdXNlbFxyXG5cclxuXHJcbiAgLy8gQ0FST1VTRUwgTk8gQ09ORkxJQ1RcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAkLmZuLmNhcm91c2VsLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAkLmZuLmNhcm91c2VsID0gb2xkXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIENBUk9VU0VMIERBVEEtQVBJXHJcbiAgLy8gPT09PT09PT09PT09PT09PT1cclxuXHJcbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpJywgJ1tkYXRhLXNsaWRlXSwgW2RhdGEtc2xpZGUtdG9dJywgZnVuY3Rpb24gKGUpIHtcclxuICAgIHZhciBocmVmXHJcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcclxuICAgIHZhciAkdGFyZ2V0ID0gJCgkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpIHx8IChocmVmID0gJHRoaXMuYXR0cignaHJlZicpKSAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sICcnKSkgLy8gc3RyaXAgZm9yIGllN1xyXG4gICAgaWYgKCEkdGFyZ2V0Lmhhc0NsYXNzKCdjYXJvdXNlbCcpKSByZXR1cm5cclxuICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sICR0YXJnZXQuZGF0YSgpLCAkdGhpcy5kYXRhKCkpXHJcbiAgICB2YXIgc2xpZGVJbmRleCA9ICR0aGlzLmF0dHIoJ2RhdGEtc2xpZGUtdG8nKVxyXG4gICAgaWYgKHNsaWRlSW5kZXgpIG9wdGlvbnMuaW50ZXJ2YWwgPSBmYWxzZVxyXG5cclxuICAgIFBsdWdpbi5jYWxsKCR0YXJnZXQsIG9wdGlvbnMpXHJcblxyXG4gICAgaWYgKHNsaWRlSW5kZXgpIHtcclxuICAgICAgJHRhcmdldC5kYXRhKCdicy5jYXJvdXNlbCcpLnRvKHNsaWRlSW5kZXgpXHJcbiAgICB9XHJcblxyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgfSlcclxuXHJcbiAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnW2RhdGEtcmlkZT1cImNhcm91c2VsXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciAkY2Fyb3VzZWwgPSAkKHRoaXMpXHJcbiAgICAgIFBsdWdpbi5jYWxsKCRjYXJvdXNlbCwgJGNhcm91c2VsLmRhdGEoKSlcclxuICAgIH0pXHJcbiAgfSlcclxuXHJcbn0oalF1ZXJ5KTtcclxuXHJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBCb290c3RyYXA6IGNvbGxhcHNlLmpzIHYzLjIuMFxyXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNjb2xsYXBzZVxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cclxuXHJcbitmdW5jdGlvbiAoJCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgLy8gQ09MTEFQU0UgUFVCTElDIENMQVNTIERFRklOSVRJT05cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICB2YXIgQ29sbGFwc2UgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xyXG4gICAgdGhpcy4kZWxlbWVudCAgICAgID0gJChlbGVtZW50KVxyXG4gICAgdGhpcy5vcHRpb25zICAgICAgID0gJC5leHRlbmQoe30sIENvbGxhcHNlLkRFRkFVTFRTLCBvcHRpb25zKVxyXG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gbnVsbFxyXG5cclxuICAgIGlmICh0aGlzLm9wdGlvbnMucGFyZW50KSB0aGlzLiRwYXJlbnQgPSAkKHRoaXMub3B0aW9ucy5wYXJlbnQpXHJcbiAgICBpZiAodGhpcy5vcHRpb25zLnRvZ2dsZSkgdGhpcy50b2dnbGUoKVxyXG4gIH1cclxuXHJcbiAgQ29sbGFwc2UuVkVSU0lPTiAgPSAnMy4yLjAnXHJcblxyXG4gIENvbGxhcHNlLkRFRkFVTFRTID0ge1xyXG4gICAgdG9nZ2xlOiB0cnVlXHJcbiAgfVxyXG5cclxuICBDb2xsYXBzZS5wcm90b3R5cGUuZGltZW5zaW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGhhc1dpZHRoID0gdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnd2lkdGgnKVxyXG4gICAgcmV0dXJuIGhhc1dpZHRoID8gJ3dpZHRoJyA6ICdoZWlnaHQnXHJcbiAgfVxyXG5cclxuICBDb2xsYXBzZS5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICh0aGlzLnRyYW5zaXRpb25pbmcgfHwgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSkgcmV0dXJuXHJcblxyXG4gICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdzaG93LmJzLmNvbGxhcHNlJylcclxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzdGFydEV2ZW50KVxyXG4gICAgaWYgKHN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxyXG5cclxuICAgIHZhciBhY3RpdmVzID0gdGhpcy4kcGFyZW50ICYmIHRoaXMuJHBhcmVudC5maW5kKCc+IC5wYW5lbCA+IC5pbicpXHJcblxyXG4gICAgaWYgKGFjdGl2ZXMgJiYgYWN0aXZlcy5sZW5ndGgpIHtcclxuICAgICAgdmFyIGhhc0RhdGEgPSBhY3RpdmVzLmRhdGEoJ2JzLmNvbGxhcHNlJylcclxuICAgICAgaWYgKGhhc0RhdGEgJiYgaGFzRGF0YS50cmFuc2l0aW9uaW5nKSByZXR1cm5cclxuICAgICAgUGx1Z2luLmNhbGwoYWN0aXZlcywgJ2hpZGUnKVxyXG4gICAgICBoYXNEYXRhIHx8IGFjdGl2ZXMuZGF0YSgnYnMuY29sbGFwc2UnLCBudWxsKVxyXG4gICAgfVxyXG5cclxuICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbigpXHJcblxyXG4gICAgdGhpcy4kZWxlbWVudFxyXG4gICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJylcclxuICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylbZGltZW5zaW9uXSgwKVxyXG5cclxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDFcclxuXHJcbiAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHRoaXMuJGVsZW1lbnRcclxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKVxyXG4gICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2UgaW4nKVtkaW1lbnNpb25dKCcnKVxyXG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAwXHJcbiAgICAgIHRoaXMuJGVsZW1lbnRcclxuICAgICAgICAudHJpZ2dlcignc2hvd24uYnMuY29sbGFwc2UnKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVybiBjb21wbGV0ZS5jYWxsKHRoaXMpXHJcblxyXG4gICAgdmFyIHNjcm9sbFNpemUgPSAkLmNhbWVsQ2FzZShbJ3Njcm9sbCcsIGRpbWVuc2lvbl0uam9pbignLScpKVxyXG5cclxuICAgIHRoaXMuJGVsZW1lbnRcclxuICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eShjb21wbGV0ZSwgdGhpcykpXHJcbiAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgzNTApW2RpbWVuc2lvbl0odGhpcy4kZWxlbWVudFswXVtzY3JvbGxTaXplXSlcclxuICB9XHJcblxyXG4gIENvbGxhcHNlLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZyB8fCAhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSkgcmV0dXJuXHJcblxyXG4gICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdoaWRlLmJzLmNvbGxhcHNlJylcclxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzdGFydEV2ZW50KVxyXG4gICAgaWYgKHN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxyXG5cclxuICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbigpXHJcblxyXG4gICAgdGhpcy4kZWxlbWVudFtkaW1lbnNpb25dKHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSgpKVswXS5vZmZzZXRIZWlnaHRcclxuXHJcbiAgICB0aGlzLiRlbGVtZW50XHJcbiAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpXHJcbiAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2UnKVxyXG4gICAgICAucmVtb3ZlQ2xhc3MoJ2luJylcclxuXHJcbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAxXHJcblxyXG4gICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAwXHJcbiAgICAgIHRoaXMuJGVsZW1lbnRcclxuICAgICAgICAudHJpZ2dlcignaGlkZGVuLmJzLmNvbGxhcHNlJylcclxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKVxyXG4gICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2UnKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVybiBjb21wbGV0ZS5jYWxsKHRoaXMpXHJcblxyXG4gICAgdGhpcy4kZWxlbWVudFxyXG4gICAgICBbZGltZW5zaW9uXSgwKVxyXG4gICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KGNvbXBsZXRlLCB0aGlzKSlcclxuICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDM1MClcclxuICB9XHJcblxyXG4gIENvbGxhcHNlLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzW3RoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykgPyAnaGlkZScgOiAnc2hvdyddKClcclxuICB9XHJcblxyXG5cclxuICAvLyBDT0xMQVBTRSBQTFVHSU4gREVGSU5JVElPTlxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcclxuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcclxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5jb2xsYXBzZScpXHJcbiAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sIENvbGxhcHNlLkRFRkFVTFRTLCAkdGhpcy5kYXRhKCksIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKVxyXG5cclxuICAgICAgaWYgKCFkYXRhICYmIG9wdGlvbnMudG9nZ2xlICYmIG9wdGlvbiA9PSAnc2hvdycpIG9wdGlvbiA9ICFvcHRpb25cclxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5jb2xsYXBzZScsIChkYXRhID0gbmV3IENvbGxhcHNlKHRoaXMsIG9wdGlvbnMpKSlcclxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgdmFyIG9sZCA9ICQuZm4uY29sbGFwc2VcclxuXHJcbiAgJC5mbi5jb2xsYXBzZSAgICAgICAgICAgICA9IFBsdWdpblxyXG4gICQuZm4uY29sbGFwc2UuQ29uc3RydWN0b3IgPSBDb2xsYXBzZVxyXG5cclxuXHJcbiAgLy8gQ09MTEFQU0UgTk8gQ09ORkxJQ1RcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAkLmZuLmNvbGxhcHNlLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAkLmZuLmNvbGxhcHNlID0gb2xkXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIENPTExBUFNFIERBVEEtQVBJXHJcbiAgLy8gPT09PT09PT09PT09PT09PT1cclxuXHJcbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmNvbGxhcHNlLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdJywgZnVuY3Rpb24gKGUpIHtcclxuICAgIHZhciBocmVmXHJcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcclxuICAgIHZhciB0YXJnZXQgID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxyXG4gICAgICAgIHx8IGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgIHx8IChocmVmID0gJHRoaXMuYXR0cignaHJlZicpKSAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XHJcbiAgICB2YXIgJHRhcmdldCA9ICQodGFyZ2V0KVxyXG4gICAgdmFyIGRhdGEgICAgPSAkdGFyZ2V0LmRhdGEoJ2JzLmNvbGxhcHNlJylcclxuICAgIHZhciBvcHRpb24gID0gZGF0YSA/ICd0b2dnbGUnIDogJHRoaXMuZGF0YSgpXHJcbiAgICB2YXIgcGFyZW50ICA9ICR0aGlzLmF0dHIoJ2RhdGEtcGFyZW50JylcclxuICAgIHZhciAkcGFyZW50ID0gcGFyZW50ICYmICQocGFyZW50KVxyXG5cclxuICAgIGlmICghZGF0YSB8fCAhZGF0YS50cmFuc2l0aW9uaW5nKSB7XHJcbiAgICAgIGlmICgkcGFyZW50KSAkcGFyZW50LmZpbmQoJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2RhdGEtcGFyZW50PVwiJyArIHBhcmVudCArICdcIl0nKS5ub3QoJHRoaXMpLmFkZENsYXNzKCdjb2xsYXBzZWQnKVxyXG4gICAgICAkdGhpc1skdGFyZ2V0Lmhhc0NsYXNzKCdpbicpID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKCdjb2xsYXBzZWQnKVxyXG4gICAgfVxyXG5cclxuICAgIFBsdWdpbi5jYWxsKCR0YXJnZXQsIG9wdGlvbilcclxuICB9KVxyXG5cclxufShqUXVlcnkpO1xyXG5cclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIEJvb3RzdHJhcDogZHJvcGRvd24uanMgdjMuMi4wXHJcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2Ryb3Bkb3duc1xyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cclxuXHJcbitmdW5jdGlvbiAoJCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgLy8gRFJPUERPV04gQ0xBU1MgREVGSU5JVElPTlxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgdmFyIGJhY2tkcm9wID0gJy5kcm9wZG93bi1iYWNrZHJvcCdcclxuICB2YXIgdG9nZ2xlICAgPSAnW2RhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIl0nXHJcbiAgdmFyIERyb3Bkb3duID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICQoZWxlbWVudCkub24oJ2NsaWNrLmJzLmRyb3Bkb3duJywgdGhpcy50b2dnbGUpXHJcbiAgfVxyXG5cclxuICBEcm9wZG93bi5WRVJTSU9OID0gJzMuMi4wJ1xyXG5cclxuICBEcm9wZG93bi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcclxuICAgIHZhciAkdGhpcyA9ICQodGhpcylcclxuXHJcbiAgICBpZiAoJHRoaXMuaXMoJy5kaXNhYmxlZCwgOmRpc2FibGVkJykpIHJldHVyblxyXG5cclxuICAgIHZhciAkcGFyZW50ICA9IGdldFBhcmVudCgkdGhpcylcclxuICAgIHZhciBpc0FjdGl2ZSA9ICRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKVxyXG5cclxuICAgIGNsZWFyTWVudXMoKVxyXG5cclxuICAgIGlmICghaXNBY3RpdmUpIHtcclxuICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiAhJHBhcmVudC5jbG9zZXN0KCcubmF2YmFyLW5hdicpLmxlbmd0aCkge1xyXG4gICAgICAgIC8vIGlmIG1vYmlsZSB3ZSB1c2UgYSBiYWNrZHJvcCBiZWNhdXNlIGNsaWNrIGV2ZW50cyBkb24ndCBkZWxlZ2F0ZVxyXG4gICAgICAgICQoJzxkaXYgY2xhc3M9XCJkcm9wZG93bi1iYWNrZHJvcFwiLz4nKS5pbnNlcnRBZnRlcigkKHRoaXMpKS5vbignY2xpY2snLCBjbGVhck1lbnVzKVxyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgcmVsYXRlZFRhcmdldCA9IHsgcmVsYXRlZFRhcmdldDogdGhpcyB9XHJcbiAgICAgICRwYXJlbnQudHJpZ2dlcihlID0gJC5FdmVudCgnc2hvdy5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpKVxyXG5cclxuICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxyXG5cclxuICAgICAgJHRoaXMudHJpZ2dlcignZm9jdXMnKVxyXG5cclxuICAgICAgJHBhcmVudFxyXG4gICAgICAgIC50b2dnbGVDbGFzcygnb3BlbicpXHJcbiAgICAgICAgLnRyaWdnZXIoJ3Nob3duLmJzLmRyb3Bkb3duJywgcmVsYXRlZFRhcmdldClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcblxyXG4gIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duID0gZnVuY3Rpb24gKGUpIHtcclxuICAgIGlmICghLygzOHw0MHwyNykvLnRlc3QoZS5rZXlDb2RlKSkgcmV0dXJuXHJcblxyXG4gICAgdmFyICR0aGlzID0gJCh0aGlzKVxyXG5cclxuICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxyXG5cclxuICAgIGlmICgkdGhpcy5pcygnLmRpc2FibGVkLCA6ZGlzYWJsZWQnKSkgcmV0dXJuXHJcblxyXG4gICAgdmFyICRwYXJlbnQgID0gZ2V0UGFyZW50KCR0aGlzKVxyXG4gICAgdmFyIGlzQWN0aXZlID0gJHBhcmVudC5oYXNDbGFzcygnb3BlbicpXHJcblxyXG4gICAgaWYgKCFpc0FjdGl2ZSB8fCAoaXNBY3RpdmUgJiYgZS5rZXlDb2RlID09IDI3KSkge1xyXG4gICAgICBpZiAoZS53aGljaCA9PSAyNykgJHBhcmVudC5maW5kKHRvZ2dsZSkudHJpZ2dlcignZm9jdXMnKVxyXG4gICAgICByZXR1cm4gJHRoaXMudHJpZ2dlcignY2xpY2snKVxyXG4gICAgfVxyXG5cclxuICAgIHZhciBkZXNjID0gJyBsaTpub3QoLmRpdmlkZXIpOnZpc2libGUgYSdcclxuICAgIHZhciAkaXRlbXMgPSAkcGFyZW50LmZpbmQoJ1tyb2xlPVwibWVudVwiXScgKyBkZXNjICsgJywgW3JvbGU9XCJsaXN0Ym94XCJdJyArIGRlc2MpXHJcblxyXG4gICAgaWYgKCEkaXRlbXMubGVuZ3RoKSByZXR1cm5cclxuXHJcbiAgICB2YXIgaW5kZXggPSAkaXRlbXMuaW5kZXgoJGl0ZW1zLmZpbHRlcignOmZvY3VzJykpXHJcblxyXG4gICAgaWYgKGUua2V5Q29kZSA9PSAzOCAmJiBpbmRleCA+IDApICAgICAgICAgICAgICAgICBpbmRleC0tICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXBcclxuICAgIGlmIChlLmtleUNvZGUgPT0gNDAgJiYgaW5kZXggPCAkaXRlbXMubGVuZ3RoIC0gMSkgaW5kZXgrKyAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvd25cclxuICAgIGlmICghfmluZGV4KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSAwXHJcblxyXG4gICAgJGl0ZW1zLmVxKGluZGV4KS50cmlnZ2VyKCdmb2N1cycpXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjbGVhck1lbnVzKGUpIHtcclxuICAgIGlmIChlICYmIGUud2hpY2ggPT09IDMpIHJldHVyblxyXG4gICAgJChiYWNrZHJvcCkucmVtb3ZlKClcclxuICAgICQodG9nZ2xlKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyICRwYXJlbnQgPSBnZXRQYXJlbnQoJCh0aGlzKSlcclxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSB7IHJlbGF0ZWRUYXJnZXQ6IHRoaXMgfVxyXG4gICAgICBpZiAoISRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKSkgcmV0dXJuXHJcbiAgICAgICRwYXJlbnQudHJpZ2dlcihlID0gJC5FdmVudCgnaGlkZS5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpKVxyXG4gICAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXHJcbiAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ29wZW4nKS50cmlnZ2VyKCdoaWRkZW4uYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldFBhcmVudCgkdGhpcykge1xyXG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxyXG5cclxuICAgIGlmICghc2VsZWN0b3IpIHtcclxuICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcclxuICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciAmJiAvI1tBLVphLXpdLy50ZXN0KHNlbGVjdG9yKSAmJiBzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxcc10qJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xyXG4gICAgfVxyXG5cclxuICAgIHZhciAkcGFyZW50ID0gc2VsZWN0b3IgJiYgJChzZWxlY3RvcilcclxuXHJcbiAgICByZXR1cm4gJHBhcmVudCAmJiAkcGFyZW50Lmxlbmd0aCA/ICRwYXJlbnQgOiAkdGhpcy5wYXJlbnQoKVxyXG4gIH1cclxuXHJcblxyXG4gIC8vIERST1BET1dOIFBMVUdJTiBERUZJTklUSU9OXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xyXG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcylcclxuICAgICAgdmFyIGRhdGEgID0gJHRoaXMuZGF0YSgnYnMuZHJvcGRvd24nKVxyXG5cclxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5kcm9wZG93bicsIChkYXRhID0gbmV3IERyb3Bkb3duKHRoaXMpKSlcclxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXS5jYWxsKCR0aGlzKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHZhciBvbGQgPSAkLmZuLmRyb3Bkb3duXHJcblxyXG4gICQuZm4uZHJvcGRvd24gICAgICAgICAgICAgPSBQbHVnaW5cclxuICAkLmZuLmRyb3Bkb3duLkNvbnN0cnVjdG9yID0gRHJvcGRvd25cclxuXHJcblxyXG4gIC8vIERST1BET1dOIE5PIENPTkZMSUNUXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgJC5mbi5kcm9wZG93bi5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgJC5mbi5kcm9wZG93biA9IG9sZFxyXG4gICAgcmV0dXJuIHRoaXNcclxuICB9XHJcblxyXG5cclxuICAvLyBBUFBMWSBUTyBTVEFOREFSRCBEUk9QRE9XTiBFTEVNRU5UU1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICQoZG9jdW1lbnQpXHJcbiAgICAub24oJ2NsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpJywgY2xlYXJNZW51cylcclxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCAnLmRyb3Bkb3duIGZvcm0nLCBmdW5jdGlvbiAoZSkgeyBlLnN0b3BQcm9wYWdhdGlvbigpIH0pXHJcbiAgICAub24oJ2NsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpJywgdG9nZ2xlLCBEcm9wZG93bi5wcm90b3R5cGUudG9nZ2xlKVxyXG4gICAgLm9uKCdrZXlkb3duLmJzLmRyb3Bkb3duLmRhdGEtYXBpJywgdG9nZ2xlICsgJywgW3JvbGU9XCJtZW51XCJdLCBbcm9sZT1cImxpc3Rib3hcIl0nLCBEcm9wZG93bi5wcm90b3R5cGUua2V5ZG93bilcclxuXHJcbn0oalF1ZXJ5KTtcclxuXHJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBCb290c3RyYXA6IHRhYi5qcyB2My4yLjBcclxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jdGFic1xyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cclxuXHJcbitmdW5jdGlvbiAoJCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgLy8gVEFCIENMQVNTIERFRklOSVRJT05cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICB2YXIgVGFiID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuZWxlbWVudCA9ICQoZWxlbWVudClcclxuICB9XHJcblxyXG4gIFRhYi5WRVJTSU9OID0gJzMuMi4wJ1xyXG5cclxuICBUYWIucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgJHRoaXMgICAgPSB0aGlzLmVsZW1lbnRcclxuICAgIHZhciAkdWwgICAgICA9ICR0aGlzLmNsb3Nlc3QoJ3VsOm5vdCguZHJvcGRvd24tbWVudSknKVxyXG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuZGF0YSgndGFyZ2V0JylcclxuXHJcbiAgICBpZiAoIXNlbGVjdG9yKSB7XHJcbiAgICAgIHNlbGVjdG9yID0gJHRoaXMuYXR0cignaHJlZicpXHJcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcclxuICAgIH1cclxuXHJcbiAgICBpZiAoJHRoaXMucGFyZW50KCdsaScpLmhhc0NsYXNzKCdhY3RpdmUnKSkgcmV0dXJuXHJcblxyXG4gICAgdmFyIHByZXZpb3VzID0gJHVsLmZpbmQoJy5hY3RpdmU6bGFzdCBhJylbMF1cclxuICAgIHZhciBlICAgICAgICA9ICQuRXZlbnQoJ3Nob3cuYnMudGFiJywge1xyXG4gICAgICByZWxhdGVkVGFyZ2V0OiBwcmV2aW91c1xyXG4gICAgfSlcclxuXHJcbiAgICAkdGhpcy50cmlnZ2VyKGUpXHJcblxyXG4gICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxyXG5cclxuICAgIHZhciAkdGFyZ2V0ID0gJChzZWxlY3RvcilcclxuXHJcbiAgICB0aGlzLmFjdGl2YXRlKCR0aGlzLmNsb3Nlc3QoJ2xpJyksICR1bClcclxuICAgIHRoaXMuYWN0aXZhdGUoJHRhcmdldCwgJHRhcmdldC5wYXJlbnQoKSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAkdGhpcy50cmlnZ2VyKHtcclxuICAgICAgICB0eXBlOiAnc2hvd24uYnMudGFiJyxcclxuICAgICAgICByZWxhdGVkVGFyZ2V0OiBwcmV2aW91c1xyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIFRhYi5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiAoZWxlbWVudCwgY29udGFpbmVyLCBjYWxsYmFjaykge1xyXG4gICAgdmFyICRhY3RpdmUgICAgPSBjb250YWluZXIuZmluZCgnPiAuYWN0aXZlJylcclxuICAgIHZhciB0cmFuc2l0aW9uID0gY2FsbGJhY2tcclxuICAgICAgJiYgJC5zdXBwb3J0LnRyYW5zaXRpb25cclxuICAgICAgJiYgJGFjdGl2ZS5oYXNDbGFzcygnZmFkZScpXHJcblxyXG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcclxuICAgICAgJGFjdGl2ZVxyXG4gICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcclxuICAgICAgICAuZmluZCgnPiAuZHJvcGRvd24tbWVudSA+IC5hY3RpdmUnKVxyXG4gICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcclxuXHJcbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2FjdGl2ZScpXHJcblxyXG4gICAgICBpZiAodHJhbnNpdGlvbikge1xyXG4gICAgICAgIGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGggLy8gcmVmbG93IGZvciB0cmFuc2l0aW9uXHJcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnaW4nKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2ZhZGUnKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZWxlbWVudC5wYXJlbnQoJy5kcm9wZG93bi1tZW51JykpIHtcclxuICAgICAgICBlbGVtZW50LmNsb3Nlc3QoJ2xpLmRyb3Bkb3duJykuYWRkQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKClcclxuICAgIH1cclxuXHJcbiAgICB0cmFuc2l0aW9uID9cclxuICAgICAgJGFjdGl2ZVxyXG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIG5leHQpXHJcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCkgOlxyXG4gICAgICBuZXh0KClcclxuXHJcbiAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdpbicpXHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gVEFCIFBMVUdJTiBERUZJTklUSU9OXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcclxuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXHJcbiAgICAgIHZhciBkYXRhICA9ICR0aGlzLmRhdGEoJ2JzLnRhYicpXHJcblxyXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnRhYicsIChkYXRhID0gbmV3IFRhYih0aGlzKSkpXHJcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHZhciBvbGQgPSAkLmZuLnRhYlxyXG5cclxuICAkLmZuLnRhYiAgICAgICAgICAgICA9IFBsdWdpblxyXG4gICQuZm4udGFiLkNvbnN0cnVjdG9yID0gVGFiXHJcblxyXG5cclxuICAvLyBUQUIgTk8gQ09ORkxJQ1RcclxuICAvLyA9PT09PT09PT09PT09PT1cclxuXHJcbiAgJC5mbi50YWIubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICQuZm4udGFiID0gb2xkXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIFRBQiBEQVRBLUFQSVxyXG4gIC8vID09PT09PT09PT09PVxyXG5cclxuICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMudGFiLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cInRhYlwiXSwgW2RhdGEtdG9nZ2xlPVwicGlsbFwiXScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICAgIFBsdWdpbi5jYWxsKCQodGhpcyksICdzaG93JylcclxuICB9KVxyXG5cclxufShqUXVlcnkpO1xyXG5cclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIEJvb3RzdHJhcDogdHJhbnNpdGlvbi5qcyB2My4yLjBcclxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jdHJhbnNpdGlvbnNcclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxyXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuXHJcblxyXG4rZnVuY3Rpb24gKCQpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIC8vIENTUyBUUkFOU0lUSU9OIFNVUFBPUlQgKFNob3V0b3V0OiBodHRwOi8vd3d3Lm1vZGVybml6ci5jb20vKVxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKCkge1xyXG4gICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9vdHN0cmFwJylcclxuXHJcbiAgICB2YXIgdHJhbnNFbmRFdmVudE5hbWVzID0ge1xyXG4gICAgICBXZWJraXRUcmFuc2l0aW9uIDogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxyXG4gICAgICBNb3pUcmFuc2l0aW9uICAgIDogJ3RyYW5zaXRpb25lbmQnLFxyXG4gICAgICBPVHJhbnNpdGlvbiAgICAgIDogJ29UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kJyxcclxuICAgICAgdHJhbnNpdGlvbiAgICAgICA6ICd0cmFuc2l0aW9uZW5kJ1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIG5hbWUgaW4gdHJhbnNFbmRFdmVudE5hbWVzKSB7XHJcbiAgICAgIGlmIChlbC5zdHlsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgZW5kOiB0cmFuc0VuZEV2ZW50TmFtZXNbbmFtZV0gfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlIC8vIGV4cGxpY2l0IGZvciBpZTggKCAgLl8uKVxyXG4gIH1cclxuXHJcbiAgLy8gaHR0cDovL2Jsb2cuYWxleG1hY2Nhdy5jb20vY3NzLXRyYW5zaXRpb25zXHJcbiAgJC5mbi5lbXVsYXRlVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uIChkdXJhdGlvbikge1xyXG4gICAgdmFyIGNhbGxlZCA9IGZhbHNlXHJcbiAgICB2YXIgJGVsID0gdGhpc1xyXG4gICAgJCh0aGlzKS5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHsgY2FsbGVkID0gdHJ1ZSB9KVxyXG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkgeyBpZiAoIWNhbGxlZCkgJCgkZWwpLnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKSB9XHJcbiAgICBzZXRUaW1lb3V0KGNhbGxiYWNrLCBkdXJhdGlvbilcclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuICAkKGZ1bmN0aW9uICgpIHtcclxuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uID0gdHJhbnNpdGlvbkVuZCgpXHJcblxyXG4gICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuXHJcblxyXG4gICAgJC5ldmVudC5zcGVjaWFsLmJzVHJhbnNpdGlvbkVuZCA9IHtcclxuICAgICAgYmluZFR5cGU6ICQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxcclxuICAgICAgZGVsZWdhdGVUeXBlOiAkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsXHJcbiAgICAgIGhhbmRsZTogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAoJChlLnRhcmdldCkuaXModGhpcykpIHJldHVybiBlLmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pXHJcblxyXG59KGpRdWVyeSk7XHJcblxyXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQm9vdHN0cmFwOiBzY3JvbGxzcHkuanMgdjMuMi4wXHJcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3Njcm9sbHNweVxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cclxuXHJcbitmdW5jdGlvbiAoJCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgLy8gU0NST0xMU1BZIENMQVNTIERFRklOSVRJT05cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICBmdW5jdGlvbiBTY3JvbGxTcHkoZWxlbWVudCwgb3B0aW9ucykge1xyXG4gICAgdmFyIHByb2Nlc3MgID0gJC5wcm94eSh0aGlzLnByb2Nlc3MsIHRoaXMpXHJcblxyXG4gICAgdGhpcy4kYm9keSAgICAgICAgICA9ICQoJ2JvZHknKVxyXG4gICAgdGhpcy4kc2Nyb2xsRWxlbWVudCA9ICQoZWxlbWVudCkuaXMoJ2JvZHknKSA/ICQod2luZG93KSA6ICQoZWxlbWVudClcclxuICAgIHRoaXMub3B0aW9ucyAgICAgICAgPSAkLmV4dGVuZCh7fSwgU2Nyb2xsU3B5LkRFRkFVTFRTLCBvcHRpb25zKVxyXG4gICAgdGhpcy5zZWxlY3RvciAgICAgICA9ICh0aGlzLm9wdGlvbnMudGFyZ2V0IHx8ICcnKSArICcgLm5hdiBsaSA+IGEnXHJcbiAgICB0aGlzLm9mZnNldHMgICAgICAgID0gW11cclxuICAgIHRoaXMudGFyZ2V0cyAgICAgICAgPSBbXVxyXG4gICAgdGhpcy5hY3RpdmVUYXJnZXQgICA9IG51bGxcclxuICAgIHRoaXMuc2Nyb2xsSGVpZ2h0ICAgPSAwXHJcblxyXG4gICAgdGhpcy4kc2Nyb2xsRWxlbWVudC5vbignc2Nyb2xsLmJzLnNjcm9sbHNweScsIHByb2Nlc3MpXHJcbiAgICB0aGlzLnJlZnJlc2goKVxyXG4gICAgdGhpcy5wcm9jZXNzKClcclxuICB9XHJcblxyXG4gIFNjcm9sbFNweS5WRVJTSU9OICA9ICczLjIuMCdcclxuXHJcbiAgU2Nyb2xsU3B5LkRFRkFVTFRTID0ge1xyXG4gICAgb2Zmc2V0OiAxMFxyXG4gIH1cclxuXHJcbiAgU2Nyb2xsU3B5LnByb3RvdHlwZS5nZXRTY3JvbGxIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kc2Nyb2xsRWxlbWVudFswXS5zY3JvbGxIZWlnaHQgfHwgTWF0aC5tYXgodGhpcy4kYm9keVswXS5zY3JvbGxIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQpXHJcbiAgfVxyXG5cclxuICBTY3JvbGxTcHkucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgb2Zmc2V0TWV0aG9kID0gJ29mZnNldCdcclxuICAgIHZhciBvZmZzZXRCYXNlICAgPSAwXHJcblxyXG4gICAgaWYgKCEkLmlzV2luZG93KHRoaXMuJHNjcm9sbEVsZW1lbnRbMF0pKSB7XHJcbiAgICAgIG9mZnNldE1ldGhvZCA9ICdwb3NpdGlvbidcclxuICAgICAgb2Zmc2V0QmFzZSAgID0gdGhpcy4kc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoKVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMub2Zmc2V0cyA9IFtdXHJcbiAgICB0aGlzLnRhcmdldHMgPSBbXVxyXG4gICAgdGhpcy5zY3JvbGxIZWlnaHQgPSB0aGlzLmdldFNjcm9sbEhlaWdodCgpXHJcblxyXG4gICAgdmFyIHNlbGYgICAgID0gdGhpc1xyXG5cclxuICAgIHRoaXMuJGJvZHlcclxuICAgICAgLmZpbmQodGhpcy5zZWxlY3RvcilcclxuICAgICAgLm1hcChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyICRlbCAgID0gJCh0aGlzKVxyXG4gICAgICAgIHZhciBocmVmICA9ICRlbC5kYXRhKCd0YXJnZXQnKSB8fCAkZWwuYXR0cignaHJlZicpXHJcbiAgICAgICAgdmFyICRocmVmID0gL14jLi8udGVzdChocmVmKSAmJiAkKGhyZWYpXHJcblxyXG4gICAgICAgIHJldHVybiAoJGhyZWZcclxuICAgICAgICAgICYmICRocmVmLmxlbmd0aFxyXG4gICAgICAgICAgJiYgJGhyZWYuaXMoJzp2aXNpYmxlJylcclxuICAgICAgICAgICYmIFtbJGhyZWZbb2Zmc2V0TWV0aG9kXSgpLnRvcCArIG9mZnNldEJhc2UsIGhyZWZdXSkgfHwgbnVsbFxyXG4gICAgICB9KVxyXG4gICAgICAuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYVswXSAtIGJbMF0gfSlcclxuICAgICAgLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYub2Zmc2V0cy5wdXNoKHRoaXNbMF0pXHJcbiAgICAgICAgc2VsZi50YXJnZXRzLnB1c2godGhpc1sxXSlcclxuICAgICAgfSlcclxuICB9XHJcblxyXG4gIFNjcm9sbFNweS5wcm90b3R5cGUucHJvY2VzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzY3JvbGxUb3AgICAgPSB0aGlzLiRzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCgpICsgdGhpcy5vcHRpb25zLm9mZnNldFxyXG4gICAgdmFyIHNjcm9sbEhlaWdodCA9IHRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KClcclxuICAgIHZhciBtYXhTY3JvbGwgICAgPSB0aGlzLm9wdGlvbnMub2Zmc2V0ICsgc2Nyb2xsSGVpZ2h0IC0gdGhpcy4kc2Nyb2xsRWxlbWVudC5oZWlnaHQoKVxyXG4gICAgdmFyIG9mZnNldHMgICAgICA9IHRoaXMub2Zmc2V0c1xyXG4gICAgdmFyIHRhcmdldHMgICAgICA9IHRoaXMudGFyZ2V0c1xyXG4gICAgdmFyIGFjdGl2ZVRhcmdldCA9IHRoaXMuYWN0aXZlVGFyZ2V0XHJcbiAgICB2YXIgaVxyXG5cclxuICAgIGlmICh0aGlzLnNjcm9sbEhlaWdodCAhPSBzY3JvbGxIZWlnaHQpIHtcclxuICAgICAgdGhpcy5yZWZyZXNoKClcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2Nyb2xsVG9wID49IG1heFNjcm9sbCkge1xyXG4gICAgICByZXR1cm4gYWN0aXZlVGFyZ2V0ICE9IChpID0gdGFyZ2V0c1t0YXJnZXRzLmxlbmd0aCAtIDFdKSAmJiB0aGlzLmFjdGl2YXRlKGkpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFjdGl2ZVRhcmdldCAmJiBzY3JvbGxUb3AgPD0gb2Zmc2V0c1swXSkge1xyXG4gICAgICByZXR1cm4gYWN0aXZlVGFyZ2V0ICE9IChpID0gdGFyZ2V0c1swXSkgJiYgdGhpcy5hY3RpdmF0ZShpKVxyXG4gICAgfVxyXG5cclxuICAgIGZvciAoaSA9IG9mZnNldHMubGVuZ3RoOyBpLS07KSB7XHJcbiAgICAgIGFjdGl2ZVRhcmdldCAhPSB0YXJnZXRzW2ldXHJcbiAgICAgICAgJiYgc2Nyb2xsVG9wID49IG9mZnNldHNbaV1cclxuICAgICAgICAmJiAoIW9mZnNldHNbaSArIDFdIHx8IHNjcm9sbFRvcCA8PSBvZmZzZXRzW2kgKyAxXSlcclxuICAgICAgICAmJiB0aGlzLmFjdGl2YXRlKHRhcmdldHNbaV0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBTY3JvbGxTcHkucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgdGhpcy5hY3RpdmVUYXJnZXQgPSB0YXJnZXRcclxuXHJcbiAgICAkKHRoaXMuc2VsZWN0b3IpXHJcbiAgICAgIC5wYXJlbnRzVW50aWwodGhpcy5vcHRpb25zLnRhcmdldCwgJy5hY3RpdmUnKVxyXG4gICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXHJcblxyXG4gICAgdmFyIHNlbGVjdG9yID0gdGhpcy5zZWxlY3RvciArXHJcbiAgICAgICAgJ1tkYXRhLXRhcmdldD1cIicgKyB0YXJnZXQgKyAnXCJdLCcgK1xyXG4gICAgICAgIHRoaXMuc2VsZWN0b3IgKyAnW2hyZWY9XCInICsgdGFyZ2V0ICsgJ1wiXSdcclxuXHJcbiAgICB2YXIgYWN0aXZlID0gJChzZWxlY3RvcilcclxuICAgICAgLnBhcmVudHMoJ2xpJylcclxuICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKVxyXG5cclxuICAgIGlmIChhY3RpdmUucGFyZW50KCcuZHJvcGRvd24tbWVudScpLmxlbmd0aCkge1xyXG4gICAgICBhY3RpdmUgPSBhY3RpdmVcclxuICAgICAgICAuY2xvc2VzdCgnbGkuZHJvcGRvd24nKVxyXG4gICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcclxuICAgIH1cclxuXHJcbiAgICBhY3RpdmUudHJpZ2dlcignYWN0aXZhdGUuYnMuc2Nyb2xsc3B5JylcclxuICB9XHJcblxyXG5cclxuICAvLyBTQ1JPTExTUFkgUExVR0lOIERFRklOSVRJT05cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xyXG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxyXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLnNjcm9sbHNweScpXHJcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cclxuXHJcbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuc2Nyb2xsc3B5JywgKGRhdGEgPSBuZXcgU2Nyb2xsU3B5KHRoaXMsIG9wdGlvbnMpKSlcclxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgdmFyIG9sZCA9ICQuZm4uc2Nyb2xsc3B5XHJcblxyXG4gICQuZm4uc2Nyb2xsc3B5ICAgICAgICAgICAgID0gUGx1Z2luXHJcbiAgJC5mbi5zY3JvbGxzcHkuQ29uc3RydWN0b3IgPSBTY3JvbGxTcHlcclxuXHJcblxyXG4gIC8vIFNDUk9MTFNQWSBOTyBDT05GTElDVFxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAkLmZuLnNjcm9sbHNweS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgJC5mbi5zY3JvbGxzcHkgPSBvbGRcclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gU0NST0xMU1BZIERBVEEtQVBJXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09XHJcblxyXG4gICQod2luZG93KS5vbignbG9hZC5icy5zY3JvbGxzcHkuZGF0YS1hcGknLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCdbZGF0YS1zcHk9XCJzY3JvbGxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyICRzcHkgPSAkKHRoaXMpXHJcbiAgICAgIFBsdWdpbi5jYWxsKCRzcHksICRzcHkuZGF0YSgpKVxyXG4gICAgfSlcclxuICB9KVxyXG5cclxufShqUXVlcnkpO1xyXG5cclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIEJvb3RzdHJhcDogbW9kYWwuanMgdjMuMi4wXHJcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI21vZGFsc1xyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cclxuXHJcbitmdW5jdGlvbiAoJCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgLy8gTU9EQUwgQ0xBU1MgREVGSU5JVElPTlxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgdmFyIE1vZGFsID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcclxuICAgIHRoaXMub3B0aW9ucyAgICAgICAgPSBvcHRpb25zXHJcbiAgICB0aGlzLiRib2R5ICAgICAgICAgID0gJChkb2N1bWVudC5ib2R5KVxyXG4gICAgdGhpcy4kZWxlbWVudCAgICAgICA9ICQoZWxlbWVudClcclxuICAgIHRoaXMuJGJhY2tkcm9wICAgICAgPVxyXG4gICAgdGhpcy5pc1Nob3duICAgICAgICA9IG51bGxcclxuICAgIHRoaXMuc2Nyb2xsYmFyV2lkdGggPSAwXHJcblxyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdGUpIHtcclxuICAgICAgdGhpcy4kZWxlbWVudFxyXG4gICAgICAgIC5maW5kKCcubW9kYWwtY29udGVudCcpXHJcbiAgICAgICAgLmxvYWQodGhpcy5vcHRpb25zLnJlbW90ZSwgJC5wcm94eShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2xvYWRlZC5icy5tb2RhbCcpXHJcbiAgICAgICAgfSwgdGhpcykpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBNb2RhbC5WRVJTSU9OICA9ICczLjIuMCdcclxuXHJcbiAgTW9kYWwuREVGQVVMVFMgPSB7XHJcbiAgICBiYWNrZHJvcDogdHJ1ZSxcclxuICAgIGtleWJvYXJkOiB0cnVlLFxyXG4gICAgc2hvdzogdHJ1ZVxyXG4gIH1cclxuXHJcbiAgTW9kYWwucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uIChfcmVsYXRlZFRhcmdldCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaXNTaG93biA/IHRoaXMuaGlkZSgpIDogdGhpcy5zaG93KF9yZWxhdGVkVGFyZ2V0KVxyXG4gIH1cclxuXHJcbiAgTW9kYWwucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoX3JlbGF0ZWRUYXJnZXQpIHtcclxuICAgIHZhciB0aGF0ID0gdGhpc1xyXG4gICAgdmFyIGUgICAgPSAkLkV2ZW50KCdzaG93LmJzLm1vZGFsJywgeyByZWxhdGVkVGFyZ2V0OiBfcmVsYXRlZFRhcmdldCB9KVxyXG5cclxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxyXG5cclxuICAgIGlmICh0aGlzLmlzU2hvd24gfHwgZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXHJcblxyXG4gICAgdGhpcy5pc1Nob3duID0gdHJ1ZVxyXG5cclxuICAgIHRoaXMuY2hlY2tTY3JvbGxiYXIoKVxyXG4gICAgdGhpcy4kYm9keS5hZGRDbGFzcygnbW9kYWwtb3BlbicpXHJcblxyXG4gICAgdGhpcy5zZXRTY3JvbGxiYXIoKVxyXG4gICAgdGhpcy5lc2NhcGUoKVxyXG5cclxuICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLmRpc21pc3MuYnMubW9kYWwnLCAnW2RhdGEtZGlzbWlzcz1cIm1vZGFsXCJdJywgJC5wcm94eSh0aGlzLmhpZGUsIHRoaXMpKVxyXG5cclxuICAgIHRoaXMuYmFja2Ryb3AoZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgdHJhbnNpdGlvbiA9ICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoYXQuJGVsZW1lbnQuaGFzQ2xhc3MoJ2ZhZGUnKVxyXG5cclxuICAgICAgaWYgKCF0aGF0LiRlbGVtZW50LnBhcmVudCgpLmxlbmd0aCkge1xyXG4gICAgICAgIHRoYXQuJGVsZW1lbnQuYXBwZW5kVG8odGhhdC4kYm9keSkgLy8gZG9uJ3QgbW92ZSBtb2RhbHMgZG9tIHBvc2l0aW9uXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoYXQuJGVsZW1lbnRcclxuICAgICAgICAuc2hvdygpXHJcbiAgICAgICAgLnNjcm9sbFRvcCgwKVxyXG5cclxuICAgICAgaWYgKHRyYW5zaXRpb24pIHtcclxuICAgICAgICB0aGF0LiRlbGVtZW50WzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGF0LiRlbGVtZW50XHJcbiAgICAgICAgLmFkZENsYXNzKCdpbicpXHJcbiAgICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgZmFsc2UpXHJcblxyXG4gICAgICB0aGF0LmVuZm9yY2VGb2N1cygpXHJcblxyXG4gICAgICB2YXIgZSA9ICQuRXZlbnQoJ3Nob3duLmJzLm1vZGFsJywgeyByZWxhdGVkVGFyZ2V0OiBfcmVsYXRlZFRhcmdldCB9KVxyXG5cclxuICAgICAgdHJhbnNpdGlvbiA/XHJcbiAgICAgICAgdGhhdC4kZWxlbWVudC5maW5kKCcubW9kYWwtZGlhbG9nJykgLy8gd2FpdCBmb3IgbW9kYWwgdG8gc2xpZGUgaW5cclxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdmb2N1cycpLnRyaWdnZXIoZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMzAwKSA6XHJcbiAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdmb2N1cycpLnRyaWdnZXIoZSlcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBNb2RhbC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpXHJcblxyXG4gICAgZSA9ICQuRXZlbnQoJ2hpZGUuYnMubW9kYWwnKVxyXG5cclxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxyXG5cclxuICAgIGlmICghdGhpcy5pc1Nob3duIHx8IGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxyXG5cclxuICAgIHRoaXMuaXNTaG93biA9IGZhbHNlXHJcblxyXG4gICAgdGhpcy4kYm9keS5yZW1vdmVDbGFzcygnbW9kYWwtb3BlbicpXHJcblxyXG4gICAgdGhpcy5yZXNldFNjcm9sbGJhcigpXHJcbiAgICB0aGlzLmVzY2FwZSgpXHJcblxyXG4gICAgJChkb2N1bWVudCkub2ZmKCdmb2N1c2luLmJzLm1vZGFsJylcclxuXHJcbiAgICB0aGlzLiRlbGVtZW50XHJcbiAgICAgIC5yZW1vdmVDbGFzcygnaW4nKVxyXG4gICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCB0cnVlKVxyXG4gICAgICAub2ZmKCdjbGljay5kaXNtaXNzLmJzLm1vZGFsJylcclxuXHJcbiAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJykgP1xyXG4gICAgICB0aGlzLiRlbGVtZW50XHJcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eSh0aGlzLmhpZGVNb2RhbCwgdGhpcykpXHJcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDMwMCkgOlxyXG4gICAgICB0aGlzLmhpZGVNb2RhbCgpXHJcbiAgfVxyXG5cclxuICBNb2RhbC5wcm90b3R5cGUuZW5mb3JjZUZvY3VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgJChkb2N1bWVudClcclxuICAgICAgLm9mZignZm9jdXNpbi5icy5tb2RhbCcpIC8vIGd1YXJkIGFnYWluc3QgaW5maW5pdGUgZm9jdXMgbG9vcFxyXG4gICAgICAub24oJ2ZvY3VzaW4uYnMubW9kYWwnLCAkLnByb3h5KGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuJGVsZW1lbnRbMF0gIT09IGUudGFyZ2V0ICYmICF0aGlzLiRlbGVtZW50LmhhcyhlLnRhcmdldCkubGVuZ3RoKSB7XHJcbiAgICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2ZvY3VzJylcclxuICAgICAgICB9XHJcbiAgICAgIH0sIHRoaXMpKVxyXG4gIH1cclxuXHJcbiAgTW9kYWwucHJvdG90eXBlLmVzY2FwZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICh0aGlzLmlzU2hvd24gJiYgdGhpcy5vcHRpb25zLmtleWJvYXJkKSB7XHJcbiAgICAgIHRoaXMuJGVsZW1lbnQub24oJ2tleXVwLmRpc21pc3MuYnMubW9kYWwnLCAkLnByb3h5KGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS53aGljaCA9PSAyNyAmJiB0aGlzLmhpZGUoKVxyXG4gICAgICB9LCB0aGlzKSlcclxuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNTaG93bikge1xyXG4gICAgICB0aGlzLiRlbGVtZW50Lm9mZigna2V5dXAuZGlzbWlzcy5icy5tb2RhbCcpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBNb2RhbC5wcm90b3R5cGUuaGlkZU1vZGFsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHRoYXQgPSB0aGlzXHJcbiAgICB0aGlzLiRlbGVtZW50LmhpZGUoKVxyXG4gICAgdGhpcy5iYWNrZHJvcChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignaGlkZGVuLmJzLm1vZGFsJylcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBNb2RhbC5wcm90b3R5cGUucmVtb3ZlQmFja2Ryb3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLiRiYWNrZHJvcCAmJiB0aGlzLiRiYWNrZHJvcC5yZW1vdmUoKVxyXG4gICAgdGhpcy4kYmFja2Ryb3AgPSBudWxsXHJcbiAgfVxyXG5cclxuICBNb2RhbC5wcm90b3R5cGUuYmFja2Ryb3AgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgIHZhciB0aGF0ID0gdGhpc1xyXG4gICAgdmFyIGFuaW1hdGUgPSB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJykgPyAnZmFkZScgOiAnJ1xyXG5cclxuICAgIGlmICh0aGlzLmlzU2hvd24gJiYgdGhpcy5vcHRpb25zLmJhY2tkcm9wKSB7XHJcbiAgICAgIHZhciBkb0FuaW1hdGUgPSAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiBhbmltYXRlXHJcblxyXG4gICAgICB0aGlzLiRiYWNrZHJvcCA9ICQoJzxkaXYgY2xhc3M9XCJtb2RhbC1iYWNrZHJvcCAnICsgYW5pbWF0ZSArICdcIiAvPicpXHJcbiAgICAgICAgLmFwcGVuZFRvKHRoaXMuJGJvZHkpXHJcblxyXG4gICAgICB0aGlzLiRlbGVtZW50Lm9uKCdjbGljay5kaXNtaXNzLmJzLm1vZGFsJywgJC5wcm94eShmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmIChlLnRhcmdldCAhPT0gZS5jdXJyZW50VGFyZ2V0KSByZXR1cm5cclxuICAgICAgICB0aGlzLm9wdGlvbnMuYmFja2Ryb3AgPT0gJ3N0YXRpYydcclxuICAgICAgICAgID8gdGhpcy4kZWxlbWVudFswXS5mb2N1cy5jYWxsKHRoaXMuJGVsZW1lbnRbMF0pXHJcbiAgICAgICAgICA6IHRoaXMuaGlkZS5jYWxsKHRoaXMpXHJcbiAgICAgIH0sIHRoaXMpKVxyXG5cclxuICAgICAgaWYgKGRvQW5pbWF0ZSkgdGhpcy4kYmFja2Ryb3BbMF0ub2Zmc2V0V2lkdGggLy8gZm9yY2UgcmVmbG93XHJcblxyXG4gICAgICB0aGlzLiRiYWNrZHJvcC5hZGRDbGFzcygnaW4nKVxyXG5cclxuICAgICAgaWYgKCFjYWxsYmFjaykgcmV0dXJuXHJcblxyXG4gICAgICBkb0FuaW1hdGUgP1xyXG4gICAgICAgIHRoaXMuJGJhY2tkcm9wXHJcbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjYWxsYmFjaylcclxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApIDpcclxuICAgICAgICBjYWxsYmFjaygpXHJcblxyXG4gICAgfSBlbHNlIGlmICghdGhpcy5pc1Nob3duICYmIHRoaXMuJGJhY2tkcm9wKSB7XHJcbiAgICAgIHRoaXMuJGJhY2tkcm9wLnJlbW92ZUNsYXNzKCdpbicpXHJcblxyXG4gICAgICB2YXIgY2FsbGJhY2tSZW1vdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhhdC5yZW1vdmVCYWNrZHJvcCgpXHJcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxyXG4gICAgICB9XHJcbiAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2ZhZGUnKSA/XHJcbiAgICAgICAgdGhpcy4kYmFja2Ryb3BcclxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNhbGxiYWNrUmVtb3ZlKVxyXG4gICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCkgOlxyXG4gICAgICAgIGNhbGxiYWNrUmVtb3ZlKClcclxuXHJcbiAgICB9IGVsc2UgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICAgIGNhbGxiYWNrKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIE1vZGFsLnByb3RvdHlwZS5jaGVja1Njcm9sbGJhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoID49IHdpbmRvdy5pbm5lcldpZHRoKSByZXR1cm5cclxuICAgIHRoaXMuc2Nyb2xsYmFyV2lkdGggPSB0aGlzLnNjcm9sbGJhcldpZHRoIHx8IHRoaXMubWVhc3VyZVNjcm9sbGJhcigpXHJcbiAgfVxyXG5cclxuICBNb2RhbC5wcm90b3R5cGUuc2V0U2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGJvZHlQYWQgPSBwYXJzZUludCgodGhpcy4kYm9keS5jc3MoJ3BhZGRpbmctcmlnaHQnKSB8fCAwKSwgMTApXHJcbiAgICBpZiAodGhpcy5zY3JvbGxiYXJXaWR0aCkgdGhpcy4kYm9keS5jc3MoJ3BhZGRpbmctcmlnaHQnLCBib2R5UGFkICsgdGhpcy5zY3JvbGxiYXJXaWR0aClcclxuICB9XHJcblxyXG4gIE1vZGFsLnByb3RvdHlwZS5yZXNldFNjcm9sbGJhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JywgJycpXHJcbiAgfVxyXG5cclxuICBNb2RhbC5wcm90b3R5cGUubWVhc3VyZVNjcm9sbGJhciA9IGZ1bmN0aW9uICgpIHsgLy8gdGh4IHdhbHNoXHJcbiAgICB2YXIgc2Nyb2xsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgIHNjcm9sbERpdi5jbGFzc05hbWUgPSAnbW9kYWwtc2Nyb2xsYmFyLW1lYXN1cmUnXHJcbiAgICB0aGlzLiRib2R5LmFwcGVuZChzY3JvbGxEaXYpXHJcbiAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSBzY3JvbGxEaXYub2Zmc2V0V2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGhcclxuICAgIHRoaXMuJGJvZHlbMF0ucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KVxyXG4gICAgcmV0dXJuIHNjcm9sbGJhcldpZHRoXHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gTU9EQUwgUExVR0lOIERFRklOSVRJT05cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uLCBfcmVsYXRlZFRhcmdldCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxyXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLm1vZGFsJylcclxuICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgTW9kYWwuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXHJcblxyXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLm1vZGFsJywgKGRhdGEgPSBuZXcgTW9kYWwodGhpcywgb3B0aW9ucykpKVxyXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKF9yZWxhdGVkVGFyZ2V0KVxyXG4gICAgICBlbHNlIGlmIChvcHRpb25zLnNob3cpIGRhdGEuc2hvdyhfcmVsYXRlZFRhcmdldClcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICB2YXIgb2xkID0gJC5mbi5tb2RhbFxyXG5cclxuICAkLmZuLm1vZGFsICAgICAgICAgICAgID0gUGx1Z2luXHJcbiAgJC5mbi5tb2RhbC5Db25zdHJ1Y3RvciA9IE1vZGFsXHJcblxyXG5cclxuICAvLyBNT0RBTCBOTyBDT05GTElDVFxyXG4gIC8vID09PT09PT09PT09PT09PT09XHJcblxyXG4gICQuZm4ubW9kYWwubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICQuZm4ubW9kYWwgPSBvbGRcclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gTU9EQUwgREFUQS1BUElcclxuICAvLyA9PT09PT09PT09PT09PVxyXG5cclxuICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMubW9kYWwuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPVwibW9kYWxcIl0nLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXHJcbiAgICB2YXIgaHJlZiAgICA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxyXG4gICAgdmFyICR0YXJnZXQgPSAkKCR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykgfHwgKGhyZWYgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykpKSAvLyBzdHJpcCBmb3IgaWU3XHJcbiAgICB2YXIgb3B0aW9uICA9ICR0YXJnZXQuZGF0YSgnYnMubW9kYWwnKSA/ICd0b2dnbGUnIDogJC5leHRlbmQoeyByZW1vdGU6ICEvIy8udGVzdChocmVmKSAmJiBocmVmIH0sICR0YXJnZXQuZGF0YSgpLCAkdGhpcy5kYXRhKCkpXHJcblxyXG4gICAgaWYgKCR0aGlzLmlzKCdhJykpIGUucHJldmVudERlZmF1bHQoKVxyXG5cclxuICAgICR0YXJnZXQub25lKCdzaG93LmJzLm1vZGFsJywgZnVuY3Rpb24gKHNob3dFdmVudCkge1xyXG4gICAgICBpZiAoc2hvd0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm4gLy8gb25seSByZWdpc3RlciBmb2N1cyByZXN0b3JlciBpZiBtb2RhbCB3aWxsIGFjdHVhbGx5IGdldCBzaG93blxyXG4gICAgICAkdGFyZ2V0Lm9uZSgnaGlkZGVuLmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICR0aGlzLmlzKCc6dmlzaWJsZScpICYmICR0aGlzLnRyaWdnZXIoJ2ZvY3VzJylcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb24sIHRoaXMpXHJcbiAgfSlcclxuXHJcbn0oalF1ZXJ5KTtcclxuXHJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBCb290c3RyYXA6IHRvb2x0aXAuanMgdjMuMi4wXHJcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3Rvb2x0aXBcclxuICogSW5zcGlyZWQgYnkgdGhlIG9yaWdpbmFsIGpRdWVyeS50aXBzeSBieSBKYXNvbiBGcmFtZVxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cclxuXHJcbitmdW5jdGlvbiAoJCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgLy8gVE9PTFRJUCBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgdmFyIFRvb2x0aXAgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xyXG4gICAgdGhpcy50eXBlICAgICAgID1cclxuICAgIHRoaXMub3B0aW9ucyAgICA9XHJcbiAgICB0aGlzLmVuYWJsZWQgICAgPVxyXG4gICAgdGhpcy50aW1lb3V0ICAgID1cclxuICAgIHRoaXMuaG92ZXJTdGF0ZSA9XHJcbiAgICB0aGlzLiRlbGVtZW50ICAgPSBudWxsXHJcblxyXG4gICAgdGhpcy5pbml0KCd0b29sdGlwJywgZWxlbWVudCwgb3B0aW9ucylcclxuICB9XHJcblxyXG4gIFRvb2x0aXAuVkVSU0lPTiAgPSAnMy4yLjAnXHJcblxyXG4gIFRvb2x0aXAuREVGQVVMVFMgPSB7XHJcbiAgICBhbmltYXRpb246IHRydWUsXHJcbiAgICBwbGFjZW1lbnQ6ICd0b3AnLFxyXG4gICAgc2VsZWN0b3I6IGZhbHNlLFxyXG4gICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwidG9vbHRpcFwiIHJvbGU9XCJ0b29sdGlwXCI+PGRpdiBjbGFzcz1cInRvb2x0aXAtYXJyb3dcIj48L2Rpdj48ZGl2IGNsYXNzPVwidG9vbHRpcC1pbm5lclwiPjwvZGl2PjwvZGl2PicsXHJcbiAgICB0cmlnZ2VyOiAnaG92ZXIgZm9jdXMnLFxyXG4gICAgdGl0bGU6ICcnLFxyXG4gICAgZGVsYXk6IDAsXHJcbiAgICBodG1sOiBmYWxzZSxcclxuICAgIGNvbnRhaW5lcjogZmFsc2UsXHJcbiAgICB2aWV3cG9ydDoge1xyXG4gICAgICBzZWxlY3RvcjogJ2JvZHknLFxyXG4gICAgICBwYWRkaW5nOiAwXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBUb29sdGlwLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKHR5cGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcclxuICAgIHRoaXMuZW5hYmxlZCAgID0gdHJ1ZVxyXG4gICAgdGhpcy50eXBlICAgICAgPSB0eXBlXHJcbiAgICB0aGlzLiRlbGVtZW50ICA9ICQoZWxlbWVudClcclxuICAgIHRoaXMub3B0aW9ucyAgID0gdGhpcy5nZXRPcHRpb25zKG9wdGlvbnMpXHJcbiAgICB0aGlzLiR2aWV3cG9ydCA9IHRoaXMub3B0aW9ucy52aWV3cG9ydCAmJiAkKHRoaXMub3B0aW9ucy52aWV3cG9ydC5zZWxlY3RvciB8fCB0aGlzLm9wdGlvbnMudmlld3BvcnQpXHJcblxyXG4gICAgdmFyIHRyaWdnZXJzID0gdGhpcy5vcHRpb25zLnRyaWdnZXIuc3BsaXQoJyAnKVxyXG5cclxuICAgIGZvciAodmFyIGkgPSB0cmlnZ2Vycy5sZW5ndGg7IGktLTspIHtcclxuICAgICAgdmFyIHRyaWdnZXIgPSB0cmlnZ2Vyc1tpXVxyXG5cclxuICAgICAgaWYgKHRyaWdnZXIgPT0gJ2NsaWNrJykge1xyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLicgKyB0aGlzLnR5cGUsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgJC5wcm94eSh0aGlzLnRvZ2dsZSwgdGhpcykpXHJcbiAgICAgIH0gZWxzZSBpZiAodHJpZ2dlciAhPSAnbWFudWFsJykge1xyXG4gICAgICAgIHZhciBldmVudEluICA9IHRyaWdnZXIgPT0gJ2hvdmVyJyA/ICdtb3VzZWVudGVyJyA6ICdmb2N1c2luJ1xyXG4gICAgICAgIHZhciBldmVudE91dCA9IHRyaWdnZXIgPT0gJ2hvdmVyJyA/ICdtb3VzZWxlYXZlJyA6ICdmb2N1c291dCdcclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5vbihldmVudEluICArICcuJyArIHRoaXMudHlwZSwgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCAkLnByb3h5KHRoaXMuZW50ZXIsIHRoaXMpKVxyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oZXZlbnRPdXQgKyAnLicgKyB0aGlzLnR5cGUsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgJC5wcm94eSh0aGlzLmxlYXZlLCB0aGlzKSlcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMub3B0aW9ucy5zZWxlY3RvciA/XHJcbiAgICAgICh0aGlzLl9vcHRpb25zID0gJC5leHRlbmQoe30sIHRoaXMub3B0aW9ucywgeyB0cmlnZ2VyOiAnbWFudWFsJywgc2VsZWN0b3I6ICcnIH0pKSA6XHJcbiAgICAgIHRoaXMuZml4VGl0bGUoKVxyXG4gIH1cclxuXHJcbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gVG9vbHRpcC5ERUZBVUxUU1xyXG4gIH1cclxuXHJcbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICBvcHRpb25zID0gJC5leHRlbmQoe30sIHRoaXMuZ2V0RGVmYXVsdHMoKSwgdGhpcy4kZWxlbWVudC5kYXRhKCksIG9wdGlvbnMpXHJcblxyXG4gICAgaWYgKG9wdGlvbnMuZGVsYXkgJiYgdHlwZW9mIG9wdGlvbnMuZGVsYXkgPT0gJ251bWJlcicpIHtcclxuICAgICAgb3B0aW9ucy5kZWxheSA9IHtcclxuICAgICAgICBzaG93OiBvcHRpb25zLmRlbGF5LFxyXG4gICAgICAgIGhpZGU6IG9wdGlvbnMuZGVsYXlcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBvcHRpb25zXHJcbiAgfVxyXG5cclxuICBUb29sdGlwLnByb3RvdHlwZS5nZXREZWxlZ2F0ZU9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgb3B0aW9ucyAgPSB7fVxyXG4gICAgdmFyIGRlZmF1bHRzID0gdGhpcy5nZXREZWZhdWx0cygpXHJcblxyXG4gICAgdGhpcy5fb3B0aW9ucyAmJiAkLmVhY2godGhpcy5fb3B0aW9ucywgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgaWYgKGRlZmF1bHRzW2tleV0gIT0gdmFsdWUpIG9wdGlvbnNba2V5XSA9IHZhbHVlXHJcbiAgICB9KVxyXG5cclxuICAgIHJldHVybiBvcHRpb25zXHJcbiAgfVxyXG5cclxuICBUb29sdGlwLnByb3RvdHlwZS5lbnRlciA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgIHZhciBzZWxmID0gb2JqIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3RvciA/XHJcbiAgICAgIG9iaiA6ICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXHJcblxyXG4gICAgaWYgKCFzZWxmKSB7XHJcbiAgICAgIHNlbGYgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihvYmouY3VycmVudFRhcmdldCwgdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSlcclxuICAgICAgJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSwgc2VsZilcclxuICAgIH1cclxuXHJcbiAgICBjbGVhclRpbWVvdXQoc2VsZi50aW1lb3V0KVxyXG5cclxuICAgIHNlbGYuaG92ZXJTdGF0ZSA9ICdpbidcclxuXHJcbiAgICBpZiAoIXNlbGYub3B0aW9ucy5kZWxheSB8fCAhc2VsZi5vcHRpb25zLmRlbGF5LnNob3cpIHJldHVybiBzZWxmLnNob3coKVxyXG5cclxuICAgIHNlbGYudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAoc2VsZi5ob3ZlclN0YXRlID09ICdpbicpIHNlbGYuc2hvdygpXHJcbiAgICB9LCBzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdylcclxuICB9XHJcblxyXG4gIFRvb2x0aXAucHJvdG90eXBlLmxlYXZlID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgdmFyIHNlbGYgPSBvYmogaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yID9cclxuICAgICAgb2JqIDogJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSlcclxuXHJcbiAgICBpZiAoIXNlbGYpIHtcclxuICAgICAgc2VsZiA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKG9iai5jdXJyZW50VGFyZ2V0LCB0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKVxyXG4gICAgICAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlLCBzZWxmKVxyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyVGltZW91dChzZWxmLnRpbWVvdXQpXHJcblxyXG4gICAgc2VsZi5ob3ZlclN0YXRlID0gJ291dCdcclxuXHJcbiAgICBpZiAoIXNlbGYub3B0aW9ucy5kZWxheSB8fCAhc2VsZi5vcHRpb25zLmRlbGF5LmhpZGUpIHJldHVybiBzZWxmLmhpZGUoKVxyXG5cclxuICAgIHNlbGYudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAoc2VsZi5ob3ZlclN0YXRlID09ICdvdXQnKSBzZWxmLmhpZGUoKVxyXG4gICAgfSwgc2VsZi5vcHRpb25zLmRlbGF5LmhpZGUpXHJcbiAgfVxyXG5cclxuICBUb29sdGlwLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGUgPSAkLkV2ZW50KCdzaG93LmJzLicgKyB0aGlzLnR5cGUpXHJcblxyXG4gICAgaWYgKHRoaXMuaGFzQ29udGVudCgpICYmIHRoaXMuZW5hYmxlZCkge1xyXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcclxuXHJcbiAgICAgIHZhciBpbkRvbSA9ICQuY29udGFpbnMoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB0aGlzLiRlbGVtZW50WzBdKVxyXG4gICAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCAhaW5Eb20pIHJldHVyblxyXG4gICAgICB2YXIgdGhhdCA9IHRoaXNcclxuXHJcbiAgICAgIHZhciAkdGlwID0gdGhpcy50aXAoKVxyXG5cclxuICAgICAgdmFyIHRpcElkID0gdGhpcy5nZXRVSUQodGhpcy50eXBlKVxyXG5cclxuICAgICAgdGhpcy5zZXRDb250ZW50KClcclxuICAgICAgJHRpcC5hdHRyKCdpZCcsIHRpcElkKVxyXG4gICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknLCB0aXBJZClcclxuXHJcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSAkdGlwLmFkZENsYXNzKCdmYWRlJylcclxuXHJcbiAgICAgIHZhciBwbGFjZW1lbnQgPSB0eXBlb2YgdGhpcy5vcHRpb25zLnBsYWNlbWVudCA9PSAnZnVuY3Rpb24nID9cclxuICAgICAgICB0aGlzLm9wdGlvbnMucGxhY2VtZW50LmNhbGwodGhpcywgJHRpcFswXSwgdGhpcy4kZWxlbWVudFswXSkgOlxyXG4gICAgICAgIHRoaXMub3B0aW9ucy5wbGFjZW1lbnRcclxuXHJcbiAgICAgIHZhciBhdXRvVG9rZW4gPSAvXFxzP2F1dG8/XFxzPy9pXHJcbiAgICAgIHZhciBhdXRvUGxhY2UgPSBhdXRvVG9rZW4udGVzdChwbGFjZW1lbnQpXHJcbiAgICAgIGlmIChhdXRvUGxhY2UpIHBsYWNlbWVudCA9IHBsYWNlbWVudC5yZXBsYWNlKGF1dG9Ub2tlbiwgJycpIHx8ICd0b3AnXHJcblxyXG4gICAgICAkdGlwXHJcbiAgICAgICAgLmRldGFjaCgpXHJcbiAgICAgICAgLmNzcyh7IHRvcDogMCwgbGVmdDogMCwgZGlzcGxheTogJ2Jsb2NrJyB9KVxyXG4gICAgICAgIC5hZGRDbGFzcyhwbGFjZW1lbnQpXHJcbiAgICAgICAgLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUsIHRoaXMpXHJcblxyXG4gICAgICB0aGlzLm9wdGlvbnMuY29udGFpbmVyID8gJHRpcC5hcHBlbmRUbyh0aGlzLm9wdGlvbnMuY29udGFpbmVyKSA6ICR0aXAuaW5zZXJ0QWZ0ZXIodGhpcy4kZWxlbWVudClcclxuXHJcbiAgICAgIHZhciBwb3MgICAgICAgICAgPSB0aGlzLmdldFBvc2l0aW9uKClcclxuICAgICAgdmFyIGFjdHVhbFdpZHRoICA9ICR0aXBbMF0ub2Zmc2V0V2lkdGhcclxuICAgICAgdmFyIGFjdHVhbEhlaWdodCA9ICR0aXBbMF0ub2Zmc2V0SGVpZ2h0XHJcblxyXG4gICAgICBpZiAoYXV0b1BsYWNlKSB7XHJcbiAgICAgICAgdmFyIG9yZ1BsYWNlbWVudCA9IHBsYWNlbWVudFxyXG4gICAgICAgIHZhciAkcGFyZW50ICAgICAgPSB0aGlzLiRlbGVtZW50LnBhcmVudCgpXHJcbiAgICAgICAgdmFyIHBhcmVudERpbSAgICA9IHRoaXMuZ2V0UG9zaXRpb24oJHBhcmVudClcclxuXHJcbiAgICAgICAgcGxhY2VtZW50ID0gcGxhY2VtZW50ID09ICdib3R0b20nICYmIHBvcy50b3AgICArIHBvcy5oZWlnaHQgICAgICAgKyBhY3R1YWxIZWlnaHQgLSBwYXJlbnREaW0uc2Nyb2xsID4gcGFyZW50RGltLmhlaWdodCA/ICd0b3AnICAgIDpcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ3RvcCcgICAgJiYgcG9zLnRvcCAgIC0gcGFyZW50RGltLnNjcm9sbCAtIGFjdHVhbEhlaWdodCA8IDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JvdHRvbScgOlxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudCA9PSAncmlnaHQnICAmJiBwb3MucmlnaHQgKyBhY3R1YWxXaWR0aCAgICAgID4gcGFyZW50RGltLndpZHRoICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnbGVmdCcgICA6XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50ID09ICdsZWZ0JyAgICYmIHBvcy5sZWZ0ICAtIGFjdHVhbFdpZHRoICAgICAgPCBwYXJlbnREaW0ubGVmdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdyaWdodCcgIDpcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnRcclxuXHJcbiAgICAgICAgJHRpcFxyXG4gICAgICAgICAgLnJlbW92ZUNsYXNzKG9yZ1BsYWNlbWVudClcclxuICAgICAgICAgIC5hZGRDbGFzcyhwbGFjZW1lbnQpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBjYWxjdWxhdGVkT2Zmc2V0ID0gdGhpcy5nZXRDYWxjdWxhdGVkT2Zmc2V0KHBsYWNlbWVudCwgcG9zLCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KVxyXG5cclxuICAgICAgdGhpcy5hcHBseVBsYWNlbWVudChjYWxjdWxhdGVkT2Zmc2V0LCBwbGFjZW1lbnQpXHJcblxyXG4gICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdzaG93bi5icy4nICsgdGhhdC50eXBlKVxyXG4gICAgICAgIHRoYXQuaG92ZXJTdGF0ZSA9IG51bGxcclxuICAgICAgfVxyXG5cclxuICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kdGlwLmhhc0NsYXNzKCdmYWRlJykgP1xyXG4gICAgICAgICR0aXBcclxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNvbXBsZXRlKVxyXG4gICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCkgOlxyXG4gICAgICAgIGNvbXBsZXRlKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIFRvb2x0aXAucHJvdG90eXBlLmFwcGx5UGxhY2VtZW50ID0gZnVuY3Rpb24gKG9mZnNldCwgcGxhY2VtZW50KSB7XHJcbiAgICB2YXIgJHRpcCAgID0gdGhpcy50aXAoKVxyXG4gICAgdmFyIHdpZHRoICA9ICR0aXBbMF0ub2Zmc2V0V2lkdGhcclxuICAgIHZhciBoZWlnaHQgPSAkdGlwWzBdLm9mZnNldEhlaWdodFxyXG5cclxuICAgIC8vIG1hbnVhbGx5IHJlYWQgbWFyZ2lucyBiZWNhdXNlIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBpbmNsdWRlcyBkaWZmZXJlbmNlXHJcbiAgICB2YXIgbWFyZ2luVG9wID0gcGFyc2VJbnQoJHRpcC5jc3MoJ21hcmdpbi10b3AnKSwgMTApXHJcbiAgICB2YXIgbWFyZ2luTGVmdCA9IHBhcnNlSW50KCR0aXAuY3NzKCdtYXJnaW4tbGVmdCcpLCAxMClcclxuXHJcbiAgICAvLyB3ZSBtdXN0IGNoZWNrIGZvciBOYU4gZm9yIGllIDgvOVxyXG4gICAgaWYgKGlzTmFOKG1hcmdpblRvcCkpICBtYXJnaW5Ub3AgID0gMFxyXG4gICAgaWYgKGlzTmFOKG1hcmdpbkxlZnQpKSBtYXJnaW5MZWZ0ID0gMFxyXG5cclxuICAgIG9mZnNldC50b3AgID0gb2Zmc2V0LnRvcCAgKyBtYXJnaW5Ub3BcclxuICAgIG9mZnNldC5sZWZ0ID0gb2Zmc2V0LmxlZnQgKyBtYXJnaW5MZWZ0XHJcblxyXG4gICAgLy8gJC5mbi5vZmZzZXQgZG9lc24ndCByb3VuZCBwaXhlbCB2YWx1ZXNcclxuICAgIC8vIHNvIHdlIHVzZSBzZXRPZmZzZXQgZGlyZWN0bHkgd2l0aCBvdXIgb3duIGZ1bmN0aW9uIEItMFxyXG4gICAgJC5vZmZzZXQuc2V0T2Zmc2V0KCR0aXBbMF0sICQuZXh0ZW5kKHtcclxuICAgICAgdXNpbmc6IGZ1bmN0aW9uIChwcm9wcykge1xyXG4gICAgICAgICR0aXAuY3NzKHtcclxuICAgICAgICAgIHRvcDogTWF0aC5yb3VuZChwcm9wcy50b3ApLFxyXG4gICAgICAgICAgbGVmdDogTWF0aC5yb3VuZChwcm9wcy5sZWZ0KVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH0sIG9mZnNldCksIDApXHJcblxyXG4gICAgJHRpcC5hZGRDbGFzcygnaW4nKVxyXG5cclxuICAgIC8vIGNoZWNrIHRvIHNlZSBpZiBwbGFjaW5nIHRpcCBpbiBuZXcgb2Zmc2V0IGNhdXNlZCB0aGUgdGlwIHRvIHJlc2l6ZSBpdHNlbGZcclxuICAgIHZhciBhY3R1YWxXaWR0aCAgPSAkdGlwWzBdLm9mZnNldFdpZHRoXHJcbiAgICB2YXIgYWN0dWFsSGVpZ2h0ID0gJHRpcFswXS5vZmZzZXRIZWlnaHRcclxuXHJcbiAgICBpZiAocGxhY2VtZW50ID09ICd0b3AnICYmIGFjdHVhbEhlaWdodCAhPSBoZWlnaHQpIHtcclxuICAgICAgb2Zmc2V0LnRvcCA9IG9mZnNldC50b3AgKyBoZWlnaHQgLSBhY3R1YWxIZWlnaHRcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZGVsdGEgPSB0aGlzLmdldFZpZXdwb3J0QWRqdXN0ZWREZWx0YShwbGFjZW1lbnQsIG9mZnNldCwgYWN0dWFsV2lkdGgsIGFjdHVhbEhlaWdodClcclxuXHJcbiAgICBpZiAoZGVsdGEubGVmdCkgb2Zmc2V0LmxlZnQgKz0gZGVsdGEubGVmdFxyXG4gICAgZWxzZSBvZmZzZXQudG9wICs9IGRlbHRhLnRvcFxyXG5cclxuICAgIHZhciBhcnJvd0RlbHRhICAgICAgICAgID0gZGVsdGEubGVmdCA/IGRlbHRhLmxlZnQgKiAyIC0gd2lkdGggKyBhY3R1YWxXaWR0aCA6IGRlbHRhLnRvcCAqIDIgLSBoZWlnaHQgKyBhY3R1YWxIZWlnaHRcclxuICAgIHZhciBhcnJvd1Bvc2l0aW9uICAgICAgID0gZGVsdGEubGVmdCA/ICdsZWZ0JyAgICAgICAgOiAndG9wJ1xyXG4gICAgdmFyIGFycm93T2Zmc2V0UG9zaXRpb24gPSBkZWx0YS5sZWZ0ID8gJ29mZnNldFdpZHRoJyA6ICdvZmZzZXRIZWlnaHQnXHJcblxyXG4gICAgJHRpcC5vZmZzZXQob2Zmc2V0KVxyXG4gICAgdGhpcy5yZXBsYWNlQXJyb3coYXJyb3dEZWx0YSwgJHRpcFswXVthcnJvd09mZnNldFBvc2l0aW9uXSwgYXJyb3dQb3NpdGlvbilcclxuICB9XHJcblxyXG4gIFRvb2x0aXAucHJvdG90eXBlLnJlcGxhY2VBcnJvdyA9IGZ1bmN0aW9uIChkZWx0YSwgZGltZW5zaW9uLCBwb3NpdGlvbikge1xyXG4gICAgdGhpcy5hcnJvdygpLmNzcyhwb3NpdGlvbiwgZGVsdGEgPyAoNTAgKiAoMSAtIGRlbHRhIC8gZGltZW5zaW9uKSArICclJykgOiAnJylcclxuICB9XHJcblxyXG4gIFRvb2x0aXAucHJvdG90eXBlLnNldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgJHRpcCAgPSB0aGlzLnRpcCgpXHJcbiAgICB2YXIgdGl0bGUgPSB0aGlzLmdldFRpdGxlKClcclxuXHJcbiAgICAkdGlwLmZpbmQoJy50b29sdGlwLWlubmVyJylbdGhpcy5vcHRpb25zLmh0bWwgPyAnaHRtbCcgOiAndGV4dCddKHRpdGxlKVxyXG4gICAgJHRpcC5yZW1vdmVDbGFzcygnZmFkZSBpbiB0b3AgYm90dG9tIGxlZnQgcmlnaHQnKVxyXG4gIH1cclxuXHJcbiAgVG9vbHRpcC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB0aGF0ID0gdGhpc1xyXG4gICAgdmFyICR0aXAgPSB0aGlzLnRpcCgpXHJcbiAgICB2YXIgZSAgICA9ICQuRXZlbnQoJ2hpZGUuYnMuJyArIHRoaXMudHlwZSlcclxuXHJcbiAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknKVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xyXG4gICAgICBpZiAodGhhdC5ob3ZlclN0YXRlICE9ICdpbicpICR0aXAuZGV0YWNoKClcclxuICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdoaWRkZW4uYnMuJyArIHRoYXQudHlwZSlcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcclxuXHJcbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXHJcblxyXG4gICAgJHRpcC5yZW1vdmVDbGFzcygnaW4nKVxyXG5cclxuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJHRpcC5oYXNDbGFzcygnZmFkZScpID9cclxuICAgICAgJHRpcFxyXG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNvbXBsZXRlKVxyXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApIDpcclxuICAgICAgY29tcGxldGUoKVxyXG5cclxuICAgIHRoaXMuaG92ZXJTdGF0ZSA9IG51bGxcclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuXHJcbiAgVG9vbHRpcC5wcm90b3R5cGUuZml4VGl0bGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgJGUgPSB0aGlzLiRlbGVtZW50XHJcbiAgICBpZiAoJGUuYXR0cigndGl0bGUnKSB8fCB0eXBlb2YgKCRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKSkgIT0gJ3N0cmluZycpIHtcclxuICAgICAgJGUuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScsICRlLmF0dHIoJ3RpdGxlJykgfHwgJycpLmF0dHIoJ3RpdGxlJywgJycpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBUb29sdGlwLnByb3RvdHlwZS5oYXNDb250ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZ2V0VGl0bGUoKVxyXG4gIH1cclxuXHJcbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0UG9zaXRpb24gPSBmdW5jdGlvbiAoJGVsZW1lbnQpIHtcclxuICAgICRlbGVtZW50ICAgPSAkZWxlbWVudCB8fCB0aGlzLiRlbGVtZW50XHJcbiAgICB2YXIgZWwgICAgID0gJGVsZW1lbnRbMF1cclxuICAgIHZhciBpc0JvZHkgPSBlbC50YWdOYW1lID09ICdCT0RZJ1xyXG4gICAgcmV0dXJuICQuZXh0ZW5kKHt9LCAodHlwZW9mIGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCA9PSAnZnVuY3Rpb24nKSA/IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogbnVsbCwge1xyXG4gICAgICBzY3JvbGw6IGlzQm9keSA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgOiAkZWxlbWVudC5zY3JvbGxUb3AoKSxcclxuICAgICAgd2lkdGg6ICBpc0JvZHkgPyAkKHdpbmRvdykud2lkdGgoKSAgOiAkZWxlbWVudC5vdXRlcldpZHRoKCksXHJcbiAgICAgIGhlaWdodDogaXNCb2R5ID8gJCh3aW5kb3cpLmhlaWdodCgpIDogJGVsZW1lbnQub3V0ZXJIZWlnaHQoKVxyXG4gICAgfSwgaXNCb2R5ID8geyB0b3A6IDAsIGxlZnQ6IDAgfSA6ICRlbGVtZW50Lm9mZnNldCgpKVxyXG4gIH1cclxuXHJcbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0Q2FsY3VsYXRlZE9mZnNldCA9IGZ1bmN0aW9uIChwbGFjZW1lbnQsIHBvcywgYWN0dWFsV2lkdGgsIGFjdHVhbEhlaWdodCkge1xyXG4gICAgcmV0dXJuIHBsYWNlbWVudCA9PSAnYm90dG9tJyA/IHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCwgICBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCAvIDIgLSBhY3R1YWxXaWR0aCAvIDIgIH0gOlxyXG4gICAgICAgICAgIHBsYWNlbWVudCA9PSAndG9wJyAgICA/IHsgdG9wOiBwb3MudG9wIC0gYWN0dWFsSGVpZ2h0LCBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCAvIDIgLSBhY3R1YWxXaWR0aCAvIDIgIH0gOlxyXG4gICAgICAgICAgIHBsYWNlbWVudCA9PSAnbGVmdCcgICA/IHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCAvIDIgLSBhY3R1YWxIZWlnaHQgLyAyLCBsZWZ0OiBwb3MubGVmdCAtIGFjdHVhbFdpZHRoIH0gOlxyXG4gICAgICAgIC8qIHBsYWNlbWVudCA9PSAncmlnaHQnICovIHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCAvIDIgLSBhY3R1YWxIZWlnaHQgLyAyLCBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCAgIH1cclxuXHJcbiAgfVxyXG5cclxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEgPSBmdW5jdGlvbiAocGxhY2VtZW50LCBwb3MsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpIHtcclxuICAgIHZhciBkZWx0YSA9IHsgdG9wOiAwLCBsZWZ0OiAwIH1cclxuICAgIGlmICghdGhpcy4kdmlld3BvcnQpIHJldHVybiBkZWx0YVxyXG5cclxuICAgIHZhciB2aWV3cG9ydFBhZGRpbmcgPSB0aGlzLm9wdGlvbnMudmlld3BvcnQgJiYgdGhpcy5vcHRpb25zLnZpZXdwb3J0LnBhZGRpbmcgfHwgMFxyXG4gICAgdmFyIHZpZXdwb3J0RGltZW5zaW9ucyA9IHRoaXMuZ2V0UG9zaXRpb24odGhpcy4kdmlld3BvcnQpXHJcblxyXG4gICAgaWYgKC9yaWdodHxsZWZ0Ly50ZXN0KHBsYWNlbWVudCkpIHtcclxuICAgICAgdmFyIHRvcEVkZ2VPZmZzZXQgICAgPSBwb3MudG9wIC0gdmlld3BvcnRQYWRkaW5nIC0gdmlld3BvcnREaW1lbnNpb25zLnNjcm9sbFxyXG4gICAgICB2YXIgYm90dG9tRWRnZU9mZnNldCA9IHBvcy50b3AgKyB2aWV3cG9ydFBhZGRpbmcgLSB2aWV3cG9ydERpbWVuc2lvbnMuc2Nyb2xsICsgYWN0dWFsSGVpZ2h0XHJcbiAgICAgIGlmICh0b3BFZGdlT2Zmc2V0IDwgdmlld3BvcnREaW1lbnNpb25zLnRvcCkgeyAvLyB0b3Agb3ZlcmZsb3dcclxuICAgICAgICBkZWx0YS50b3AgPSB2aWV3cG9ydERpbWVuc2lvbnMudG9wIC0gdG9wRWRnZU9mZnNldFxyXG4gICAgICB9IGVsc2UgaWYgKGJvdHRvbUVkZ2VPZmZzZXQgPiB2aWV3cG9ydERpbWVuc2lvbnMudG9wICsgdmlld3BvcnREaW1lbnNpb25zLmhlaWdodCkgeyAvLyBib3R0b20gb3ZlcmZsb3dcclxuICAgICAgICBkZWx0YS50b3AgPSB2aWV3cG9ydERpbWVuc2lvbnMudG9wICsgdmlld3BvcnREaW1lbnNpb25zLmhlaWdodCAtIGJvdHRvbUVkZ2VPZmZzZXRcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmFyIGxlZnRFZGdlT2Zmc2V0ICA9IHBvcy5sZWZ0IC0gdmlld3BvcnRQYWRkaW5nXHJcbiAgICAgIHZhciByaWdodEVkZ2VPZmZzZXQgPSBwb3MubGVmdCArIHZpZXdwb3J0UGFkZGluZyArIGFjdHVhbFdpZHRoXHJcbiAgICAgIGlmIChsZWZ0RWRnZU9mZnNldCA8IHZpZXdwb3J0RGltZW5zaW9ucy5sZWZ0KSB7IC8vIGxlZnQgb3ZlcmZsb3dcclxuICAgICAgICBkZWx0YS5sZWZ0ID0gdmlld3BvcnREaW1lbnNpb25zLmxlZnQgLSBsZWZ0RWRnZU9mZnNldFxyXG4gICAgICB9IGVsc2UgaWYgKHJpZ2h0RWRnZU9mZnNldCA+IHZpZXdwb3J0RGltZW5zaW9ucy53aWR0aCkgeyAvLyByaWdodCBvdmVyZmxvd1xyXG4gICAgICAgIGRlbHRhLmxlZnQgPSB2aWV3cG9ydERpbWVuc2lvbnMubGVmdCArIHZpZXdwb3J0RGltZW5zaW9ucy53aWR0aCAtIHJpZ2h0RWRnZU9mZnNldFxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRlbHRhXHJcbiAgfVxyXG5cclxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRUaXRsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB0aXRsZVxyXG4gICAgdmFyICRlID0gdGhpcy4kZWxlbWVudFxyXG4gICAgdmFyIG8gID0gdGhpcy5vcHRpb25zXHJcblxyXG4gICAgdGl0bGUgPSAkZS5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJylcclxuICAgICAgfHwgKHR5cGVvZiBvLnRpdGxlID09ICdmdW5jdGlvbicgPyBvLnRpdGxlLmNhbGwoJGVbMF0pIDogIG8udGl0bGUpXHJcblxyXG4gICAgcmV0dXJuIHRpdGxlXHJcbiAgfVxyXG5cclxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRVSUQgPSBmdW5jdGlvbiAocHJlZml4KSB7XHJcbiAgICBkbyBwcmVmaXggKz0gfn4oTWF0aC5yYW5kb20oKSAqIDEwMDAwMDApXHJcbiAgICB3aGlsZSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJlZml4KSlcclxuICAgIHJldHVybiBwcmVmaXhcclxuICB9XHJcblxyXG4gIFRvb2x0aXAucHJvdG90eXBlLnRpcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiAodGhpcy4kdGlwID0gdGhpcy4kdGlwIHx8ICQodGhpcy5vcHRpb25zLnRlbXBsYXRlKSlcclxuICB9XHJcblxyXG4gIFRvb2x0aXAucHJvdG90eXBlLmFycm93ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuICh0aGlzLiRhcnJvdyA9IHRoaXMuJGFycm93IHx8IHRoaXMudGlwKCkuZmluZCgnLnRvb2x0aXAtYXJyb3cnKSlcclxuICB9XHJcblxyXG4gIFRvb2x0aXAucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCF0aGlzLiRlbGVtZW50WzBdLnBhcmVudE5vZGUpIHtcclxuICAgICAgdGhpcy5oaWRlKClcclxuICAgICAgdGhpcy4kZWxlbWVudCA9IG51bGxcclxuICAgICAgdGhpcy5vcHRpb25zICA9IG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIFRvb2x0aXAucHJvdG90eXBlLmVuYWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuZW5hYmxlZCA9IHRydWVcclxuICB9XHJcblxyXG4gIFRvb2x0aXAucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZVxyXG4gIH1cclxuXHJcbiAgVG9vbHRpcC5wcm90b3R5cGUudG9nZ2xlRW5hYmxlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuZW5hYmxlZCA9ICF0aGlzLmVuYWJsZWRcclxuICB9XHJcblxyXG4gIFRvb2x0aXAucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXNcclxuICAgIGlmIChlKSB7XHJcbiAgICAgIHNlbGYgPSAkKGUuY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSlcclxuICAgICAgaWYgKCFzZWxmKSB7XHJcbiAgICAgICAgc2VsZiA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGUuY3VycmVudFRhcmdldCwgdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSlcclxuICAgICAgICAkKGUuY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSwgc2VsZilcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNlbGYudGlwKCkuaGFzQ2xhc3MoJ2luJykgPyBzZWxmLmxlYXZlKHNlbGYpIDogc2VsZi5lbnRlcihzZWxmKVxyXG4gIH1cclxuXHJcbiAgVG9vbHRpcC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpXHJcbiAgICB0aGlzLmhpZGUoKS4kZWxlbWVudC5vZmYoJy4nICsgdGhpcy50eXBlKS5yZW1vdmVEYXRhKCdicy4nICsgdGhpcy50eXBlKVxyXG4gIH1cclxuXHJcblxyXG4gIC8vIFRPT0xUSVAgUExVR0lOIERFRklOSVRJT05cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcclxuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcclxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy50b29sdGlwJylcclxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxyXG5cclxuICAgICAgaWYgKCFkYXRhICYmIG9wdGlvbiA9PSAnZGVzdHJveScpIHJldHVyblxyXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnRvb2x0aXAnLCAoZGF0YSA9IG5ldyBUb29sdGlwKHRoaXMsIG9wdGlvbnMpKSlcclxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgdmFyIG9sZCA9ICQuZm4udG9vbHRpcFxyXG5cclxuICAkLmZuLnRvb2x0aXAgICAgICAgICAgICAgPSBQbHVnaW5cclxuICAkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IgPSBUb29sdGlwXHJcblxyXG5cclxuICAvLyBUT09MVElQIE5PIENPTkZMSUNUXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAkLmZuLnRvb2x0aXAubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICQuZm4udG9vbHRpcCA9IG9sZFxyXG4gICAgcmV0dXJuIHRoaXNcclxuICB9XHJcblxyXG59KGpRdWVyeSk7XHJcblxyXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQm9vdHN0cmFwOiBwb3BvdmVyLmpzIHYzLjIuMFxyXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNwb3BvdmVyc1xyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cclxuXHJcbitmdW5jdGlvbiAoJCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgLy8gUE9QT1ZFUiBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgdmFyIFBvcG92ZXIgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xyXG4gICAgdGhpcy5pbml0KCdwb3BvdmVyJywgZWxlbWVudCwgb3B0aW9ucylcclxuICB9XHJcblxyXG4gIGlmICghJC5mbi50b29sdGlwKSB0aHJvdyBuZXcgRXJyb3IoJ1BvcG92ZXIgcmVxdWlyZXMgdG9vbHRpcC5qcycpXHJcblxyXG4gIFBvcG92ZXIuVkVSU0lPTiAgPSAnMy4yLjAnXHJcblxyXG4gIFBvcG92ZXIuREVGQVVMVFMgPSAkLmV4dGVuZCh7fSwgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yLkRFRkFVTFRTLCB7XHJcbiAgICBwbGFjZW1lbnQ6ICdyaWdodCcsXHJcbiAgICB0cmlnZ2VyOiAnY2xpY2snLFxyXG4gICAgY29udGVudDogJycsXHJcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJwb3BvdmVyXCIgcm9sZT1cInRvb2x0aXBcIj48ZGl2IGNsYXNzPVwiYXJyb3dcIj48L2Rpdj48aDMgY2xhc3M9XCJwb3BvdmVyLXRpdGxlXCI+PC9oMz48ZGl2IGNsYXNzPVwicG9wb3Zlci1jb250ZW50XCI+PC9kaXY+PC9kaXY+J1xyXG4gIH0pXHJcblxyXG5cclxuICAvLyBOT1RFOiBQT1BPVkVSIEVYVEVORFMgdG9vbHRpcC5qc1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIFBvcG92ZXIucHJvdG90eXBlID0gJC5leHRlbmQoe30sICQuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5wcm90b3R5cGUpXHJcblxyXG4gIFBvcG92ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUG9wb3ZlclxyXG5cclxuICBQb3BvdmVyLnByb3RvdHlwZS5nZXREZWZhdWx0cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiBQb3BvdmVyLkRFRkFVTFRTXHJcbiAgfVxyXG5cclxuICBQb3BvdmVyLnByb3RvdHlwZS5zZXRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyICR0aXAgICAgPSB0aGlzLnRpcCgpXHJcbiAgICB2YXIgdGl0bGUgICA9IHRoaXMuZ2V0VGl0bGUoKVxyXG4gICAgdmFyIGNvbnRlbnQgPSB0aGlzLmdldENvbnRlbnQoKVxyXG5cclxuICAgICR0aXAuZmluZCgnLnBvcG92ZXItdGl0bGUnKVt0aGlzLm9wdGlvbnMuaHRtbCA/ICdodG1sJyA6ICd0ZXh0J10odGl0bGUpXHJcbiAgICAkdGlwLmZpbmQoJy5wb3BvdmVyLWNvbnRlbnQnKS5lbXB0eSgpWyAvLyB3ZSB1c2UgYXBwZW5kIGZvciBodG1sIG9iamVjdHMgdG8gbWFpbnRhaW4ganMgZXZlbnRzXHJcbiAgICAgIHRoaXMub3B0aW9ucy5odG1sID8gKHR5cGVvZiBjb250ZW50ID09ICdzdHJpbmcnID8gJ2h0bWwnIDogJ2FwcGVuZCcpIDogJ3RleHQnXHJcbiAgICBdKGNvbnRlbnQpXHJcblxyXG4gICAgJHRpcC5yZW1vdmVDbGFzcygnZmFkZSB0b3AgYm90dG9tIGxlZnQgcmlnaHQgaW4nKVxyXG5cclxuICAgIC8vIElFOCBkb2Vzbid0IGFjY2VwdCBoaWRpbmcgdmlhIHRoZSBgOmVtcHR5YCBwc2V1ZG8gc2VsZWN0b3IsIHdlIGhhdmUgdG8gZG9cclxuICAgIC8vIHRoaXMgbWFudWFsbHkgYnkgY2hlY2tpbmcgdGhlIGNvbnRlbnRzLlxyXG4gICAgaWYgKCEkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJykuaHRtbCgpKSAkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJykuaGlkZSgpXHJcbiAgfVxyXG5cclxuICBQb3BvdmVyLnByb3RvdHlwZS5oYXNDb250ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZ2V0VGl0bGUoKSB8fCB0aGlzLmdldENvbnRlbnQoKVxyXG4gIH1cclxuXHJcbiAgUG9wb3Zlci5wcm90b3R5cGUuZ2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciAkZSA9IHRoaXMuJGVsZW1lbnRcclxuICAgIHZhciBvICA9IHRoaXMub3B0aW9uc1xyXG5cclxuICAgIHJldHVybiAkZS5hdHRyKCdkYXRhLWNvbnRlbnQnKVxyXG4gICAgICB8fCAodHlwZW9mIG8uY29udGVudCA9PSAnZnVuY3Rpb24nID9cclxuICAgICAgICAgICAgby5jb250ZW50LmNhbGwoJGVbMF0pIDpcclxuICAgICAgICAgICAgby5jb250ZW50KVxyXG4gIH1cclxuXHJcbiAgUG9wb3Zlci5wcm90b3R5cGUuYXJyb3cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gKHRoaXMuJGFycm93ID0gdGhpcy4kYXJyb3cgfHwgdGhpcy50aXAoKS5maW5kKCcuYXJyb3cnKSlcclxuICB9XHJcblxyXG4gIFBvcG92ZXIucHJvdG90eXBlLnRpcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICghdGhpcy4kdGlwKSB0aGlzLiR0aXAgPSAkKHRoaXMub3B0aW9ucy50ZW1wbGF0ZSlcclxuICAgIHJldHVybiB0aGlzLiR0aXBcclxuICB9XHJcblxyXG5cclxuICAvLyBQT1BPVkVSIFBMVUdJTiBERUZJTklUSU9OXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XHJcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXHJcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMucG9wb3ZlcicpXHJcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cclxuXHJcbiAgICAgIGlmICghZGF0YSAmJiBvcHRpb24gPT0gJ2Rlc3Ryb3knKSByZXR1cm5cclxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5wb3BvdmVyJywgKGRhdGEgPSBuZXcgUG9wb3Zlcih0aGlzLCBvcHRpb25zKSkpXHJcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHZhciBvbGQgPSAkLmZuLnBvcG92ZXJcclxuXHJcbiAgJC5mbi5wb3BvdmVyICAgICAgICAgICAgID0gUGx1Z2luXHJcbiAgJC5mbi5wb3BvdmVyLkNvbnN0cnVjdG9yID0gUG9wb3ZlclxyXG5cclxuXHJcbiAgLy8gUE9QT1ZFUiBOTyBDT05GTElDVFxyXG4gIC8vID09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgJC5mbi5wb3BvdmVyLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAkLmZuLnBvcG92ZXIgPSBvbGRcclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxufShqUXVlcnkpO1xyXG5cclxuXHJcbi8qXHJcbiAqIGFuZ3VsYXItdWktYm9vdHN0cmFwXHJcbiAqIGh0dHA6Ly9hbmd1bGFyLXVpLmdpdGh1Yi5pby9ib290c3RyYXAvXHJcblxyXG4gKiBWZXJzaW9uOiAwLjEzLjQgLSAyMDE1LTA5LTAzXHJcbiAqIExpY2Vuc2U6IE1JVFxyXG4gKi9cclxuYW5ndWxhci5tb2R1bGUoXCJ1aS5ib290c3RyYXBcIiwgW1widWkuYm9vdHN0cmFwLnRwbHNcIiwgXCJ1aS5ib290c3RyYXAuY29sbGFwc2VcIixcInVpLmJvb3RzdHJhcC5hY2NvcmRpb25cIixcInVpLmJvb3RzdHJhcC5hbGVydFwiLFwidWkuYm9vdHN0cmFwLmJpbmRIdG1sXCIsXCJ1aS5ib290c3RyYXAuYnV0dG9uc1wiLFwidWkuYm9vdHN0cmFwLmNhcm91c2VsXCIsXCJ1aS5ib290c3RyYXAuZGF0ZXBhcnNlclwiLFwidWkuYm9vdHN0cmFwLnBvc2l0aW9uXCIsXCJ1aS5ib290c3RyYXAuZGF0ZXBpY2tlclwiLFwidWkuYm9vdHN0cmFwLmRyb3Bkb3duXCIsXCJ1aS5ib290c3RyYXAubW9kYWxcIixcInVpLmJvb3RzdHJhcC5wYWdpbmF0aW9uXCIsXCJ1aS5ib290c3RyYXAudG9vbHRpcFwiLFwidWkuYm9vdHN0cmFwLnBvcG92ZXJcIixcInVpLmJvb3RzdHJhcC5wcm9ncmVzc2JhclwiLFwidWkuYm9vdHN0cmFwLnJhdGluZ1wiLFwidWkuYm9vdHN0cmFwLnRhYnNcIixcInVpLmJvb3RzdHJhcC50aW1lcGlja2VyXCIsXCJ1aS5ib290c3RyYXAudHJhbnNpdGlvblwiLFwidWkuYm9vdHN0cmFwLnR5cGVhaGVhZFwiXSk7XHJcbmFuZ3VsYXIubW9kdWxlKFwidWkuYm9vdHN0cmFwLnRwbHNcIiwgW1widGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi1ncm91cC5odG1sXCIsXCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLmh0bWxcIixcInRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWxcIixcInRlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWxcIixcInRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWxcIixcInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sXCIsXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sXCIsXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWxcIixcInRlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbFwiLFwidGVtcGxhdGUvZGF0ZXBpY2tlci95ZWFyLmh0bWxcIixcInRlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWxcIixcInRlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sXCIsXCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWxcIixcInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sXCIsXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC1wb3B1cC5odG1sXCIsXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC11bnNhZmUtcG9wdXAuaHRtbFwiLFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXBvcHVwLmh0bWxcIixcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC10ZW1wbGF0ZS1wb3B1cC5odG1sXCIsXCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItaHRtbC5odG1sXCIsXCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItdGVtcGxhdGUuaHRtbFwiLFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWxcIixcInRlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sXCIsXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sXCIsXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sXCIsXCJ0ZW1wbGF0ZS9yYXRpbmcvcmF0aW5nLmh0bWxcIixcInRlbXBsYXRlL3RhYnMvdGFiLmh0bWxcIixcInRlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWxcIixcInRlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sXCIsXCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWxcIixcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbFwiXSk7XHJcbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuY29sbGFwc2UnLCBbXSlcclxuXHJcbiAgLmRpcmVjdGl2ZSgnY29sbGFwc2UnLCBbJyRhbmltYXRlJywgZnVuY3Rpb24oJGFuaW1hdGUpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgIGZ1bmN0aW9uIGV4cGFuZCgpIHtcclxuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJylcclxuICAgICAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylcclxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxyXG4gICAgICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgJ2luJywge1xyXG4gICAgICAgICAgICB0bzogeyBoZWlnaHQ6IGVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0ICsgJ3B4JyB9XHJcbiAgICAgICAgICB9KS50aGVuKGV4cGFuZERvbmUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZXhwYW5kRG9uZSgpIHtcclxuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKTtcclxuICAgICAgICAgIGVsZW1lbnQuY3NzKHtoZWlnaHQ6ICdhdXRvJ30pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY29sbGFwc2UoKSB7XHJcbiAgICAgICAgICBpZiAoIWVsZW1lbnQuaGFzQ2xhc3MoJ2NvbGxhcHNlJykgJiYgIWVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbGxhcHNlRG9uZSgpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGVsZW1lbnRcclxuICAgICAgICAgICAgLy8gSU1QT1JUQU5UOiBUaGUgaGVpZ2h0IG11c3QgYmUgc2V0IGJlZm9yZSBhZGRpbmcgXCJjb2xsYXBzaW5nXCIgY2xhc3MuXHJcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgdGhlIGJyb3dzZXIgYXR0ZW1wdHMgdG8gYW5pbWF0ZSBmcm9tIGhlaWdodCAwIChpblxyXG4gICAgICAgICAgICAvLyBjb2xsYXBzaW5nIGNsYXNzKSB0byB0aGUgZ2l2ZW4gaGVpZ2h0IGhlcmUuXHJcbiAgICAgICAgICAgIC5jc3Moe2hlaWdodDogZWxlbWVudFswXS5zY3JvbGxIZWlnaHQgKyAncHgnfSlcclxuICAgICAgICAgICAgLy8gaW5pdGlhbGx5IGFsbCBwYW5lbCBjb2xsYXBzZSBoYXZlIHRoZSBjb2xsYXBzZSBjbGFzcywgdGhpcyByZW1vdmFsXHJcbiAgICAgICAgICAgIC8vIHByZXZlbnRzIHRoZSBhbmltYXRpb24gZnJvbSBqdW1waW5nIHRvIGNvbGxhcHNlZCBzdGF0ZVxyXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJylcclxuICAgICAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylcclxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSlcclxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgJ2luJywge1xyXG4gICAgICAgICAgICB0bzoge2hlaWdodDogJzAnfVxyXG4gICAgICAgICAgfSkudGhlbihjb2xsYXBzZURvbmUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY29sbGFwc2VEb25lKCkge1xyXG4gICAgICAgICAgZWxlbWVudC5jc3Moe2hlaWdodDogJzAnfSk7IC8vIFJlcXVpcmVkIHNvIHRoYXQgY29sbGFwc2Ugd29ya3Mgd2hlbiBhbmltYXRpb24gaXMgZGlzYWJsZWRcclxuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKTtcclxuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2NvbGxhcHNlJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzY29wZS4kd2F0Y2goYXR0cnMuY29sbGFwc2UsIGZ1bmN0aW9uKHNob3VsZENvbGxhcHNlKSB7XHJcbiAgICAgICAgICBpZiAoc2hvdWxkQ29sbGFwc2UpIHtcclxuICAgICAgICAgICAgY29sbGFwc2UoKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGV4cGFuZCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1dKTtcclxuXHJcbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuYWNjb3JkaW9uJywgWyd1aS5ib290c3RyYXAuY29sbGFwc2UnXSlcclxuXHJcbi5jb25zdGFudCgnYWNjb3JkaW9uQ29uZmlnJywge1xyXG4gIGNsb3NlT3RoZXJzOiB0cnVlXHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignQWNjb3JkaW9uQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICdhY2NvcmRpb25Db25maWcnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgYWNjb3JkaW9uQ29uZmlnKSB7XHJcbiAgLy8gVGhpcyBhcnJheSBrZWVwcyB0cmFjayBvZiB0aGUgYWNjb3JkaW9uIGdyb3Vwc1xyXG4gIHRoaXMuZ3JvdXBzID0gW107XHJcblxyXG4gIC8vIEVuc3VyZSB0aGF0IGFsbCB0aGUgZ3JvdXBzIGluIHRoaXMgYWNjb3JkaW9uIGFyZSBjbG9zZWQsIHVubGVzcyBjbG9zZS1vdGhlcnMgZXhwbGljaXRseSBzYXlzIG5vdCB0b1xyXG4gIHRoaXMuY2xvc2VPdGhlcnMgPSBmdW5jdGlvbihvcGVuR3JvdXApIHtcclxuICAgIHZhciBjbG9zZU90aGVycyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5jbG9zZU90aGVycykgP1xyXG4gICAgICAkc2NvcGUuJGV2YWwoJGF0dHJzLmNsb3NlT3RoZXJzKSA6IGFjY29yZGlvbkNvbmZpZy5jbG9zZU90aGVycztcclxuICAgIGlmIChjbG9zZU90aGVycykge1xyXG4gICAgICBhbmd1bGFyLmZvckVhY2godGhpcy5ncm91cHMsIGZ1bmN0aW9uKGdyb3VwKSB7XHJcbiAgICAgICAgaWYgKGdyb3VwICE9PSBvcGVuR3JvdXApIHtcclxuICAgICAgICAgIGdyb3VwLmlzT3BlbiA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gVGhpcyBpcyBjYWxsZWQgZnJvbSB0aGUgYWNjb3JkaW9uLWdyb3VwIGRpcmVjdGl2ZSB0byBhZGQgaXRzZWxmIHRvIHRoZSBhY2NvcmRpb25cclxuICB0aGlzLmFkZEdyb3VwID0gZnVuY3Rpb24oZ3JvdXBTY29wZSkge1xyXG4gICAgdmFyIHRoYXQgPSB0aGlzO1xyXG4gICAgdGhpcy5ncm91cHMucHVzaChncm91cFNjb3BlKTtcclxuXHJcbiAgICBncm91cFNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICB0aGF0LnJlbW92ZUdyb3VwKGdyb3VwU2NvcGUpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLy8gVGhpcyBpcyBjYWxsZWQgZnJvbSB0aGUgYWNjb3JkaW9uLWdyb3VwIGRpcmVjdGl2ZSB3aGVuIHRvIHJlbW92ZSBpdHNlbGZcclxuICB0aGlzLnJlbW92ZUdyb3VwID0gZnVuY3Rpb24oZ3JvdXApIHtcclxuICAgIHZhciBpbmRleCA9IHRoaXMuZ3JvdXBzLmluZGV4T2YoZ3JvdXApO1xyXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICB0aGlzLmdyb3Vwcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG59XSlcclxuXHJcbi8vIFRoZSBhY2NvcmRpb24gZGlyZWN0aXZlIHNpbXBseSBzZXRzIHVwIHRoZSBkaXJlY3RpdmUgY29udHJvbGxlclxyXG4vLyBhbmQgYWRkcyBhbiBhY2NvcmRpb24gQ1NTIGNsYXNzIHRvIGl0c2VsZiBlbGVtZW50LlxyXG4uZGlyZWN0aXZlKCdhY2NvcmRpb24nLCBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdFQScsXHJcbiAgICBjb250cm9sbGVyOiAnQWNjb3JkaW9uQ29udHJvbGxlcicsXHJcbiAgICBjb250cm9sbGVyQXM6ICdhY2NvcmRpb24nLFxyXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcclxuICAgIHJlcGxhY2U6IGZhbHNlLFxyXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sJztcclxuICAgIH1cclxuICB9O1xyXG59KVxyXG5cclxuLy8gVGhlIGFjY29yZGlvbi1ncm91cCBkaXJlY3RpdmUgaW5kaWNhdGVzIGEgYmxvY2sgb2YgaHRtbCB0aGF0IHdpbGwgZXhwYW5kIGFuZCBjb2xsYXBzZSBpbiBhbiBhY2NvcmRpb25cclxuLmRpcmVjdGl2ZSgnYWNjb3JkaW9uR3JvdXAnLCBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVxdWlyZTogJ15hY2NvcmRpb24nLCAgICAgICAgIC8vIFdlIG5lZWQgdGhpcyBkaXJlY3RpdmUgdG8gYmUgaW5zaWRlIGFuIGFjY29yZGlvblxyXG4gICAgcmVzdHJpY3Q6ICdFQScsXHJcbiAgICB0cmFuc2NsdWRlOiB0cnVlLCAgICAgICAgICAgICAgLy8gSXQgdHJhbnNjbHVkZXMgdGhlIGNvbnRlbnRzIG9mIHRoZSBkaXJlY3RpdmUgaW50byB0aGUgdGVtcGxhdGVcclxuICAgIHJlcGxhY2U6IHRydWUsICAgICAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIGRpcmVjdGl2ZSB3aWxsIGJlIHJlcGxhY2VkIHdpdGggdGhlIHRlbXBsYXRlXHJcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWwnO1xyXG4gICAgfSxcclxuICAgIHNjb3BlOiB7XHJcbiAgICAgIGhlYWRpbmc6ICdAJywgICAgICAgICAgICAgICAvLyBJbnRlcnBvbGF0ZSB0aGUgaGVhZGluZyBhdHRyaWJ1dGUgb250byB0aGlzIHNjb3BlXHJcbiAgICAgIGlzT3BlbjogJz0/JyxcclxuICAgICAgaXNEaXNhYmxlZDogJz0/J1xyXG4gICAgfSxcclxuICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB0aGlzLnNldEhlYWRpbmcgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5oZWFkaW5nID0gZWxlbWVudDtcclxuICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGFjY29yZGlvbkN0cmwpIHtcclxuICAgICAgYWNjb3JkaW9uQ3RybC5hZGRHcm91cChzY29wZSk7XHJcblxyXG4gICAgICBzY29wZS5vcGVuQ2xhc3MgPSBhdHRycy5vcGVuQ2xhc3MgfHwgJ3BhbmVsLW9wZW4nO1xyXG4gICAgICBzY29wZS5wYW5lbENsYXNzID0gYXR0cnMucGFuZWxDbGFzcztcclxuICAgICAgc2NvcGUuJHdhdGNoKCdpc09wZW4nLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIGVsZW1lbnQudG9nZ2xlQ2xhc3Moc2NvcGUub3BlbkNsYXNzLCB2YWx1ZSk7XHJcbiAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICBhY2NvcmRpb25DdHJsLmNsb3NlT3RoZXJzKHNjb3BlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgc2NvcGUudG9nZ2xlT3BlbiA9IGZ1bmN0aW9uKCRldmVudCkge1xyXG4gICAgICAgIGlmICghc2NvcGUuaXNEaXNhYmxlZCkge1xyXG4gICAgICAgICAgaWYgKCEkZXZlbnQgfHwgJGV2ZW50LndoaWNoID09PSAzMikge1xyXG4gICAgICAgICAgICBzY29wZS5pc09wZW4gPSAhc2NvcGUuaXNPcGVuO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH1cclxuICB9O1xyXG59KVxyXG5cclxuLy8gVXNlIGFjY29yZGlvbi1oZWFkaW5nIGJlbG93IGFuIGFjY29yZGlvbi1ncm91cCB0byBwcm92aWRlIGEgaGVhZGluZyBjb250YWluaW5nIEhUTUxcclxuLy8gPGFjY29yZGlvbi1ncm91cD5cclxuLy8gICA8YWNjb3JkaW9uLWhlYWRpbmc+SGVhZGluZyBjb250YWluaW5nIEhUTUwgLSA8aW1nIHNyYz1cIi4uLlwiPjwvYWNjb3JkaW9uLWhlYWRpbmc+XHJcbi8vIDwvYWNjb3JkaW9uLWdyb3VwPlxyXG4uZGlyZWN0aXZlKCdhY2NvcmRpb25IZWFkaW5nJywgZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSwgICAvLyBHcmFiIHRoZSBjb250ZW50cyB0byBiZSB1c2VkIGFzIHRoZSBoZWFkaW5nXHJcbiAgICB0ZW1wbGF0ZTogJycsICAgICAgIC8vIEluIGVmZmVjdCByZW1vdmUgdGhpcyBlbGVtZW50IVxyXG4gICAgcmVwbGFjZTogdHJ1ZSxcclxuICAgIHJlcXVpcmU6ICdeYWNjb3JkaW9uR3JvdXAnLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGFjY29yZGlvbkdyb3VwQ3RybCwgdHJhbnNjbHVkZSkge1xyXG4gICAgICAvLyBQYXNzIHRoZSBoZWFkaW5nIHRvIHRoZSBhY2NvcmRpb24tZ3JvdXAgY29udHJvbGxlclxyXG4gICAgICAvLyBzbyB0aGF0IGl0IGNhbiBiZSB0cmFuc2NsdWRlZCBpbnRvIHRoZSByaWdodCBwbGFjZSBpbiB0aGUgdGVtcGxhdGVcclxuICAgICAgLy8gW1RoZSBzZWNvbmQgcGFyYW1ldGVyIHRvIHRyYW5zY2x1ZGUgY2F1c2VzIHRoZSBlbGVtZW50cyB0byBiZSBjbG9uZWQgc28gdGhhdCB0aGV5IHdvcmsgaW4gbmctcmVwZWF0XVxyXG4gICAgICBhY2NvcmRpb25Hcm91cEN0cmwuc2V0SGVhZGluZyh0cmFuc2NsdWRlKHNjb3BlLCBhbmd1bGFyLm5vb3ApKTtcclxuICAgIH1cclxuICB9O1xyXG59KVxyXG5cclxuLy8gVXNlIGluIHRoZSBhY2NvcmRpb24tZ3JvdXAgdGVtcGxhdGUgdG8gaW5kaWNhdGUgd2hlcmUgeW91IHdhbnQgdGhlIGhlYWRpbmcgdG8gYmUgdHJhbnNjbHVkZWRcclxuLy8gWW91IG11c3QgcHJvdmlkZSB0aGUgcHJvcGVydHkgb24gdGhlIGFjY29yZGlvbi1ncm91cCBjb250cm9sbGVyIHRoYXQgd2lsbCBob2xkIHRoZSB0cmFuc2NsdWRlZCBlbGVtZW50XHJcbi8vIDxkaXYgY2xhc3M9XCJhY2NvcmRpb24tZ3JvdXBcIj5cclxuLy8gICA8ZGl2IGNsYXNzPVwiYWNjb3JkaW9uLWhlYWRpbmdcIiA+PGEgLi4uIGFjY29yZGlvbi10cmFuc2NsdWRlPVwiaGVhZGluZ1wiPi4uLjwvYT48L2Rpdj5cclxuLy8gICAuLi5cclxuLy8gPC9kaXY+XHJcbi5kaXJlY3RpdmUoJ2FjY29yZGlvblRyYW5zY2x1ZGUnLCBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVxdWlyZTogJ15hY2NvcmRpb25Hcm91cCcsXHJcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgY29udHJvbGxlcikge1xyXG4gICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7IHJldHVybiBjb250cm9sbGVyW2F0dHIuYWNjb3JkaW9uVHJhbnNjbHVkZV07IH0sIGZ1bmN0aW9uKGhlYWRpbmcpIHtcclxuICAgICAgICBpZiAoaGVhZGluZykge1xyXG4gICAgICAgICAgZWxlbWVudC5maW5kKCdzcGFuJykuaHRtbCgnJyk7XHJcbiAgICAgICAgICBlbGVtZW50LmZpbmQoJ3NwYW4nKS5hcHBlbmQoaGVhZGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59KVxyXG5cclxuO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5hbGVydCcsIFtdKVxyXG5cclxuLmNvbnRyb2xsZXIoJ0FsZXJ0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzKSB7XHJcbiAgJHNjb3BlLmNsb3NlYWJsZSA9ICEhJGF0dHJzLmNsb3NlO1xyXG4gIHRoaXMuY2xvc2UgPSAkc2NvcGUuY2xvc2U7XHJcbn1dKVxyXG5cclxuLmRpcmVjdGl2ZSgnYWxlcnQnLCBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgY29udHJvbGxlcjogJ0FsZXJ0Q29udHJvbGxlcicsXHJcbiAgICBjb250cm9sbGVyQXM6ICdhbGVydCcsXHJcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sJztcclxuICAgIH0sXHJcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxyXG4gICAgcmVwbGFjZTogdHJ1ZSxcclxuICAgIHNjb3BlOiB7XHJcbiAgICAgIHR5cGU6ICdAJyxcclxuICAgICAgY2xvc2U6ICcmJ1xyXG4gICAgfVxyXG4gIH07XHJcbn0pXHJcblxyXG4uZGlyZWN0aXZlKCdkaXNtaXNzT25UaW1lb3V0JywgWyckdGltZW91dCcsIGZ1bmN0aW9uKCR0aW1lb3V0KSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlcXVpcmU6ICdhbGVydCcsXHJcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGFsZXJ0Q3RybCkge1xyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICBhbGVydEN0cmwuY2xvc2UoKTtcclxuICAgICAgfSwgcGFyc2VJbnQoYXR0cnMuZGlzbWlzc09uVGltZW91dCwgMTApKTtcclxuICAgIH1cclxuICB9O1xyXG59XSk7XHJcblxyXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmJpbmRIdG1sJywgW10pXHJcblxyXG4gIC52YWx1ZSgnJGJpbmRIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkJywgZmFsc2UpXHJcblxyXG4gIC5kaXJlY3RpdmUoJ2JpbmRIdG1sVW5zYWZlJywgWyckbG9nJywgJyRiaW5kSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCcsIGZ1bmN0aW9uICgkbG9nLCAkYmluZEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgaWYgKCEkYmluZEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQpIHtcclxuICAgICAgICAkbG9nLndhcm4oJ2JpbmRIdG1sVW5zYWZlIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgbmdCaW5kSHRtbCBpbnN0ZWFkJyk7XHJcbiAgICAgIH1cclxuICAgICAgZWxlbWVudC5hZGRDbGFzcygnbmctYmluZGluZycpLmRhdGEoJyRiaW5kaW5nJywgYXR0ci5iaW5kSHRtbFVuc2FmZSk7XHJcbiAgICAgIHNjb3BlLiR3YXRjaChhdHRyLmJpbmRIdG1sVW5zYWZlLCBmdW5jdGlvbiBiaW5kSHRtbFVuc2FmZVdhdGNoQWN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgZWxlbWVudC5odG1sKHZhbHVlIHx8ICcnKTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG4gIH1dKTtcclxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5idXR0b25zJywgW10pXHJcblxyXG4uY29uc3RhbnQoJ2J1dHRvbkNvbmZpZycsIHtcclxuICBhY3RpdmVDbGFzczogJ2FjdGl2ZScsXHJcbiAgdG9nZ2xlRXZlbnQ6ICdjbGljaydcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdCdXR0b25zQ29udHJvbGxlcicsIFsnYnV0dG9uQ29uZmlnJywgZnVuY3Rpb24oYnV0dG9uQ29uZmlnKSB7XHJcbiAgdGhpcy5hY3RpdmVDbGFzcyA9IGJ1dHRvbkNvbmZpZy5hY3RpdmVDbGFzcyB8fCAnYWN0aXZlJztcclxuICB0aGlzLnRvZ2dsZUV2ZW50ID0gYnV0dG9uQ29uZmlnLnRvZ2dsZUV2ZW50IHx8ICdjbGljayc7XHJcbn1dKVxyXG5cclxuLmRpcmVjdGl2ZSgnYnRuUmFkaW8nLCBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVxdWlyZTogWydidG5SYWRpbycsICduZ01vZGVsJ10sXHJcbiAgICBjb250cm9sbGVyOiAnQnV0dG9uc0NvbnRyb2xsZXInLFxyXG4gICAgY29udHJvbGxlckFzOiAnYnV0dG9ucycsXHJcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XHJcbiAgICAgIHZhciBidXR0b25zQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xyXG5cclxuICAgICAgZWxlbWVudC5maW5kKCdpbnB1dCcpLmNzcyh7ZGlzcGxheTogJ25vbmUnfSk7XHJcblxyXG4gICAgICAvL21vZGVsIC0+IFVJXHJcbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBlbGVtZW50LnRvZ2dsZUNsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzLCBhbmd1bGFyLmVxdWFscyhuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSwgc2NvcGUuJGV2YWwoYXR0cnMuYnRuUmFkaW8pKSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvL3VpLT5tb2RlbFxyXG4gICAgICBlbGVtZW50LmJpbmQoYnV0dG9uc0N0cmwudG9nZ2xlRXZlbnQsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmIChhdHRycy5kaXNhYmxlZCkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGlzQWN0aXZlID0gZWxlbWVudC5oYXNDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcyk7XHJcblxyXG4gICAgICAgIGlmICghaXNBY3RpdmUgfHwgYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudW5jaGVja2FibGUpKSB7XHJcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoaXNBY3RpdmUgPyBudWxsIDogc2NvcGUuJGV2YWwoYXR0cnMuYnRuUmFkaW8pKTtcclxuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59KVxyXG5cclxuLmRpcmVjdGl2ZSgnYnRuQ2hlY2tib3gnLCBbJyRkb2N1bWVudCcsIGZ1bmN0aW9uKCRkb2N1bWVudCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXF1aXJlOiBbJ2J0bkNoZWNrYm94JywgJ25nTW9kZWwnXSxcclxuICAgIGNvbnRyb2xsZXI6ICdCdXR0b25zQ29udHJvbGxlcicsXHJcbiAgICBjb250cm9sbGVyQXM6ICdidXR0b24nLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xyXG4gICAgICB2YXIgYnV0dG9uc0N0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcclxuXHJcbiAgICAgIGVsZW1lbnQuZmluZCgnaW5wdXQnKS5jc3Moe2Rpc3BsYXk6ICdub25lJ30pO1xyXG5cclxuICAgICAgZnVuY3Rpb24gZ2V0VHJ1ZVZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiBnZXRDaGVja2JveFZhbHVlKGF0dHJzLmJ0bkNoZWNrYm94VHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGdldEZhbHNlVmFsdWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIGdldENoZWNrYm94VmFsdWUoYXR0cnMuYnRuQ2hlY2tib3hGYWxzZSwgZmFsc2UpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBnZXRDaGVja2JveFZhbHVlKGF0dHJpYnV0ZVZhbHVlLCBkZWZhdWx0VmFsdWUpIHtcclxuICAgICAgICB2YXIgdmFsID0gc2NvcGUuJGV2YWwoYXR0cmlidXRlVmFsdWUpO1xyXG4gICAgICAgIHJldHVybiBhbmd1bGFyLmlzRGVmaW5lZCh2YWwpID8gdmFsIDogZGVmYXVsdFZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvL21vZGVsIC0+IFVJXHJcbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBlbGVtZW50LnRvZ2dsZUNsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzLCBhbmd1bGFyLmVxdWFscyhuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSwgZ2V0VHJ1ZVZhbHVlKCkpKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vdWktPm1vZGVsXHJcbiAgICAgIGVsZW1lbnQuYmluZChidXR0b25zQ3RybC50b2dnbGVFdmVudCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKGF0dHJzLmRpc2FibGVkKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKGVsZW1lbnQuaGFzQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MpID8gZ2V0RmFsc2VWYWx1ZSgpIDogZ2V0VHJ1ZVZhbHVlKCkpO1xyXG4gICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vYWNjZXNzaWJpbGl0eVxyXG4gICAgICBlbGVtZW50Lm9uKCdrZXlwcmVzcycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZiAoYXR0cnMuZGlzYWJsZWQgfHwgZS53aGljaCAhPT0gMzIgfHwgJGRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQgIT09IGVsZW1lbnRbMF0pIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcclxuICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoZWxlbWVudC5oYXNDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcykgPyBnZXRGYWxzZVZhbHVlKCkgOiBnZXRUcnVlVmFsdWUoKSk7XHJcbiAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcbn1dKTtcclxuXHJcbi8qKlxyXG4qIEBuZ2RvYyBvdmVydmlld1xyXG4qIEBuYW1lIHVpLmJvb3RzdHJhcC5jYXJvdXNlbFxyXG4qXHJcbiogQGRlc2NyaXB0aW9uXHJcbiogQW5ndWxhckpTIHZlcnNpb24gb2YgYW4gaW1hZ2UgY2Fyb3VzZWwuXHJcbipcclxuKi9cclxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5jYXJvdXNlbCcsIFtdKVxyXG4uY29udHJvbGxlcignQ2Fyb3VzZWxDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGVsZW1lbnQnLCAnJGludGVydmFsJywgJyRhbmltYXRlJywgZnVuY3Rpb24gKCRzY29wZSwgJGVsZW1lbnQsICRpbnRlcnZhbCwgJGFuaW1hdGUpIHtcclxuICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICBzbGlkZXMgPSBzZWxmLnNsaWRlcyA9ICRzY29wZS5zbGlkZXMgPSBbXSxcclxuICAgIE5FV19BTklNQVRFID0gYW5ndWxhci52ZXJzaW9uLm1pbm9yID49IDQsXHJcbiAgICBOT19UUkFOU0lUSU9OID0gJ3VpYi1ub1RyYW5zaXRpb24nLFxyXG4gICAgU0xJREVfRElSRUNUSU9OID0gJ3VpYi1zbGlkZURpcmVjdGlvbicsXHJcbiAgICBjdXJyZW50SW5kZXggPSAtMSxcclxuICAgIGN1cnJlbnRJbnRlcnZhbCwgaXNQbGF5aW5nO1xyXG4gIHNlbGYuY3VycmVudFNsaWRlID0gbnVsbDtcclxuXHJcbiAgdmFyIGRlc3Ryb3llZCA9IGZhbHNlO1xyXG4gIC8qIGRpcmVjdGlvbjogXCJwcmV2XCIgb3IgXCJuZXh0XCIgKi9cclxuICBzZWxmLnNlbGVjdCA9ICRzY29wZS5zZWxlY3QgPSBmdW5jdGlvbihuZXh0U2xpZGUsIGRpcmVjdGlvbikge1xyXG4gICAgdmFyIG5leHRJbmRleCA9ICRzY29wZS5pbmRleE9mU2xpZGUobmV4dFNsaWRlKTtcclxuICAgIC8vRGVjaWRlIGRpcmVjdGlvbiBpZiBpdCdzIG5vdCBnaXZlblxyXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGRpcmVjdGlvbiA9IG5leHRJbmRleCA+IHNlbGYuZ2V0Q3VycmVudEluZGV4KCkgPyAnbmV4dCcgOiAncHJldic7XHJcbiAgICB9XHJcbiAgICAvL1ByZXZlbnQgdGhpcyB1c2VyLXRyaWdnZXJlZCB0cmFuc2l0aW9uIGZyb20gb2NjdXJyaW5nIGlmIHRoZXJlIGlzIGFscmVhZHkgb25lIGluIHByb2dyZXNzXHJcbiAgICBpZiAobmV4dFNsaWRlICYmIG5leHRTbGlkZSAhPT0gc2VsZi5jdXJyZW50U2xpZGUgJiYgISRzY29wZS4kY3VycmVudFRyYW5zaXRpb24pIHtcclxuICAgICAgZ29OZXh0KG5leHRTbGlkZSwgbmV4dEluZGV4LCBkaXJlY3Rpb24pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGZ1bmN0aW9uIGdvTmV4dChzbGlkZSwgaW5kZXgsIGRpcmVjdGlvbikge1xyXG4gICAgLy8gU2NvcGUgaGFzIGJlZW4gZGVzdHJveWVkLCBzdG9wIGhlcmUuXHJcbiAgICBpZiAoZGVzdHJveWVkKSB7IHJldHVybjsgfVxyXG5cclxuICAgIGFuZ3VsYXIuZXh0ZW5kKHNsaWRlLCB7ZGlyZWN0aW9uOiBkaXJlY3Rpb24sIGFjdGl2ZTogdHJ1ZX0pO1xyXG4gICAgYW5ndWxhci5leHRlbmQoc2VsZi5jdXJyZW50U2xpZGUgfHwge30sIHtkaXJlY3Rpb246IGRpcmVjdGlvbiwgYWN0aXZlOiBmYWxzZX0pO1xyXG4gICAgaWYgKCRhbmltYXRlLmVuYWJsZWQoKSAmJiAhJHNjb3BlLm5vVHJhbnNpdGlvbiAmJiAhJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbiAmJlxyXG4gICAgICBzbGlkZS4kZWxlbWVudCAmJiBzZWxmLnNsaWRlcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgIHNsaWRlLiRlbGVtZW50LmRhdGEoU0xJREVfRElSRUNUSU9OLCBzbGlkZS5kaXJlY3Rpb24pO1xyXG4gICAgICBpZiAoc2VsZi5jdXJyZW50U2xpZGUgJiYgc2VsZi5jdXJyZW50U2xpZGUuJGVsZW1lbnQpIHtcclxuICAgICAgICBzZWxmLmN1cnJlbnRTbGlkZS4kZWxlbWVudC5kYXRhKFNMSURFX0RJUkVDVElPTiwgc2xpZGUuZGlyZWN0aW9uKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbiA9IHRydWU7XHJcbiAgICAgIGlmIChORVdfQU5JTUFURSkge1xyXG4gICAgICAgICRhbmltYXRlLm9uKCdhZGRDbGFzcycsIHNsaWRlLiRlbGVtZW50LCBmdW5jdGlvbiAoZWxlbWVudCwgcGhhc2UpIHtcclxuICAgICAgICAgIGlmIChwaGFzZSA9PT0gJ2Nsb3NlJykge1xyXG4gICAgICAgICAgICAkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uID0gbnVsbDtcclxuICAgICAgICAgICAgJGFuaW1hdGUub2ZmKCdhZGRDbGFzcycsIGVsZW1lbnQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNsaWRlLiRlbGVtZW50Lm9uZSgnJGFuaW1hdGU6Y2xvc2UnLCBmdW5jdGlvbiBjbG9zZUZuKCkge1xyXG4gICAgICAgICAgJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbiA9IG51bGw7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZWxmLmN1cnJlbnRTbGlkZSA9IHNsaWRlO1xyXG4gICAgY3VycmVudEluZGV4ID0gaW5kZXg7XHJcblxyXG4gICAgLy9ldmVyeSB0aW1lIHlvdSBjaGFuZ2Ugc2xpZGVzLCByZXNldCB0aGUgdGltZXJcclxuICAgIHJlc3RhcnRUaW1lcigpO1xyXG4gIH1cclxuXHJcbiAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBkZXN0cm95ZWQgPSB0cnVlO1xyXG4gIH0pO1xyXG5cclxuICBmdW5jdGlvbiBnZXRTbGlkZUJ5SW5kZXgoaW5kZXgpIHtcclxuICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKHNsaWRlc1tpbmRleF0uaW5kZXgpKSB7XHJcbiAgICAgIHJldHVybiBzbGlkZXNbaW5kZXhdO1xyXG4gICAgfVxyXG4gICAgdmFyIGksIGxlbiA9IHNsaWRlcy5sZW5ndGg7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgIGlmIChzbGlkZXNbaV0uaW5kZXggPT0gaW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gc2xpZGVzW2ldO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZWxmLmdldEN1cnJlbnRJbmRleCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKHNlbGYuY3VycmVudFNsaWRlICYmIGFuZ3VsYXIuaXNEZWZpbmVkKHNlbGYuY3VycmVudFNsaWRlLmluZGV4KSkge1xyXG4gICAgICByZXR1cm4gK3NlbGYuY3VycmVudFNsaWRlLmluZGV4O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGN1cnJlbnRJbmRleDtcclxuICB9O1xyXG5cclxuICAvKiBBbGxvdyBvdXRzaWRlIHBlb3BsZSB0byBjYWxsIGluZGV4T2Ygb24gc2xpZGVzIGFycmF5ICovXHJcbiAgJHNjb3BlLmluZGV4T2ZTbGlkZSA9IGZ1bmN0aW9uKHNsaWRlKSB7XHJcbiAgICByZXR1cm4gYW5ndWxhci5pc0RlZmluZWQoc2xpZGUuaW5kZXgpID8gK3NsaWRlLmluZGV4IDogc2xpZGVzLmluZGV4T2Yoc2xpZGUpO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5uZXh0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbmV3SW5kZXggPSAoc2VsZi5nZXRDdXJyZW50SW5kZXgoKSArIDEpICUgc2xpZGVzLmxlbmd0aDtcclxuXHJcbiAgICBpZiAobmV3SW5kZXggPT09IDAgJiYgJHNjb3BlLm5vV3JhcCgpKSB7XHJcbiAgICAgICRzY29wZS5wYXVzZSgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHNlbGYuc2VsZWN0KGdldFNsaWRlQnlJbmRleChuZXdJbmRleCksICduZXh0Jyk7XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLnByZXYgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBuZXdJbmRleCA9IHNlbGYuZ2V0Q3VycmVudEluZGV4KCkgLSAxIDwgMCA/IHNsaWRlcy5sZW5ndGggLSAxIDogc2VsZi5nZXRDdXJyZW50SW5kZXgoKSAtIDE7XHJcblxyXG4gICAgaWYgKCRzY29wZS5ub1dyYXAoKSAmJiBuZXdJbmRleCA9PT0gc2xpZGVzLmxlbmd0aCAtIDEpe1xyXG4gICAgICAkc2NvcGUucGF1c2UoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzZWxmLnNlbGVjdChnZXRTbGlkZUJ5SW5kZXgobmV3SW5kZXgpLCAncHJldicpO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKHNsaWRlKSB7XHJcbiAgICAgcmV0dXJuIHNlbGYuY3VycmVudFNsaWRlID09PSBzbGlkZTtcclxuICB9O1xyXG5cclxuICAkc2NvcGUuJHdhdGNoKCdpbnRlcnZhbCcsIHJlc3RhcnRUaW1lcik7XHJcbiAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCByZXNldFRpbWVyKTtcclxuXHJcbiAgZnVuY3Rpb24gcmVzdGFydFRpbWVyKCkge1xyXG4gICAgcmVzZXRUaW1lcigpO1xyXG4gICAgdmFyIGludGVydmFsID0gKyRzY29wZS5pbnRlcnZhbDtcclxuICAgIGlmICghaXNOYU4oaW50ZXJ2YWwpICYmIGludGVydmFsID4gMCkge1xyXG4gICAgICBjdXJyZW50SW50ZXJ2YWwgPSAkaW50ZXJ2YWwodGltZXJGbiwgaW50ZXJ2YWwpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVzZXRUaW1lcigpIHtcclxuICAgIGlmIChjdXJyZW50SW50ZXJ2YWwpIHtcclxuICAgICAgJGludGVydmFsLmNhbmNlbChjdXJyZW50SW50ZXJ2YWwpO1xyXG4gICAgICBjdXJyZW50SW50ZXJ2YWwgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gdGltZXJGbigpIHtcclxuICAgIHZhciBpbnRlcnZhbCA9ICskc2NvcGUuaW50ZXJ2YWw7XHJcbiAgICBpZiAoaXNQbGF5aW5nICYmICFpc05hTihpbnRlcnZhbCkgJiYgaW50ZXJ2YWwgPiAwICYmIHNsaWRlcy5sZW5ndGgpIHtcclxuICAgICAgJHNjb3BlLm5leHQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICRzY29wZS5wYXVzZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgJHNjb3BlLnBsYXkgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICghaXNQbGF5aW5nKSB7XHJcbiAgICAgIGlzUGxheWluZyA9IHRydWU7XHJcbiAgICAgIHJlc3RhcnRUaW1lcigpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgJHNjb3BlLnBhdXNlID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoISRzY29wZS5ub1BhdXNlKSB7XHJcbiAgICAgIGlzUGxheWluZyA9IGZhbHNlO1xyXG4gICAgICByZXNldFRpbWVyKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgc2VsZi5hZGRTbGlkZSA9IGZ1bmN0aW9uKHNsaWRlLCBlbGVtZW50KSB7XHJcbiAgICBzbGlkZS4kZWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICBzbGlkZXMucHVzaChzbGlkZSk7XHJcbiAgICAvL2lmIHRoaXMgaXMgdGhlIGZpcnN0IHNsaWRlIG9yIHRoZSBzbGlkZSBpcyBzZXQgdG8gYWN0aXZlLCBzZWxlY3QgaXRcclxuICAgIGlmKHNsaWRlcy5sZW5ndGggPT09IDEgfHwgc2xpZGUuYWN0aXZlKSB7XHJcbiAgICAgIHNlbGYuc2VsZWN0KHNsaWRlc1tzbGlkZXMubGVuZ3RoLTFdKTtcclxuICAgICAgaWYgKHNsaWRlcy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICRzY29wZS5wbGF5KCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNsaWRlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHNlbGYucmVtb3ZlU2xpZGUgPSBmdW5jdGlvbihzbGlkZSkge1xyXG4gICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHNsaWRlLmluZGV4KSkge1xyXG4gICAgICBzbGlkZXMuc29ydChmdW5jdGlvbihhLCBiKSB7XHJcbiAgICAgICAgcmV0dXJuICthLmluZGV4ID4gK2IuaW5kZXg7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy9nZXQgdGhlIGluZGV4IG9mIHRoZSBzbGlkZSBpbnNpZGUgdGhlIGNhcm91c2VsXHJcbiAgICB2YXIgaW5kZXggPSBzbGlkZXMuaW5kZXhPZihzbGlkZSk7XHJcbiAgICBzbGlkZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIGlmIChzbGlkZXMubGVuZ3RoID4gMCAmJiBzbGlkZS5hY3RpdmUpIHtcclxuICAgICAgaWYgKGluZGV4ID49IHNsaWRlcy5sZW5ndGgpIHtcclxuICAgICAgICBzZWxmLnNlbGVjdChzbGlkZXNbaW5kZXgtMV0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNlbGYuc2VsZWN0KHNsaWRlc1tpbmRleF0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRJbmRleCA+IGluZGV4KSB7XHJcbiAgICAgIGN1cnJlbnRJbmRleC0tO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvL2NsZWFuIHRoZSBjdXJyZW50U2xpZGUgd2hlbiBubyBtb3JlIHNsaWRlXHJcbiAgICBpZiAoc2xpZGVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBzZWxmLmN1cnJlbnRTbGlkZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLiR3YXRjaCgnbm9UcmFuc2l0aW9uJywgZnVuY3Rpb24obm9UcmFuc2l0aW9uKSB7XHJcbiAgICAkZWxlbWVudC5kYXRhKE5PX1RSQU5TSVRJT04sIG5vVHJhbnNpdGlvbik7XHJcbiAgfSk7XHJcblxyXG59XSlcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC5jYXJvdXNlbC5kaXJlY3RpdmU6Y2Fyb3VzZWxcclxuICogQHJlc3RyaWN0IEVBXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBDYXJvdXNlbCBpcyB0aGUgb3V0ZXIgY29udGFpbmVyIGZvciBhIHNldCBvZiBpbWFnZSAnc2xpZGVzJyB0byBzaG93Y2FzZS5cclxuICpcclxuICogQHBhcmFtIHtudW1iZXI9fSBpbnRlcnZhbCBUaGUgdGltZSwgaW4gbWlsbGlzZWNvbmRzLCB0aGF0IGl0IHdpbGwgdGFrZSB0aGUgY2Fyb3VzZWwgdG8gZ28gdG8gdGhlIG5leHQgc2xpZGUuXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5vVHJhbnNpdGlvbiBXaGV0aGVyIHRvIGRpc2FibGUgdHJhbnNpdGlvbnMgb24gdGhlIGNhcm91c2VsLlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBub1BhdXNlIFdoZXRoZXIgdG8gZGlzYWJsZSBwYXVzaW5nIG9uIHRoZSBjYXJvdXNlbCAoYnkgZGVmYXVsdCwgdGhlIGNhcm91c2VsIGludGVydmFsIHBhdXNlcyBvbiBob3ZlcikuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbjxleGFtcGxlIG1vZHVsZT1cInVpLmJvb3RzdHJhcFwiPlxyXG4gIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICA8Y2Fyb3VzZWw+XHJcbiAgICAgIDxzbGlkZT5cclxuICAgICAgICA8aW1nIHNyYz1cImh0dHA6Ly9wbGFjZWtpdHRlbi5jb20vMTUwLzE1MFwiIHN0eWxlPVwibWFyZ2luOmF1dG87XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNhcm91c2VsLWNhcHRpb25cIj5cclxuICAgICAgICAgIDxwPkJlYXV0aWZ1bCE8L3A+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvc2xpZGU+XHJcbiAgICAgIDxzbGlkZT5cclxuICAgICAgICA8aW1nIHNyYz1cImh0dHA6Ly9wbGFjZWtpdHRlbi5jb20vMTAwLzE1MFwiIHN0eWxlPVwibWFyZ2luOmF1dG87XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNhcm91c2VsLWNhcHRpb25cIj5cclxuICAgICAgICAgIDxwPkQnYXd3ITwvcD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9zbGlkZT5cclxuICAgIDwvY2Fyb3VzZWw+XHJcbiAgPC9maWxlPlxyXG4gIDxmaWxlIG5hbWU9XCJkZW1vLmNzc1wiPlxyXG4gICAgLmNhcm91c2VsLWluZGljYXRvcnMge1xyXG4gICAgICB0b3A6IGF1dG87XHJcbiAgICAgIGJvdHRvbTogMTVweDtcclxuICAgIH1cclxuICA8L2ZpbGU+XHJcbjwvZXhhbXBsZT5cclxuICovXHJcbi5kaXJlY3RpdmUoJ2Nhcm91c2VsJywgW2Z1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0VBJyxcclxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXHJcbiAgICByZXBsYWNlOiB0cnVlLFxyXG4gICAgY29udHJvbGxlcjogJ0Nhcm91c2VsQ29udHJvbGxlcicsXHJcbiAgICBjb250cm9sbGVyQXM6ICdjYXJvdXNlbCcsXHJcbiAgICByZXF1aXJlOiAnY2Fyb3VzZWwnLFxyXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbCc7XHJcbiAgICB9LFxyXG4gICAgc2NvcGU6IHtcclxuICAgICAgaW50ZXJ2YWw6ICc9JyxcclxuICAgICAgbm9UcmFuc2l0aW9uOiAnPScsXHJcbiAgICAgIG5vUGF1c2U6ICc9JyxcclxuICAgICAgbm9XcmFwOiAnJidcclxuICAgIH1cclxuICB9O1xyXG59XSlcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC5jYXJvdXNlbC5kaXJlY3RpdmU6c2xpZGVcclxuICogQHJlc3RyaWN0IEVBXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBDcmVhdGVzIGEgc2xpZGUgaW5zaWRlIGEge0BsaW5rIHVpLmJvb3RzdHJhcC5jYXJvdXNlbC5kaXJlY3RpdmU6Y2Fyb3VzZWwgY2Fyb3VzZWx9LiAgTXVzdCBiZSBwbGFjZWQgYXMgYSBjaGlsZCBvZiBhIGNhcm91c2VsIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGFjdGl2ZSBNb2RlbCBiaW5kaW5nLCB3aGV0aGVyIG9yIG5vdCB0aGlzIHNsaWRlIGlzIGN1cnJlbnRseSBhY3RpdmUuXHJcbiAqIEBwYXJhbSB7bnVtYmVyPX0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBzbGlkZS4gVGhlIHNsaWRlcyB3aWxsIGJlIHNvcnRlZCBieSB0aGlzIHBhcmFtZXRlci5cclxuICpcclxuICogQGV4YW1wbGVcclxuPGV4YW1wbGUgbW9kdWxlPVwidWkuYm9vdHN0cmFwXCI+XHJcbiAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuPGRpdiBuZy1jb250cm9sbGVyPVwiQ2Fyb3VzZWxEZW1vQ3RybFwiPlxyXG4gIDxjYXJvdXNlbD5cclxuICAgIDxzbGlkZSBuZy1yZXBlYXQ9XCJzbGlkZSBpbiBzbGlkZXNcIiBhY3RpdmU9XCJzbGlkZS5hY3RpdmVcIiBpbmRleD1cIiRpbmRleFwiPlxyXG4gICAgICA8aW1nIG5nLXNyYz1cInt7c2xpZGUuaW1hZ2V9fVwiIHN0eWxlPVwibWFyZ2luOmF1dG87XCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbC1jYXB0aW9uXCI+XHJcbiAgICAgICAgPGg0PlNsaWRlIHt7JGluZGV4fX08L2g0PlxyXG4gICAgICAgIDxwPnt7c2xpZGUudGV4dH19PC9wPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvc2xpZGU+XHJcbiAgPC9jYXJvdXNlbD5cclxuICBJbnRlcnZhbCwgaW4gbWlsbGlzZWNvbmRzOiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwibXlJbnRlcnZhbFwiPlxyXG4gIDxiciAvPkVudGVyIGEgbmVnYXRpdmUgbnVtYmVyIHRvIHN0b3AgdGhlIGludGVydmFsLlxyXG48L2Rpdj5cclxuICA8L2ZpbGU+XHJcbiAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG5mdW5jdGlvbiBDYXJvdXNlbERlbW9DdHJsKCRzY29wZSkge1xyXG4gICRzY29wZS5teUludGVydmFsID0gNTAwMDtcclxufVxyXG4gIDwvZmlsZT5cclxuICA8ZmlsZSBuYW1lPVwiZGVtby5jc3NcIj5cclxuICAgIC5jYXJvdXNlbC1pbmRpY2F0b3JzIHtcclxuICAgICAgdG9wOiBhdXRvO1xyXG4gICAgICBib3R0b206IDE1cHg7XHJcbiAgICB9XHJcbiAgPC9maWxlPlxyXG48L2V4YW1wbGU+XHJcbiovXHJcblxyXG4uZGlyZWN0aXZlKCdzbGlkZScsIGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXF1aXJlOiAnXmNhcm91c2VsJyxcclxuICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcclxuICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sJztcclxuICAgIH0sXHJcbiAgICBzY29wZToge1xyXG4gICAgICBhY3RpdmU6ICc9PycsXHJcbiAgICAgIGFjdHVhbDogJz0/JyxcclxuICAgICAgaW5kZXg6ICc9PydcclxuICAgIH0sXHJcbiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjYXJvdXNlbEN0cmwpIHtcclxuICAgICAgY2Fyb3VzZWxDdHJsLmFkZFNsaWRlKHNjb3BlLCBlbGVtZW50KTtcclxuICAgICAgLy93aGVuIHRoZSBzY29wZSBpcyBkZXN0cm95ZWQgdGhlbiByZW1vdmUgdGhlIHNsaWRlIGZyb20gdGhlIGN1cnJlbnQgc2xpZGVzIGFycmF5XHJcbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBjYXJvdXNlbEN0cmwucmVtb3ZlU2xpZGUoc2NvcGUpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHNjb3BlLiR3YXRjaCgnYWN0aXZlJywgZnVuY3Rpb24oYWN0aXZlKSB7XHJcbiAgICAgICAgaWYgKGFjdGl2ZSkge1xyXG4gICAgICAgICAgY2Fyb3VzZWxDdHJsLnNlbGVjdChzY29wZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59KVxyXG5cclxuLmFuaW1hdGlvbignLml0ZW0nLCBbXHJcbiAgICAgICAgICckaW5qZWN0b3InLCAnJGFuaW1hdGUnLFxyXG5mdW5jdGlvbiAoJGluamVjdG9yLCAkYW5pbWF0ZSkge1xyXG4gIHZhciBOT19UUkFOU0lUSU9OID0gJ3VpYi1ub1RyYW5zaXRpb24nLFxyXG4gICAgU0xJREVfRElSRUNUSU9OID0gJ3VpYi1zbGlkZURpcmVjdGlvbicsXHJcbiAgICAkYW5pbWF0ZUNzcyA9IG51bGw7XHJcblxyXG4gIGlmICgkaW5qZWN0b3IuaGFzKCckYW5pbWF0ZUNzcycpKSB7XHJcbiAgICAkYW5pbWF0ZUNzcyA9ICRpbmplY3Rvci5nZXQoJyRhbmltYXRlQ3NzJyk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUsIGNhbGxiYWNrKSB7XHJcbiAgICBlbGVtZW50LnJlbW92ZUNsYXNzKGNsYXNzTmFtZSk7XHJcbiAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgICAgY2FsbGJhY2soKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBiZWZvcmVBZGRDbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZSkge1xyXG4gICAgICAvLyBEdWUgdG8gdHJhbnNjbHVzaW9uLCBub1RyYW5zaXRpb24gcHJvcGVydHkgaXMgb24gcGFyZW50J3Mgc2NvcGVcclxuICAgICAgaWYgKGNsYXNzTmFtZSA9PSAnYWN0aXZlJyAmJiBlbGVtZW50LnBhcmVudCgpICYmXHJcbiAgICAgICAgICAhZWxlbWVudC5wYXJlbnQoKS5kYXRhKE5PX1RSQU5TSVRJT04pKSB7XHJcbiAgICAgICAgdmFyIHN0b3BwZWQgPSBmYWxzZTtcclxuICAgICAgICB2YXIgZGlyZWN0aW9uID0gZWxlbWVudC5kYXRhKFNMSURFX0RJUkVDVElPTik7XHJcbiAgICAgICAgdmFyIGRpcmVjdGlvbkNsYXNzID0gZGlyZWN0aW9uID09ICduZXh0JyA/ICdsZWZ0JyA6ICdyaWdodCc7XHJcbiAgICAgICAgdmFyIHJlbW92ZUNsYXNzRm4gPSByZW1vdmVDbGFzcy5iaW5kKHRoaXMsIGVsZW1lbnQsXHJcbiAgICAgICAgICBkaXJlY3Rpb25DbGFzcyArICcgJyArIGRpcmVjdGlvbiwgZG9uZSk7XHJcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhkaXJlY3Rpb24pO1xyXG5cclxuICAgICAgICBpZiAoJGFuaW1hdGVDc3MpIHtcclxuICAgICAgICAgICRhbmltYXRlQ3NzKGVsZW1lbnQsIHthZGRDbGFzczogZGlyZWN0aW9uQ2xhc3N9KVxyXG4gICAgICAgICAgICAuc3RhcnQoKVxyXG4gICAgICAgICAgICAuZG9uZShyZW1vdmVDbGFzc0ZuKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgZGlyZWN0aW9uQ2xhc3MpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIXN0b3BwZWQpIHtcclxuICAgICAgICAgICAgICByZW1vdmVDbGFzc0ZuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgc3RvcHBlZCA9IHRydWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgICBkb25lKCk7XHJcbiAgICB9LFxyXG4gICAgYmVmb3JlUmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUsIGRvbmUpIHtcclxuICAgICAgLy8gRHVlIHRvIHRyYW5zY2x1c2lvbiwgbm9UcmFuc2l0aW9uIHByb3BlcnR5IGlzIG9uIHBhcmVudCdzIHNjb3BlXHJcbiAgICAgIGlmIChjbGFzc05hbWUgPT09ICdhY3RpdmUnICYmIGVsZW1lbnQucGFyZW50KCkgJiZcclxuICAgICAgICAgICFlbGVtZW50LnBhcmVudCgpLmRhdGEoTk9fVFJBTlNJVElPTikpIHtcclxuICAgICAgICB2YXIgc3RvcHBlZCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBlbGVtZW50LmRhdGEoU0xJREVfRElSRUNUSU9OKTtcclxuICAgICAgICB2YXIgZGlyZWN0aW9uQ2xhc3MgPSBkaXJlY3Rpb24gPT0gJ25leHQnID8gJ2xlZnQnIDogJ3JpZ2h0JztcclxuICAgICAgICB2YXIgcmVtb3ZlQ2xhc3NGbiA9IHJlbW92ZUNsYXNzLmJpbmQodGhpcywgZWxlbWVudCwgZGlyZWN0aW9uQ2xhc3MsIGRvbmUpO1xyXG5cclxuICAgICAgICBpZiAoJGFuaW1hdGVDc3MpIHtcclxuICAgICAgICAgICRhbmltYXRlQ3NzKGVsZW1lbnQsIHthZGRDbGFzczogZGlyZWN0aW9uQ2xhc3N9KVxyXG4gICAgICAgICAgICAuc3RhcnQoKVxyXG4gICAgICAgICAgICAuZG9uZShyZW1vdmVDbGFzc0ZuKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgZGlyZWN0aW9uQ2xhc3MpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIXN0b3BwZWQpIHtcclxuICAgICAgICAgICAgICByZW1vdmVDbGFzc0ZuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBzdG9wcGVkID0gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICAgIGRvbmUoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxufV0pXHJcblxyXG5cclxuO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5kYXRlcGFyc2VyJywgW10pXHJcblxyXG4uc2VydmljZSgnZGF0ZVBhcnNlcicsIFsnJGxvZycsICckbG9jYWxlJywgJ29yZGVyQnlGaWx0ZXInLCBmdW5jdGlvbigkbG9nLCAkbG9jYWxlLCBvcmRlckJ5RmlsdGVyKSB7XHJcbiAgLy8gUHVsbGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL21ib3N0b2NrL2QzL2Jsb2IvbWFzdGVyL3NyYy9mb3JtYXQvcmVxdW90ZS5qc1xyXG4gIHZhciBTUEVDSUFMX0NIQVJBQ1RFUlNfUkVHRVhQID0gL1tcXFxcXFxeXFwkXFwqXFwrXFw/XFx8XFxbXFxdXFwoXFwpXFwuXFx7XFx9XS9nO1xyXG5cclxuICB0aGlzLnBhcnNlcnMgPSB7fTtcclxuXHJcbiAgdmFyIGZvcm1hdENvZGVUb1JlZ2V4ID0ge1xyXG4gICAgJ3l5eXknOiB7XHJcbiAgICAgIHJlZ2V4OiAnXFxcXGR7NH0nLFxyXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy55ZWFyID0gK3ZhbHVlOyB9XHJcbiAgICB9LFxyXG4gICAgJ3l5Jzoge1xyXG4gICAgICByZWdleDogJ1xcXFxkezJ9JyxcclxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMueWVhciA9ICt2YWx1ZSArIDIwMDA7IH1cclxuICAgIH0sXHJcbiAgICAneSc6IHtcclxuICAgICAgcmVnZXg6ICdcXFxcZHsxLDR9JyxcclxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMueWVhciA9ICt2YWx1ZTsgfVxyXG4gICAgfSxcclxuICAgICdNTU1NJzoge1xyXG4gICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLk1PTlRILmpvaW4oJ3wnKSxcclxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubW9udGggPSAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuTU9OVEguaW5kZXhPZih2YWx1ZSk7IH1cclxuICAgIH0sXHJcbiAgICAnTU1NJzoge1xyXG4gICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUTU9OVEguam9pbignfCcpLFxyXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5tb250aCA9ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5TSE9SVE1PTlRILmluZGV4T2YodmFsdWUpOyB9XHJcbiAgICB9LFxyXG4gICAgJ01NJzoge1xyXG4gICAgICByZWdleDogJzBbMS05XXwxWzAtMl0nLFxyXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5tb250aCA9IHZhbHVlIC0gMTsgfVxyXG4gICAgfSxcclxuICAgICdNJzoge1xyXG4gICAgICByZWdleDogJ1sxLTldfDFbMC0yXScsXHJcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1vbnRoID0gdmFsdWUgLSAxOyB9XHJcbiAgICB9LFxyXG4gICAgJ2RkJzoge1xyXG4gICAgICByZWdleDogJ1swLTJdWzAtOV17MX18M1swLTFdezF9JyxcclxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuZGF0ZSA9ICt2YWx1ZTsgfVxyXG4gICAgfSxcclxuICAgICdkJzoge1xyXG4gICAgICByZWdleDogJ1sxLTJdP1swLTldezF9fDNbMC0xXXsxfScsXHJcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLmRhdGUgPSArdmFsdWU7IH1cclxuICAgIH0sXHJcbiAgICAnRUVFRSc6IHtcclxuICAgICAgcmVnZXg6ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5EQVkuam9pbignfCcpXHJcbiAgICB9LFxyXG4gICAgJ0VFRSc6IHtcclxuICAgICAgcmVnZXg6ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5TSE9SVERBWS5qb2luKCd8JylcclxuICAgIH0sXHJcbiAgICAnSEgnOiB7XHJcbiAgICAgIHJlZ2V4OiAnKD86MHwxKVswLTldfDJbMC0zXScsXHJcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLmhvdXJzID0gK3ZhbHVlOyB9XHJcbiAgICB9LFxyXG4gICAgJ2hoJzoge1xyXG4gICAgICByZWdleDogJzBbMC05XXwxWzAtMl0nLFxyXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5ob3VycyA9ICt2YWx1ZTsgfVxyXG4gICAgfSxcclxuICAgICdIJzoge1xyXG4gICAgICByZWdleDogJzE/WzAtOV18MlswLTNdJyxcclxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuaG91cnMgPSArdmFsdWU7IH1cclxuICAgIH0sXHJcbiAgICAnaCc6IHtcclxuICAgICAgcmVnZXg6ICdbMC05XXwxWzAtMl0nLFxyXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5ob3VycyA9ICt2YWx1ZTsgfVxyXG4gICAgfSxcclxuICAgICdtbSc6IHtcclxuICAgICAgcmVnZXg6ICdbMC01XVswLTldJyxcclxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubWludXRlcyA9ICt2YWx1ZTsgfVxyXG4gICAgfSxcclxuICAgICdtJzoge1xyXG4gICAgICByZWdleDogJ1swLTldfFsxLTVdWzAtOV0nLFxyXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5taW51dGVzID0gK3ZhbHVlOyB9XHJcbiAgICB9LFxyXG4gICAgJ3Nzcyc6IHtcclxuICAgICAgcmVnZXg6ICdbMC05XVswLTldWzAtOV0nLFxyXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5taWxsaXNlY29uZHMgPSArdmFsdWU7IH1cclxuICAgIH0sXHJcbiAgICAnc3MnOiB7XHJcbiAgICAgIHJlZ2V4OiAnWzAtNV1bMC05XScsXHJcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLnNlY29uZHMgPSArdmFsdWU7IH1cclxuICAgIH0sXHJcbiAgICAncyc6IHtcclxuICAgICAgcmVnZXg6ICdbMC05XXxbMS01XVswLTldJyxcclxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuc2Vjb25kcyA9ICt2YWx1ZTsgfVxyXG4gICAgfSxcclxuICAgICdhJzoge1xyXG4gICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLkFNUE1TLmpvaW4oJ3wnKSxcclxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaG91cnMgPT09IDEyKSB7XHJcbiAgICAgICAgICB0aGlzLmhvdXJzID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gJ1BNJykge1xyXG4gICAgICAgICAgdGhpcy5ob3VycyArPSAxMjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVQYXJzZXIoZm9ybWF0KSB7XHJcbiAgICB2YXIgbWFwID0gW10sIHJlZ2V4ID0gZm9ybWF0LnNwbGl0KCcnKTtcclxuXHJcbiAgICBhbmd1bGFyLmZvckVhY2goZm9ybWF0Q29kZVRvUmVnZXgsIGZ1bmN0aW9uKGRhdGEsIGNvZGUpIHtcclxuICAgICAgdmFyIGluZGV4ID0gZm9ybWF0LmluZGV4T2YoY29kZSk7XHJcblxyXG4gICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdC5zcGxpdCgnJyk7XHJcblxyXG4gICAgICAgIHJlZ2V4W2luZGV4XSA9ICcoJyArIGRhdGEucmVnZXggKyAnKSc7XHJcbiAgICAgICAgZm9ybWF0W2luZGV4XSA9ICckJzsgLy8gQ3VzdG9tIHN5bWJvbCB0byBkZWZpbmUgY29uc3VtZWQgcGFydCBvZiBmb3JtYXRcclxuICAgICAgICBmb3IgKHZhciBpID0gaW5kZXggKyAxLCBuID0gaW5kZXggKyBjb2RlLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgcmVnZXhbaV0gPSAnJztcclxuICAgICAgICAgIGZvcm1hdFtpXSA9ICckJztcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0LmpvaW4oJycpO1xyXG5cclxuICAgICAgICBtYXAucHVzaCh7IGluZGV4OiBpbmRleCwgYXBwbHk6IGRhdGEuYXBwbHkgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlZ2V4OiBuZXcgUmVnRXhwKCdeJyArIHJlZ2V4LmpvaW4oJycpICsgJyQnKSxcclxuICAgICAgbWFwOiBvcmRlckJ5RmlsdGVyKG1hcCwgJ2luZGV4JylcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICB0aGlzLnBhcnNlID0gZnVuY3Rpb24oaW5wdXQsIGZvcm1hdCwgYmFzZURhdGUpIHtcclxuICAgIGlmICghYW5ndWxhci5pc1N0cmluZyhpbnB1dCkgfHwgIWZvcm1hdCkge1xyXG4gICAgICByZXR1cm4gaW5wdXQ7XHJcbiAgICB9XHJcblxyXG4gICAgZm9ybWF0ID0gJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTW2Zvcm1hdF0gfHwgZm9ybWF0O1xyXG4gICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UoU1BFQ0lBTF9DSEFSQUNURVJTX1JFR0VYUCwgJ1xcXFwkJicpO1xyXG5cclxuICAgIGlmICghdGhpcy5wYXJzZXJzW2Zvcm1hdF0pIHtcclxuICAgICAgdGhpcy5wYXJzZXJzW2Zvcm1hdF0gPSBjcmVhdGVQYXJzZXIoZm9ybWF0KTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgcGFyc2VyID0gdGhpcy5wYXJzZXJzW2Zvcm1hdF0sXHJcbiAgICAgICAgcmVnZXggPSBwYXJzZXIucmVnZXgsXHJcbiAgICAgICAgbWFwID0gcGFyc2VyLm1hcCxcclxuICAgICAgICByZXN1bHRzID0gaW5wdXQubWF0Y2gocmVnZXgpO1xyXG5cclxuICAgIGlmIChyZXN1bHRzICYmIHJlc3VsdHMubGVuZ3RoKSB7XHJcbiAgICAgIHZhciBmaWVsZHMsIGR0O1xyXG4gICAgICBpZiAoYW5ndWxhci5pc0RhdGUoYmFzZURhdGUpICYmICFpc05hTihiYXNlRGF0ZS5nZXRUaW1lKCkpKSB7XHJcbiAgICAgICAgZmllbGRzID0ge1xyXG4gICAgICAgICAgeWVhcjogYmFzZURhdGUuZ2V0RnVsbFllYXIoKSxcclxuICAgICAgICAgIG1vbnRoOiBiYXNlRGF0ZS5nZXRNb250aCgpLFxyXG4gICAgICAgICAgZGF0ZTogYmFzZURhdGUuZ2V0RGF0ZSgpLFxyXG4gICAgICAgICAgaG91cnM6IGJhc2VEYXRlLmdldEhvdXJzKCksXHJcbiAgICAgICAgICBtaW51dGVzOiBiYXNlRGF0ZS5nZXRNaW51dGVzKCksXHJcbiAgICAgICAgICBzZWNvbmRzOiBiYXNlRGF0ZS5nZXRTZWNvbmRzKCksXHJcbiAgICAgICAgICBtaWxsaXNlY29uZHM6IGJhc2VEYXRlLmdldE1pbGxpc2Vjb25kcygpXHJcbiAgICAgICAgfTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoYmFzZURhdGUpIHtcclxuICAgICAgICAgICRsb2cud2FybignZGF0ZXBhcnNlcjonLCAnYmFzZURhdGUgaXMgbm90IGEgdmFsaWQgZGF0ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaWVsZHMgPSB7IHllYXI6IDE5MDAsIG1vbnRoOiAwLCBkYXRlOiAxLCBob3VyczogMCwgbWludXRlczogMCwgc2Vjb25kczogMCwgbWlsbGlzZWNvbmRzOiAwIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAxLCBuID0gcmVzdWx0cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICB2YXIgbWFwcGVyID0gbWFwW2ktMV07XHJcbiAgICAgICAgaWYgKG1hcHBlci5hcHBseSkge1xyXG4gICAgICAgICAgbWFwcGVyLmFwcGx5LmNhbGwoZmllbGRzLCByZXN1bHRzW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChpc1ZhbGlkKGZpZWxkcy55ZWFyLCBmaWVsZHMubW9udGgsIGZpZWxkcy5kYXRlKSkge1xyXG4gICAgICAgIGR0ID0gbmV3IERhdGUoZmllbGRzLnllYXIsIGZpZWxkcy5tb250aCwgZmllbGRzLmRhdGUsXHJcbiAgICAgICAgICBmaWVsZHMuaG91cnMsIGZpZWxkcy5taW51dGVzLCBmaWVsZHMuc2Vjb25kcyxcclxuICAgICAgICAgIGZpZWxkcy5taWxsaXNlY29uZHMgfHwgMCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBkdDtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBDaGVjayBpZiBkYXRlIGlzIHZhbGlkIGZvciBzcGVjaWZpYyBtb250aCAoYW5kIHllYXIgZm9yIEZlYnJ1YXJ5KS5cclxuICAvLyBNb250aDogMCA9IEphbiwgMSA9IEZlYiwgZXRjXHJcbiAgZnVuY3Rpb24gaXNWYWxpZCh5ZWFyLCBtb250aCwgZGF0ZSkge1xyXG4gICAgaWYgKGRhdGUgPCAxKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobW9udGggPT09IDEgJiYgZGF0ZSA+IDI4KSB7XHJcbiAgICAgIHJldHVybiBkYXRlID09PSAyOSAmJiAoKHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDApIHx8IHllYXIgJSA0MDAgPT09IDApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChtb250aCA9PT0gMyB8fCBtb250aCA9PT0gNSB8fCBtb250aCA9PT0gOCB8fCBtb250aCA9PT0gMTApIHtcclxuICAgICAgcmV0dXJuIGRhdGUgPCAzMTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcbn1dKTtcclxuXHJcbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucG9zaXRpb24nLCBbXSlcclxuXHJcbi8qKlxyXG4gKiBBIHNldCBvZiB1dGlsaXR5IG1ldGhvZHMgdGhhdCBjYW4gYmUgdXNlIHRvIHJldHJpZXZlIHBvc2l0aW9uIG9mIERPTSBlbGVtZW50cy5cclxuICogSXQgaXMgbWVhbnQgdG8gYmUgdXNlZCB3aGVyZSB3ZSBuZWVkIHRvIGFic29sdXRlLXBvc2l0aW9uIERPTSBlbGVtZW50cyBpblxyXG4gKiByZWxhdGlvbiB0byBvdGhlciwgZXhpc3RpbmcgZWxlbWVudHMgKHRoaXMgaXMgdGhlIGNhc2UgZm9yIHRvb2x0aXBzLCBwb3BvdmVycyxcclxuICogdHlwZWFoZWFkIHN1Z2dlc3Rpb25zIGV0Yy4pLlxyXG4gKi9cclxuICAuZmFjdG9yeSgnJHBvc2l0aW9uJywgWyckZG9jdW1lbnQnLCAnJHdpbmRvdycsIGZ1bmN0aW9uKCRkb2N1bWVudCwgJHdpbmRvdykge1xyXG4gICAgZnVuY3Rpb24gZ2V0U3R5bGUoZWwsIGNzc3Byb3ApIHtcclxuICAgICAgaWYgKGVsLmN1cnJlbnRTdHlsZSkgeyAvL0lFXHJcbiAgICAgICAgcmV0dXJuIGVsLmN1cnJlbnRTdHlsZVtjc3Nwcm9wXTtcclxuICAgICAgfSBlbHNlIGlmICgkd2luZG93LmdldENvbXB1dGVkU3R5bGUpIHtcclxuICAgICAgICByZXR1cm4gJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKVtjc3Nwcm9wXTtcclxuICAgICAgfVxyXG4gICAgICAvLyBmaW5hbGx5IHRyeSBhbmQgZ2V0IGlubGluZSBzdHlsZVxyXG4gICAgICByZXR1cm4gZWwuc3R5bGVbY3NzcHJvcF07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgYSBnaXZlbiBlbGVtZW50IGlzIHN0YXRpY2FsbHkgcG9zaXRpb25lZFxyXG4gICAgICogQHBhcmFtIGVsZW1lbnQgLSByYXcgRE9NIGVsZW1lbnRcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gaXNTdGF0aWNQb3NpdGlvbmVkKGVsZW1lbnQpIHtcclxuICAgICAgcmV0dXJuIChnZXRTdHlsZShlbGVtZW50LCAncG9zaXRpb24nKSB8fCAnc3RhdGljJyApID09PSAnc3RhdGljJztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIGNsb3Nlc3QsIG5vbi1zdGF0aWNhbGx5IHBvc2l0aW9uZWQgcGFyZW50T2Zmc2V0IG9mIGEgZ2l2ZW4gZWxlbWVudFxyXG4gICAgICogQHBhcmFtIGVsZW1lbnRcclxuICAgICAqL1xyXG4gICAgdmFyIHBhcmVudE9mZnNldEVsID0gZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgICB2YXIgZG9jRG9tRWwgPSAkZG9jdW1lbnRbMF07XHJcbiAgICAgIHZhciBvZmZzZXRQYXJlbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudCB8fCBkb2NEb21FbDtcclxuICAgICAgd2hpbGUgKG9mZnNldFBhcmVudCAmJiBvZmZzZXRQYXJlbnQgIT09IGRvY0RvbUVsICYmIGlzU3RhdGljUG9zaXRpb25lZChvZmZzZXRQYXJlbnQpICkge1xyXG4gICAgICAgIG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG9mZnNldFBhcmVudCB8fCBkb2NEb21FbDtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIFByb3ZpZGVzIHJlYWQtb25seSBlcXVpdmFsZW50IG9mIGpRdWVyeSdzIHBvc2l0aW9uIGZ1bmN0aW9uOlxyXG4gICAgICAgKiBodHRwOi8vYXBpLmpxdWVyeS5jb20vcG9zaXRpb24vXHJcbiAgICAgICAqL1xyXG4gICAgICBwb3NpdGlvbjogZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgICAgIHZhciBlbEJDUiA9IHRoaXMub2Zmc2V0KGVsZW1lbnQpO1xyXG4gICAgICAgIHZhciBvZmZzZXRQYXJlbnRCQ1IgPSB7IHRvcDogMCwgbGVmdDogMCB9O1xyXG4gICAgICAgIHZhciBvZmZzZXRQYXJlbnRFbCA9IHBhcmVudE9mZnNldEVsKGVsZW1lbnRbMF0pO1xyXG4gICAgICAgIGlmIChvZmZzZXRQYXJlbnRFbCAhPSAkZG9jdW1lbnRbMF0pIHtcclxuICAgICAgICAgIG9mZnNldFBhcmVudEJDUiA9IHRoaXMub2Zmc2V0KGFuZ3VsYXIuZWxlbWVudChvZmZzZXRQYXJlbnRFbCkpO1xyXG4gICAgICAgICAgb2Zmc2V0UGFyZW50QkNSLnRvcCArPSBvZmZzZXRQYXJlbnRFbC5jbGllbnRUb3AgLSBvZmZzZXRQYXJlbnRFbC5zY3JvbGxUb3A7XHJcbiAgICAgICAgICBvZmZzZXRQYXJlbnRCQ1IubGVmdCArPSBvZmZzZXRQYXJlbnRFbC5jbGllbnRMZWZ0IC0gb2Zmc2V0UGFyZW50RWwuc2Nyb2xsTGVmdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBib3VuZGluZ0NsaWVudFJlY3QgPSBlbGVtZW50WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICB3aWR0aDogYm91bmRpbmdDbGllbnRSZWN0LndpZHRoIHx8IGVsZW1lbnQucHJvcCgnb2Zmc2V0V2lkdGgnKSxcclxuICAgICAgICAgIGhlaWdodDogYm91bmRpbmdDbGllbnRSZWN0LmhlaWdodCB8fCBlbGVtZW50LnByb3AoJ29mZnNldEhlaWdodCcpLFxyXG4gICAgICAgICAgdG9wOiBlbEJDUi50b3AgLSBvZmZzZXRQYXJlbnRCQ1IudG9wLFxyXG4gICAgICAgICAgbGVmdDogZWxCQ1IubGVmdCAtIG9mZnNldFBhcmVudEJDUi5sZWZ0XHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBQcm92aWRlcyByZWFkLW9ubHkgZXF1aXZhbGVudCBvZiBqUXVlcnkncyBvZmZzZXQgZnVuY3Rpb246XHJcbiAgICAgICAqIGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9vZmZzZXQvXHJcbiAgICAgICAqL1xyXG4gICAgICBvZmZzZXQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgICB2YXIgYm91bmRpbmdDbGllbnRSZWN0ID0gZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgd2lkdGg6IGJvdW5kaW5nQ2xpZW50UmVjdC53aWR0aCB8fCBlbGVtZW50LnByb3AoJ29mZnNldFdpZHRoJyksXHJcbiAgICAgICAgICBoZWlnaHQ6IGJvdW5kaW5nQ2xpZW50UmVjdC5oZWlnaHQgfHwgZWxlbWVudC5wcm9wKCdvZmZzZXRIZWlnaHQnKSxcclxuICAgICAgICAgIHRvcDogYm91bmRpbmdDbGllbnRSZWN0LnRvcCArICgkd2luZG93LnBhZ2VZT2Zmc2V0IHx8ICRkb2N1bWVudFswXS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKSxcclxuICAgICAgICAgIGxlZnQ6IGJvdW5kaW5nQ2xpZW50UmVjdC5sZWZ0ICsgKCR3aW5kb3cucGFnZVhPZmZzZXQgfHwgJGRvY3VtZW50WzBdLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0KVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogUHJvdmlkZXMgY29vcmRpbmF0ZXMgZm9yIHRoZSB0YXJnZXRFbCBpbiByZWxhdGlvbiB0byBob3N0RWxcclxuICAgICAgICovXHJcbiAgICAgIHBvc2l0aW9uRWxlbWVudHM6IGZ1bmN0aW9uKGhvc3RFbCwgdGFyZ2V0RWwsIHBvc2l0aW9uU3RyLCBhcHBlbmRUb0JvZHkpIHtcclxuICAgICAgICB2YXIgcG9zaXRpb25TdHJQYXJ0cyA9IHBvc2l0aW9uU3RyLnNwbGl0KCctJyk7XHJcbiAgICAgICAgdmFyIHBvczAgPSBwb3NpdGlvblN0clBhcnRzWzBdLCBwb3MxID0gcG9zaXRpb25TdHJQYXJ0c1sxXSB8fCAnY2VudGVyJztcclxuXHJcbiAgICAgICAgdmFyIGhvc3RFbFBvcyxcclxuICAgICAgICAgIHRhcmdldEVsV2lkdGgsXHJcbiAgICAgICAgICB0YXJnZXRFbEhlaWdodCxcclxuICAgICAgICAgIHRhcmdldEVsUG9zO1xyXG5cclxuICAgICAgICBob3N0RWxQb3MgPSBhcHBlbmRUb0JvZHkgPyB0aGlzLm9mZnNldChob3N0RWwpIDogdGhpcy5wb3NpdGlvbihob3N0RWwpO1xyXG5cclxuICAgICAgICB0YXJnZXRFbFdpZHRoID0gdGFyZ2V0RWwucHJvcCgnb2Zmc2V0V2lkdGgnKTtcclxuICAgICAgICB0YXJnZXRFbEhlaWdodCA9IHRhcmdldEVsLnByb3AoJ29mZnNldEhlaWdodCcpO1xyXG5cclxuICAgICAgICB2YXIgc2hpZnRXaWR0aCA9IHtcclxuICAgICAgICAgIGNlbnRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MubGVmdCArIGhvc3RFbFBvcy53aWR0aCAvIDIgLSB0YXJnZXRFbFdpZHRoIC8gMjtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBsZWZ0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy5sZWZ0O1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHJpZ2h0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy5sZWZ0ICsgaG9zdEVsUG9zLndpZHRoO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBzaGlmdEhlaWdodCA9IHtcclxuICAgICAgICAgIGNlbnRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MudG9wICsgaG9zdEVsUG9zLmhlaWdodCAvIDIgLSB0YXJnZXRFbEhlaWdodCAvIDI7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgdG9wOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy50b3A7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgYm90dG9tOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy50b3AgKyBob3N0RWxQb3MuaGVpZ2h0O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHN3aXRjaCAocG9zMCkge1xyXG4gICAgICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgICAgICB0YXJnZXRFbFBvcyA9IHtcclxuICAgICAgICAgICAgICB0b3A6IHNoaWZ0SGVpZ2h0W3BvczFdKCksXHJcbiAgICAgICAgICAgICAgbGVmdDogc2hpZnRXaWR0aFtwb3MwXSgpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgICAgIHRhcmdldEVsUG9zID0ge1xyXG4gICAgICAgICAgICAgIHRvcDogc2hpZnRIZWlnaHRbcG9zMV0oKSxcclxuICAgICAgICAgICAgICBsZWZ0OiBob3N0RWxQb3MubGVmdCAtIHRhcmdldEVsV2lkdGhcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlICdib3R0b20nOlxyXG4gICAgICAgICAgICB0YXJnZXRFbFBvcyA9IHtcclxuICAgICAgICAgICAgICB0b3A6IHNoaWZ0SGVpZ2h0W3BvczBdKCksXHJcbiAgICAgICAgICAgICAgbGVmdDogc2hpZnRXaWR0aFtwb3MxXSgpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgdGFyZ2V0RWxQb3MgPSB7XHJcbiAgICAgICAgICAgICAgdG9wOiBob3N0RWxQb3MudG9wIC0gdGFyZ2V0RWxIZWlnaHQsXHJcbiAgICAgICAgICAgICAgbGVmdDogc2hpZnRXaWR0aFtwb3MxXSgpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRhcmdldEVsUG9zO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1dKTtcclxuXHJcbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuZGF0ZXBpY2tlcicsIFsndWkuYm9vdHN0cmFwLmRhdGVwYXJzZXInLCAndWkuYm9vdHN0cmFwLnBvc2l0aW9uJ10pXHJcblxyXG4udmFsdWUoJyRkYXRlcGlja2VyU3VwcHJlc3NFcnJvcicsIGZhbHNlKVxyXG5cclxuLmNvbnN0YW50KCdkYXRlcGlja2VyQ29uZmlnJywge1xyXG4gIGZvcm1hdERheTogJ2RkJyxcclxuICBmb3JtYXRNb250aDogJ01NTU0nLFxyXG4gIGZvcm1hdFllYXI6ICd5eXl5JyxcclxuICBmb3JtYXREYXlIZWFkZXI6ICdFRUUnLFxyXG4gIGZvcm1hdERheVRpdGxlOiAnTU1NTSB5eXl5JyxcclxuICBmb3JtYXRNb250aFRpdGxlOiAneXl5eScsXHJcbiAgZGF0ZXBpY2tlck1vZGU6ICdkYXknLFxyXG4gIG1pbk1vZGU6ICdkYXknLFxyXG4gIG1heE1vZGU6ICd5ZWFyJyxcclxuICBzaG93V2Vla3M6IHRydWUsXHJcbiAgc3RhcnRpbmdEYXk6IDAsXHJcbiAgeWVhclJhbmdlOiAyMCxcclxuICBtaW5EYXRlOiBudWxsLFxyXG4gIG1heERhdGU6IG51bGwsXHJcbiAgc2hvcnRjdXRQcm9wYWdhdGlvbjogZmFsc2VcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdEYXRlcGlja2VyQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICckcGFyc2UnLCAnJGludGVycG9sYXRlJywgJyRsb2cnLCAnZGF0ZUZpbHRlcicsICdkYXRlcGlja2VyQ29uZmlnJywgJyRkYXRlcGlja2VyU3VwcHJlc3NFcnJvcicsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCAkcGFyc2UsICRpbnRlcnBvbGF0ZSwgJGxvZywgZGF0ZUZpbHRlciwgZGF0ZXBpY2tlckNvbmZpZywgJGRhdGVwaWNrZXJTdXBwcmVzc0Vycm9yKSB7XHJcbiAgdmFyIHNlbGYgPSB0aGlzLFxyXG4gICAgICBuZ01vZGVsQ3RybCA9IHsgJHNldFZpZXdWYWx1ZTogYW5ndWxhci5ub29wIH07IC8vIG51bGxNb2RlbEN0cmw7XHJcblxyXG4gIC8vIE1vZGVzIGNoYWluXHJcbiAgdGhpcy5tb2RlcyA9IFsnZGF5JywgJ21vbnRoJywgJ3llYXInXTtcclxuXHJcbiAgLy8gQ29uZmlndXJhdGlvbiBhdHRyaWJ1dGVzXHJcbiAgYW5ndWxhci5mb3JFYWNoKFsnZm9ybWF0RGF5JywgJ2Zvcm1hdE1vbnRoJywgJ2Zvcm1hdFllYXInLCAnZm9ybWF0RGF5SGVhZGVyJywgJ2Zvcm1hdERheVRpdGxlJywgJ2Zvcm1hdE1vbnRoVGl0bGUnLFxyXG4gICAgICAgICAgICAgICAgICAgJ3Nob3dXZWVrcycsICdzdGFydGluZ0RheScsICd5ZWFyUmFuZ2UnLCAnc2hvcnRjdXRQcm9wYWdhdGlvbiddLCBmdW5jdGlvbihrZXksIGluZGV4KSB7XHJcbiAgICBzZWxmW2tleV0gPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnNba2V5XSkgPyAoaW5kZXggPCA2ID8gJGludGVycG9sYXRlKCRhdHRyc1trZXldKSgkc2NvcGUuJHBhcmVudCkgOiAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnNba2V5XSkpIDogZGF0ZXBpY2tlckNvbmZpZ1trZXldO1xyXG4gIH0pO1xyXG5cclxuICAvLyBXYXRjaGFibGUgZGF0ZSBhdHRyaWJ1dGVzXHJcbiAgYW5ndWxhci5mb3JFYWNoKFsnbWluRGF0ZScsICdtYXhEYXRlJ10sIGZ1bmN0aW9uKGtleSkge1xyXG4gICAgaWYgKCRhdHRyc1trZXldKSB7XHJcbiAgICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzW2tleV0pLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIHNlbGZba2V5XSA9IHZhbHVlID8gbmV3IERhdGUodmFsdWUpIDogbnVsbDtcclxuICAgICAgICBzZWxmLnJlZnJlc2hWaWV3KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2VsZltrZXldID0gZGF0ZXBpY2tlckNvbmZpZ1trZXldID8gbmV3IERhdGUoZGF0ZXBpY2tlckNvbmZpZ1trZXldKSA6IG51bGw7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGFuZ3VsYXIuZm9yRWFjaChbJ21pbk1vZGUnLCAnbWF4TW9kZSddLCBmdW5jdGlvbihrZXkpIHtcclxuICAgIGlmICgkYXR0cnNba2V5XSkge1xyXG4gICAgICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRyc1trZXldKSwgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICBzZWxmW2tleV0gPSBhbmd1bGFyLmlzRGVmaW5lZCh2YWx1ZSkgPyB2YWx1ZSA6ICRhdHRyc1trZXldO1xyXG4gICAgICAgICRzY29wZVtrZXldID0gc2VsZltrZXldO1xyXG4gICAgICAgIGlmICgoa2V5ID09ICdtaW5Nb2RlJyAmJiBzZWxmLm1vZGVzLmluZGV4T2YoJHNjb3BlLmRhdGVwaWNrZXJNb2RlKSA8IHNlbGYubW9kZXMuaW5kZXhPZihzZWxmW2tleV0pKSB8fCAoa2V5ID09ICdtYXhNb2RlJyAmJiBzZWxmLm1vZGVzLmluZGV4T2YoJHNjb3BlLmRhdGVwaWNrZXJNb2RlKSA+IHNlbGYubW9kZXMuaW5kZXhPZihzZWxmW2tleV0pKSkge1xyXG4gICAgICAgICAgJHNjb3BlLmRhdGVwaWNrZXJNb2RlID0gc2VsZltrZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZWxmW2tleV0gPSBkYXRlcGlja2VyQ29uZmlnW2tleV0gfHwgbnVsbDtcclxuICAgICAgJHNjb3BlW2tleV0gPSBzZWxmW2tleV07XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gICRzY29wZS5kYXRlcGlja2VyTW9kZSA9ICRzY29wZS5kYXRlcGlja2VyTW9kZSB8fCBkYXRlcGlja2VyQ29uZmlnLmRhdGVwaWNrZXJNb2RlO1xyXG4gICRzY29wZS51bmlxdWVJZCA9ICdkYXRlcGlja2VyLScgKyAkc2NvcGUuJGlkICsgJy0nICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApO1xyXG5cclxuICBpZiAoYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmluaXREYXRlKSkge1xyXG4gICAgdGhpcy5hY3RpdmVEYXRlID0gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLmluaXREYXRlKSB8fCBuZXcgRGF0ZSgpO1xyXG4gICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRhdHRycy5pbml0RGF0ZSwgZnVuY3Rpb24oaW5pdERhdGUpIHtcclxuICAgICAgaWYgKGluaXREYXRlICYmIChuZ01vZGVsQ3RybC4kaXNFbXB0eShuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSkgfHwgbmdNb2RlbEN0cmwuJGludmFsaWQpKSB7XHJcbiAgICAgICAgc2VsZi5hY3RpdmVEYXRlID0gaW5pdERhdGU7XHJcbiAgICAgICAgc2VsZi5yZWZyZXNoVmlldygpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhpcy5hY3RpdmVEYXRlID0gbmV3IERhdGUoKTtcclxuICB9XHJcblxyXG4gICRzY29wZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKGRhdGVPYmplY3QpIHtcclxuICAgIGlmIChzZWxmLmNvbXBhcmUoZGF0ZU9iamVjdC5kYXRlLCBzZWxmLmFjdGl2ZURhdGUpID09PSAwKSB7XHJcbiAgICAgICRzY29wZS5hY3RpdmVEYXRlSWQgPSBkYXRlT2JqZWN0LnVpZDtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24obmdNb2RlbEN0cmxfKSB7XHJcbiAgICBuZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsXztcclxuXHJcbiAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHNlbGYucmVuZGVyKCk7XHJcbiAgICB9O1xyXG4gIH07XHJcblxyXG4gIHRoaXMucmVuZGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkge1xyXG4gICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpLFxyXG4gICAgICAgICAgaXNWYWxpZCA9ICFpc05hTihkYXRlKTtcclxuXHJcbiAgICAgIGlmIChpc1ZhbGlkKSB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVEYXRlID0gZGF0ZTtcclxuICAgICAgfSBlbHNlIGlmICghJGRhdGVwaWNrZXJTdXBwcmVzc0Vycm9yKSB7XHJcbiAgICAgICAgJGxvZy5lcnJvcignRGF0ZXBpY2tlciBkaXJlY3RpdmU6IFwibmctbW9kZWxcIiB2YWx1ZSBtdXN0IGJlIGEgRGF0ZSBvYmplY3QsIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSAwMS4wMS4xOTcwIG9yIGEgc3RyaW5nIHJlcHJlc2VudGluZyBhbiBSRkMyODIyIG9yIElTTyA4NjAxIGRhdGUuJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMucmVmcmVzaFZpZXcoKTtcclxuICB9O1xyXG5cclxuICB0aGlzLnJlZnJlc2hWaWV3ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuX3JlZnJlc2hWaWV3KCk7XHJcblxyXG4gICAgICB2YXIgZGF0ZSA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgPyBuZXcgRGF0ZShuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKSA6IG51bGw7XHJcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZGF0ZURpc2FibGVkJywgIWRhdGUgfHwgKHRoaXMuZWxlbWVudCAmJiAhdGhpcy5pc0Rpc2FibGVkKGRhdGUpKSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5jcmVhdGVEYXRlT2JqZWN0ID0gZnVuY3Rpb24oZGF0ZSwgZm9ybWF0KSB7XHJcbiAgICB2YXIgbW9kZWwgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlID8gbmV3IERhdGUobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkgOiBudWxsO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0ZTogZGF0ZSxcclxuICAgICAgbGFiZWw6IGRhdGVGaWx0ZXIoZGF0ZSwgZm9ybWF0KSxcclxuICAgICAgc2VsZWN0ZWQ6IG1vZGVsICYmIHRoaXMuY29tcGFyZShkYXRlLCBtb2RlbCkgPT09IDAsXHJcbiAgICAgIGRpc2FibGVkOiB0aGlzLmlzRGlzYWJsZWQoZGF0ZSksXHJcbiAgICAgIGN1cnJlbnQ6IHRoaXMuY29tcGFyZShkYXRlLCBuZXcgRGF0ZSgpKSA9PT0gMCxcclxuICAgICAgY3VzdG9tQ2xhc3M6IHRoaXMuY3VzdG9tQ2xhc3MoZGF0ZSlcclxuICAgIH07XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5pc0Rpc2FibGVkID0gZnVuY3Rpb24oZGF0ZSkge1xyXG4gICAgcmV0dXJuICgodGhpcy5taW5EYXRlICYmIHRoaXMuY29tcGFyZShkYXRlLCB0aGlzLm1pbkRhdGUpIDwgMCkgfHwgKHRoaXMubWF4RGF0ZSAmJiB0aGlzLmNvbXBhcmUoZGF0ZSwgdGhpcy5tYXhEYXRlKSA+IDApIHx8ICgkYXR0cnMuZGF0ZURpc2FibGVkICYmICRzY29wZS5kYXRlRGlzYWJsZWQoe2RhdGU6IGRhdGUsIG1vZGU6ICRzY29wZS5kYXRlcGlja2VyTW9kZX0pKSk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5jdXN0b21DbGFzcyA9IGZ1bmN0aW9uKGRhdGUpIHtcclxuICAgIHJldHVybiAkc2NvcGUuY3VzdG9tQ2xhc3Moe2RhdGU6IGRhdGUsIG1vZGU6ICRzY29wZS5kYXRlcGlja2VyTW9kZX0pO1xyXG4gIH07XHJcblxyXG4gIC8vIFNwbGl0IGFycmF5IGludG8gc21hbGxlciBhcnJheXNcclxuICB0aGlzLnNwbGl0ID0gZnVuY3Rpb24oYXJyLCBzaXplKSB7XHJcbiAgICB2YXIgYXJyYXlzID0gW107XHJcbiAgICB3aGlsZSAoYXJyLmxlbmd0aCA+IDApIHtcclxuICAgICAgYXJyYXlzLnB1c2goYXJyLnNwbGljZSgwLCBzaXplKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXJyYXlzO1xyXG4gIH07XHJcblxyXG4gIC8vIEZpeCBhIGhhcmQtcmVwcm9kdXNpYmxlIGJ1ZyB3aXRoIHRpbWV6b25lc1xyXG4gIC8vIFRoZSBidWcgZGVwZW5kcyBvbiBPUywgYnJvd3NlciwgY3VycmVudCB0aW1lem9uZSBhbmQgY3VycmVudCBkYXRlXHJcbiAgLy8gaS5lLlxyXG4gIC8vIHZhciBkYXRlID0gbmV3IERhdGUoMjAxNCwgMCwgMSk7XHJcbiAgLy8gY29uc29sZS5sb2coZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpLCBkYXRlLmdldEhvdXJzKCkpO1xyXG4gIC8vIGNhbiByZXN1bHQgaW4gXCIyMDEzIDExIDMxIDIzXCIgYmVjYXVzZSBvZiB0aGUgYnVnLlxyXG4gIHRoaXMuZml4VGltZVpvbmUgPSBmdW5jdGlvbihkYXRlKSB7XHJcbiAgICB2YXIgaG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XHJcbiAgICBkYXRlLnNldEhvdXJzKGhvdXJzID09PSAyMyA/IGhvdXJzICsgMiA6IDApO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5zZWxlY3QgPSBmdW5jdGlvbihkYXRlKSB7XHJcbiAgICBpZiAoJHNjb3BlLmRhdGVwaWNrZXJNb2RlID09PSBzZWxmLm1pbk1vZGUpIHtcclxuICAgICAgdmFyIGR0ID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSA/IG5ldyBEYXRlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpIDogbmV3IERhdGUoMCwgMCwgMCwgMCwgMCwgMCwgMCk7XHJcbiAgICAgIGR0LnNldEZ1bGxZZWFyKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdldERhdGUoKSk7XHJcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoZHQpO1xyXG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZWxmLmFjdGl2ZURhdGUgPSBkYXRlO1xyXG4gICAgICAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPSBzZWxmLm1vZGVzW3NlbGYubW9kZXMuaW5kZXhPZigkc2NvcGUuZGF0ZXBpY2tlck1vZGUpIC0gMV07XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLm1vdmUgPSBmdW5jdGlvbihkaXJlY3Rpb24pIHtcclxuICAgIHZhciB5ZWFyID0gc2VsZi5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkgKyBkaXJlY3Rpb24gKiAoc2VsZi5zdGVwLnllYXJzIHx8IDApLFxyXG4gICAgICAgIG1vbnRoID0gc2VsZi5hY3RpdmVEYXRlLmdldE1vbnRoKCkgKyBkaXJlY3Rpb24gKiAoc2VsZi5zdGVwLm1vbnRocyB8fCAwKTtcclxuICAgIHNlbGYuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcih5ZWFyLCBtb250aCwgMSk7XHJcbiAgICBzZWxmLnJlZnJlc2hWaWV3KCk7XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLnRvZ2dsZU1vZGUgPSBmdW5jdGlvbihkaXJlY3Rpb24pIHtcclxuICAgIGRpcmVjdGlvbiA9IGRpcmVjdGlvbiB8fCAxO1xyXG5cclxuICAgIGlmICgoJHNjb3BlLmRhdGVwaWNrZXJNb2RlID09PSBzZWxmLm1heE1vZGUgJiYgZGlyZWN0aW9uID09PSAxKSB8fCAoJHNjb3BlLmRhdGVwaWNrZXJNb2RlID09PSBzZWxmLm1pbk1vZGUgJiYgZGlyZWN0aW9uID09PSAtMSkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgICRzY29wZS5kYXRlcGlja2VyTW9kZSA9IHNlbGYubW9kZXNbc2VsZi5tb2Rlcy5pbmRleE9mKCRzY29wZS5kYXRlcGlja2VyTW9kZSkgKyBkaXJlY3Rpb25dO1xyXG4gIH07XHJcblxyXG4gIC8vIEtleSBldmVudCBtYXBwZXJcclxuICAkc2NvcGUua2V5cyA9IHsgMTM6ICdlbnRlcicsIDMyOiAnc3BhY2UnLCAzMzogJ3BhZ2V1cCcsIDM0OiAncGFnZWRvd24nLCAzNTogJ2VuZCcsIDM2OiAnaG9tZScsIDM3OiAnbGVmdCcsIDM4OiAndXAnLCAzOTogJ3JpZ2h0JywgNDA6ICdkb3duJyB9O1xyXG5cclxuICB2YXIgZm9jdXNFbGVtZW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBzZWxmLmVsZW1lbnRbMF0uZm9jdXMoKTtcclxuICB9O1xyXG5cclxuICAvLyBMaXN0ZW4gZm9yIGZvY3VzIHJlcXVlc3RzIGZyb20gcG9wdXAgZGlyZWN0aXZlXHJcbiAgJHNjb3BlLiRvbignZGF0ZXBpY2tlci5mb2N1cycsIGZvY3VzRWxlbWVudCk7XHJcblxyXG4gICRzY29wZS5rZXlkb3duID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICB2YXIga2V5ID0gJHNjb3BlLmtleXNbZXZ0LndoaWNoXTtcclxuXHJcbiAgICBpZiAoIWtleSB8fCBldnQuc2hpZnRLZXkgfHwgZXZ0LmFsdEtleSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBpZiAoIXNlbGYuc2hvcnRjdXRQcm9wYWdhdGlvbikge1xyXG4gICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGtleSA9PT0gJ2VudGVyJyB8fCBrZXkgPT09ICdzcGFjZScpIHtcclxuICAgICAgaWYgKHNlbGYuaXNEaXNhYmxlZChzZWxmLmFjdGl2ZURhdGUpKSB7XHJcbiAgICAgICAgcmV0dXJuOyAvLyBkbyBub3RoaW5nXHJcbiAgICAgIH1cclxuICAgICAgJHNjb3BlLnNlbGVjdChzZWxmLmFjdGl2ZURhdGUpO1xyXG4gICAgICBmb2N1c0VsZW1lbnQoKTtcclxuICAgIH0gZWxzZSBpZiAoZXZ0LmN0cmxLZXkgJiYgKGtleSA9PT0gJ3VwJyB8fCBrZXkgPT09ICdkb3duJykpIHtcclxuICAgICAgJHNjb3BlLnRvZ2dsZU1vZGUoa2V5ID09PSAndXAnID8gMSA6IC0xKTtcclxuICAgICAgZm9jdXNFbGVtZW50KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZWxmLmhhbmRsZUtleURvd24oa2V5LCBldnQpO1xyXG4gICAgICBzZWxmLnJlZnJlc2hWaWV3KCk7XHJcbiAgICB9XHJcbiAgfTtcclxufV0pXHJcblxyXG4uZGlyZWN0aXZlKCdkYXRlcGlja2VyJywgZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgcmVwbGFjZTogdHJ1ZSxcclxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xyXG4gICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sJztcclxuICAgIH0sXHJcbiAgICBzY29wZToge1xyXG4gICAgICBkYXRlcGlja2VyTW9kZTogJz0/JyxcclxuICAgICAgZGF0ZURpc2FibGVkOiAnJicsXHJcbiAgICAgIGN1c3RvbUNsYXNzOiAnJicsXHJcbiAgICAgIHNob3J0Y3V0UHJvcGFnYXRpb246ICcmPydcclxuICAgIH0sXHJcbiAgICByZXF1aXJlOiBbJ2RhdGVwaWNrZXInLCAnXm5nTW9kZWwnXSxcclxuICAgIGNvbnRyb2xsZXI6ICdEYXRlcGlja2VyQ29udHJvbGxlcicsXHJcbiAgICBjb250cm9sbGVyQXM6ICdkYXRlcGlja2VyJyxcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcclxuICAgICAgdmFyIGRhdGVwaWNrZXJDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XHJcblxyXG4gICAgICBkYXRlcGlja2VyQ3RybC5pbml0KG5nTW9kZWxDdHJsKTtcclxuICAgIH1cclxuICB9O1xyXG59KVxyXG5cclxuLmRpcmVjdGl2ZSgnZGF5cGlja2VyJywgWydkYXRlRmlsdGVyJywgZnVuY3Rpb24oZGF0ZUZpbHRlcikge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0VBJyxcclxuICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWwnLFxyXG4gICAgcmVxdWlyZTogJ15kYXRlcGlja2VyJyxcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xyXG4gICAgICBzY29wZS5zaG93V2Vla3MgPSBjdHJsLnNob3dXZWVrcztcclxuXHJcbiAgICAgIGN0cmwuc3RlcCA9IHsgbW9udGhzOiAxIH07XHJcbiAgICAgIGN0cmwuZWxlbWVudCA9IGVsZW1lbnQ7XHJcblxyXG4gICAgICB2YXIgREFZU19JTl9NT05USCA9IFszMSwgMjgsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXTtcclxuICAgICAgZnVuY3Rpb24gZ2V0RGF5c0luTW9udGgoeWVhciwgbW9udGgpIHtcclxuICAgICAgICByZXR1cm4gKChtb250aCA9PT0gMSkgJiYgKHllYXIgJSA0ID09PSAwKSAmJiAoKHllYXIgJSAxMDAgIT09IDApIHx8ICh5ZWFyICUgNDAwID09PSAwKSkpID8gMjkgOiBEQVlTX0lOX01PTlRIW21vbnRoXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gZ2V0RGF0ZXMoc3RhcnREYXRlLCBuKSB7XHJcbiAgICAgICAgdmFyIGRhdGVzID0gbmV3IEFycmF5KG4pLCBjdXJyZW50ID0gbmV3IERhdGUoc3RhcnREYXRlKSwgaSA9IDAsIGRhdGU7XHJcbiAgICAgICAgd2hpbGUgKGkgPCBuKSB7XHJcbiAgICAgICAgICBkYXRlID0gbmV3IERhdGUoY3VycmVudCk7XHJcbiAgICAgICAgICBjdHJsLmZpeFRpbWVab25lKGRhdGUpO1xyXG4gICAgICAgICAgZGF0ZXNbaSsrXSA9IGRhdGU7XHJcbiAgICAgICAgICBjdXJyZW50LnNldERhdGUoY3VycmVudC5nZXREYXRlKCkgKyAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRhdGVzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjdHJsLl9yZWZyZXNoVmlldyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB5ZWFyID0gY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksXHJcbiAgICAgICAgICBtb250aCA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpLFxyXG4gICAgICAgICAgZmlyc3REYXlPZk1vbnRoID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDEpLFxyXG4gICAgICAgICAgZGlmZmVyZW5jZSA9IGN0cmwuc3RhcnRpbmdEYXkgLSBmaXJzdERheU9mTW9udGguZ2V0RGF5KCksXHJcbiAgICAgICAgICBudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCA9IChkaWZmZXJlbmNlID4gMCkgPyA3IC0gZGlmZmVyZW5jZSA6IC0gZGlmZmVyZW5jZSxcclxuICAgICAgICAgIGZpcnN0RGF0ZSA9IG5ldyBEYXRlKGZpcnN0RGF5T2ZNb250aCk7XHJcblxyXG4gICAgICAgIGlmIChudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCA+IDApIHtcclxuICAgICAgICAgIGZpcnN0RGF0ZS5zZXREYXRlKC1udW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCArIDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gNDIgaXMgdGhlIG51bWJlciBvZiBkYXlzIG9uIGEgc2l4LW1vbnRoIGNhbGVuZGFyXHJcbiAgICAgICAgdmFyIGRheXMgPSBnZXREYXRlcyhmaXJzdERhdGUsIDQyKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQyOyBpICsrKSB7XHJcbiAgICAgICAgICBkYXlzW2ldID0gYW5ndWxhci5leHRlbmQoY3RybC5jcmVhdGVEYXRlT2JqZWN0KGRheXNbaV0sIGN0cmwuZm9ybWF0RGF5KSwge1xyXG4gICAgICAgICAgICBzZWNvbmRhcnk6IGRheXNbaV0uZ2V0TW9udGgoKSAhPT0gbW9udGgsXHJcbiAgICAgICAgICAgIHVpZDogc2NvcGUudW5pcXVlSWQgKyAnLScgKyBpXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNjb3BlLmxhYmVscyA9IG5ldyBBcnJheSg3KTtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDc7IGorKykge1xyXG4gICAgICAgICAgc2NvcGUubGFiZWxzW2pdID0ge1xyXG4gICAgICAgICAgICBhYmJyOiBkYXRlRmlsdGVyKGRheXNbal0uZGF0ZSwgY3RybC5mb3JtYXREYXlIZWFkZXIpLFxyXG4gICAgICAgICAgICBmdWxsOiBkYXRlRmlsdGVyKGRheXNbal0uZGF0ZSwgJ0VFRUUnKVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNjb3BlLnRpdGxlID0gZGF0ZUZpbHRlcihjdHJsLmFjdGl2ZURhdGUsIGN0cmwuZm9ybWF0RGF5VGl0bGUpO1xyXG4gICAgICAgIHNjb3BlLnJvd3MgPSBjdHJsLnNwbGl0KGRheXMsIDcpO1xyXG5cclxuICAgICAgICBpZiAoc2NvcGUuc2hvd1dlZWtzKSB7XHJcbiAgICAgICAgICBzY29wZS53ZWVrTnVtYmVycyA9IFtdO1xyXG4gICAgICAgICAgdmFyIHRodXJzZGF5SW5kZXggPSAoNCArIDcgLSBjdHJsLnN0YXJ0aW5nRGF5KSAlIDcsXHJcbiAgICAgICAgICAgICAgbnVtV2Vla3MgPSBzY29wZS5yb3dzLmxlbmd0aDtcclxuICAgICAgICAgIGZvciAodmFyIGN1cldlZWsgPSAwOyBjdXJXZWVrIDwgbnVtV2Vla3M7IGN1cldlZWsrKykge1xyXG4gICAgICAgICAgICBzY29wZS53ZWVrTnVtYmVycy5wdXNoKFxyXG4gICAgICAgICAgICAgIGdldElTTzg2MDFXZWVrTnVtYmVyKHNjb3BlLnJvd3NbY3VyV2Vla11bdGh1cnNkYXlJbmRleF0uZGF0ZSkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGN0cmwuY29tcGFyZSA9IGZ1bmN0aW9uKGRhdGUxLCBkYXRlMikge1xyXG4gICAgICAgIHJldHVybiAobmV3IERhdGUoZGF0ZTEuZ2V0RnVsbFllYXIoKSwgZGF0ZTEuZ2V0TW9udGgoKSwgZGF0ZTEuZ2V0RGF0ZSgpKSAtIG5ldyBEYXRlKGRhdGUyLmdldEZ1bGxZZWFyKCksIGRhdGUyLmdldE1vbnRoKCksIGRhdGUyLmdldERhdGUoKSkpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgZnVuY3Rpb24gZ2V0SVNPODYwMVdlZWtOdW1iZXIoZGF0ZSkge1xyXG4gICAgICAgIHZhciBjaGVja0RhdGUgPSBuZXcgRGF0ZShkYXRlKTtcclxuICAgICAgICBjaGVja0RhdGUuc2V0RGF0ZShjaGVja0RhdGUuZ2V0RGF0ZSgpICsgNCAtIChjaGVja0RhdGUuZ2V0RGF5KCkgfHwgNykpOyAvLyBUaHVyc2RheVxyXG4gICAgICAgIHZhciB0aW1lID0gY2hlY2tEYXRlLmdldFRpbWUoKTtcclxuICAgICAgICBjaGVja0RhdGUuc2V0TW9udGgoMCk7IC8vIENvbXBhcmUgd2l0aCBKYW4gMVxyXG4gICAgICAgIGNoZWNrRGF0ZS5zZXREYXRlKDEpO1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucm91bmQoKHRpbWUgLSBjaGVja0RhdGUpIC8gODY0MDAwMDApIC8gNykgKyAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjdHJsLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbihrZXksIGV2dCkge1xyXG4gICAgICAgIHZhciBkYXRlID0gY3RybC5hY3RpdmVEYXRlLmdldERhdGUoKTtcclxuXHJcbiAgICAgICAgaWYgKGtleSA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDE7ICAgLy8gdXBcclxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3VwJykge1xyXG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSA3OyAgIC8vIGRvd25cclxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyAxOyAgIC8vIGRvd25cclxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2Rvd24nKSB7XHJcbiAgICAgICAgICBkYXRlID0gZGF0ZSArIDc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdwYWdldXAnIHx8IGtleSA9PT0gJ3BhZ2Vkb3duJykge1xyXG4gICAgICAgICAgdmFyIG1vbnRoID0gY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCkgKyAoa2V5ID09PSAncGFnZXVwJyA/IC0gMSA6IDEpO1xyXG4gICAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldE1vbnRoKG1vbnRoLCAxKTtcclxuICAgICAgICAgIGRhdGUgPSBNYXRoLm1pbihnZXREYXlzSW5Nb250aChjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSwgY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCkpLCBkYXRlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2hvbWUnKSB7XHJcbiAgICAgICAgICBkYXRlID0gMTtcclxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2VuZCcpIHtcclxuICAgICAgICAgIGRhdGUgPSBnZXREYXlzSW5Nb250aChjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSwgY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdHJsLmFjdGl2ZURhdGUuc2V0RGF0ZShkYXRlKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGN0cmwucmVmcmVzaFZpZXcoKTtcclxuICAgIH1cclxuICB9O1xyXG59XSlcclxuXHJcbi5kaXJlY3RpdmUoJ21vbnRocGlja2VyJywgWydkYXRlRmlsdGVyJywgZnVuY3Rpb24oZGF0ZUZpbHRlcikge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0VBJyxcclxuICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIvbW9udGguaHRtbCcsXHJcbiAgICByZXF1aXJlOiAnXmRhdGVwaWNrZXInLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsKSB7XHJcbiAgICAgIGN0cmwuc3RlcCA9IHsgeWVhcnM6IDEgfTtcclxuICAgICAgY3RybC5lbGVtZW50ID0gZWxlbWVudDtcclxuXHJcbiAgICAgIGN0cmwuX3JlZnJlc2hWaWV3ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIG1vbnRocyA9IG5ldyBBcnJheSgxMiksXHJcbiAgICAgICAgICAgIHllYXIgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSxcclxuICAgICAgICAgICAgZGF0ZTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMjsgaSsrKSB7XHJcbiAgICAgICAgICBkYXRlID0gbmV3IERhdGUoeWVhciwgaSwgMSk7XHJcbiAgICAgICAgICBjdHJsLmZpeFRpbWVab25lKGRhdGUpO1xyXG4gICAgICAgICAgbW9udGhzW2ldID0gYW5ndWxhci5leHRlbmQoY3RybC5jcmVhdGVEYXRlT2JqZWN0KGRhdGUsIGN0cmwuZm9ybWF0TW9udGgpLCB7XHJcbiAgICAgICAgICAgIHVpZDogc2NvcGUudW5pcXVlSWQgKyAnLScgKyBpXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNjb3BlLnRpdGxlID0gZGF0ZUZpbHRlcihjdHJsLmFjdGl2ZURhdGUsIGN0cmwuZm9ybWF0TW9udGhUaXRsZSk7XHJcbiAgICAgICAgc2NvcGUucm93cyA9IGN0cmwuc3BsaXQobW9udGhzLCAzKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGN0cmwuY29tcGFyZSA9IGZ1bmN0aW9uKGRhdGUxLCBkYXRlMikge1xyXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlMS5nZXRGdWxsWWVhcigpLCBkYXRlMS5nZXRNb250aCgpKSAtIG5ldyBEYXRlKGRhdGUyLmdldEZ1bGxZZWFyKCksIGRhdGUyLmdldE1vbnRoKCkpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgY3RybC5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24oa2V5LCBldnQpIHtcclxuICAgICAgICB2YXIgZGF0ZSA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpO1xyXG5cclxuICAgICAgICBpZiAoa2V5ID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgIGRhdGUgPSBkYXRlIC0gMTsgICAvLyB1cFxyXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAndXAnKSB7XHJcbiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDM7ICAgLy8gZG93blxyXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICBkYXRlID0gZGF0ZSArIDE7ICAgLy8gZG93blxyXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZG93bicpIHtcclxuICAgICAgICAgIGRhdGUgPSBkYXRlICsgMztcclxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3BhZ2V1cCcgfHwga2V5ID09PSAncGFnZWRvd24nKSB7XHJcbiAgICAgICAgICB2YXIgeWVhciA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpICsgKGtleSA9PT0gJ3BhZ2V1cCcgPyAtIDEgOiAxKTtcclxuICAgICAgICAgIGN0cmwuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcih5ZWFyKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2hvbWUnKSB7XHJcbiAgICAgICAgICBkYXRlID0gMDtcclxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2VuZCcpIHtcclxuICAgICAgICAgIGRhdGUgPSAxMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldE1vbnRoKGRhdGUpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgY3RybC5yZWZyZXNoVmlldygpO1xyXG4gICAgfVxyXG4gIH07XHJcbn1dKVxyXG5cclxuLmRpcmVjdGl2ZSgneWVhcnBpY2tlcicsIFsnZGF0ZUZpbHRlcicsIGZ1bmN0aW9uKGRhdGVGaWx0ZXIpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdFQScsXHJcbiAgICByZXBsYWNlOiB0cnVlLFxyXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbCcsXHJcbiAgICByZXF1aXJlOiAnXmRhdGVwaWNrZXInLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsKSB7XHJcbiAgICAgIHZhciByYW5nZSA9IGN0cmwueWVhclJhbmdlO1xyXG5cclxuICAgICAgY3RybC5zdGVwID0geyB5ZWFyczogcmFuZ2UgfTtcclxuICAgICAgY3RybC5lbGVtZW50ID0gZWxlbWVudDtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIGdldFN0YXJ0aW5nWWVhciggeWVhciApIHtcclxuICAgICAgICByZXR1cm4gcGFyc2VJbnQoKHllYXIgLSAxKSAvIHJhbmdlLCAxMCkgKiByYW5nZSArIDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGN0cmwuX3JlZnJlc2hWaWV3ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHllYXJzID0gbmV3IEFycmF5KHJhbmdlKSwgZGF0ZTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHN0YXJ0ID0gZ2V0U3RhcnRpbmdZZWFyKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpKTsgaSA8IHJhbmdlOyBpKyspIHtcclxuICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZShzdGFydCArIGksIDAsIDEpO1xyXG4gICAgICAgICAgY3RybC5maXhUaW1lWm9uZShkYXRlKTtcclxuICAgICAgICAgIHllYXJzW2ldID0gYW5ndWxhci5leHRlbmQoY3RybC5jcmVhdGVEYXRlT2JqZWN0KGRhdGUsIGN0cmwuZm9ybWF0WWVhciksIHtcclxuICAgICAgICAgICAgdWlkOiBzY29wZS51bmlxdWVJZCArICctJyArIGlcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2NvcGUudGl0bGUgPSBbeWVhcnNbMF0ubGFiZWwsIHllYXJzW3JhbmdlIC0gMV0ubGFiZWxdLmpvaW4oJyAtICcpO1xyXG4gICAgICAgIHNjb3BlLnJvd3MgPSBjdHJsLnNwbGl0KHllYXJzLCA1KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGN0cmwuY29tcGFyZSA9IGZ1bmN0aW9uKGRhdGUxLCBkYXRlMikge1xyXG4gICAgICAgIHJldHVybiBkYXRlMS5nZXRGdWxsWWVhcigpIC0gZGF0ZTIuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGN0cmwuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uKGtleSwgZXZ0KSB7XHJcbiAgICAgICAgdmFyIGRhdGUgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKTtcclxuXHJcbiAgICAgICAgaWYgKGtleSA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDE7ICAgLy8gdXBcclxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3VwJykge1xyXG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSA1OyAgIC8vIGRvd25cclxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyAxOyAgIC8vIGRvd25cclxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2Rvd24nKSB7XHJcbiAgICAgICAgICBkYXRlID0gZGF0ZSArIDU7XHJcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdwYWdldXAnIHx8IGtleSA9PT0gJ3BhZ2Vkb3duJykge1xyXG4gICAgICAgICAgZGF0ZSArPSAoa2V5ID09PSAncGFnZXVwJyA/IC0gMSA6IDEpICogY3RybC5zdGVwLnllYXJzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnaG9tZScpIHtcclxuICAgICAgICAgIGRhdGUgPSBnZXRTdGFydGluZ1llYXIoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZW5kJykge1xyXG4gICAgICAgICAgZGF0ZSA9IGdldFN0YXJ0aW5nWWVhcihjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSkgKyByYW5nZSAtIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN0cmwuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcihkYXRlKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGN0cmwucmVmcmVzaFZpZXcoKTtcclxuICAgIH1cclxuICB9O1xyXG59XSlcclxuXHJcbi5jb25zdGFudCgnZGF0ZXBpY2tlclBvcHVwQ29uZmlnJywge1xyXG4gIGRhdGVwaWNrZXJQb3B1cDogJ3l5eXktTU0tZGQnLFxyXG4gIGRhdGVwaWNrZXJQb3B1cFRlbXBsYXRlVXJsOiAndGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sJyxcclxuICBkYXRlcGlja2VyVGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbCcsXHJcbiAgaHRtbDVUeXBlczoge1xyXG4gICAgZGF0ZTogJ3l5eXktTU0tZGQnLFxyXG4gICAgJ2RhdGV0aW1lLWxvY2FsJzogJ3l5eXktTU0tZGRUSEg6bW06c3Muc3NzJyxcclxuICAgICdtb250aCc6ICd5eXl5LU1NJ1xyXG4gIH0sXHJcbiAgY3VycmVudFRleHQ6ICdUb2RheScsXHJcbiAgY2xlYXJUZXh0OiAnQ2xlYXInLFxyXG4gIGNsb3NlVGV4dDogJ0RvbmUnLFxyXG4gIGNsb3NlT25EYXRlU2VsZWN0aW9uOiB0cnVlLFxyXG4gIGFwcGVuZFRvQm9keTogZmFsc2UsXHJcbiAgc2hvd0J1dHRvbkJhcjogdHJ1ZSxcclxuICBvbk9wZW5Gb2N1czogdHJ1ZVxyXG59KVxyXG5cclxuLmRpcmVjdGl2ZSgnZGF0ZXBpY2tlclBvcHVwJywgWyckY29tcGlsZScsICckcGFyc2UnLCAnJGRvY3VtZW50JywgJyRyb290U2NvcGUnLCAnJHBvc2l0aW9uJywgJ2RhdGVGaWx0ZXInLCAnZGF0ZVBhcnNlcicsICdkYXRlcGlja2VyUG9wdXBDb25maWcnLCAnJHRpbWVvdXQnLFxyXG5mdW5jdGlvbigkY29tcGlsZSwgJHBhcnNlLCAkZG9jdW1lbnQsICRyb290U2NvcGUsICRwb3NpdGlvbiwgZGF0ZUZpbHRlciwgZGF0ZVBhcnNlciwgZGF0ZXBpY2tlclBvcHVwQ29uZmlnLCAkdGltZW91dCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0VBJyxcclxuICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcclxuICAgIHNjb3BlOiB7XHJcbiAgICAgIGlzT3BlbjogJz0/JyxcclxuICAgICAgY3VycmVudFRleHQ6ICdAJyxcclxuICAgICAgY2xlYXJUZXh0OiAnQCcsXHJcbiAgICAgIGNsb3NlVGV4dDogJ0AnLFxyXG4gICAgICBkYXRlRGlzYWJsZWQ6ICcmJyxcclxuICAgICAgY3VzdG9tQ2xhc3M6ICcmJ1xyXG4gICAgfSxcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xyXG4gICAgICB2YXIgZGF0ZUZvcm1hdCxcclxuICAgICAgICAgIGNsb3NlT25EYXRlU2VsZWN0aW9uID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuY2xvc2VPbkRhdGVTZWxlY3Rpb24pID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5jbG9zZU9uRGF0ZVNlbGVjdGlvbikgOiBkYXRlcGlja2VyUG9wdXBDb25maWcuY2xvc2VPbkRhdGVTZWxlY3Rpb24sXHJcbiAgICAgICAgICBhcHBlbmRUb0JvZHkgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kYXRlcGlja2VyQXBwZW5kVG9Cb2R5KSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuZGF0ZXBpY2tlckFwcGVuZFRvQm9keSkgOiBkYXRlcGlja2VyUG9wdXBDb25maWcuYXBwZW5kVG9Cb2R5LFxyXG4gICAgICAgICAgb25PcGVuRm9jdXMgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5vbk9wZW5Gb2N1cykgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLm9uT3BlbkZvY3VzKSA6IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5vbk9wZW5Gb2N1cyxcclxuICAgICAgICAgIGRhdGVwaWNrZXJQb3B1cFRlbXBsYXRlVXJsID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuZGF0ZXBpY2tlclBvcHVwVGVtcGxhdGVVcmwpID8gYXR0cnMuZGF0ZXBpY2tlclBvcHVwVGVtcGxhdGVVcmwgOiBkYXRlcGlja2VyUG9wdXBDb25maWcuZGF0ZXBpY2tlclBvcHVwVGVtcGxhdGVVcmwsXHJcbiAgICAgICAgICBkYXRlcGlja2VyVGVtcGxhdGVVcmwgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kYXRlcGlja2VyVGVtcGxhdGVVcmwpID8gYXR0cnMuZGF0ZXBpY2tlclRlbXBsYXRlVXJsIDogZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmRhdGVwaWNrZXJUZW1wbGF0ZVVybCxcclxuICAgICAgICAgIGNhY2hlID0ge307XHJcblxyXG4gICAgICBzY29wZS5zaG93QnV0dG9uQmFyID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuc2hvd0J1dHRvbkJhcikgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLnNob3dCdXR0b25CYXIpIDogZGF0ZXBpY2tlclBvcHVwQ29uZmlnLnNob3dCdXR0b25CYXI7XHJcblxyXG4gICAgICBzY29wZS5nZXRUZXh0ID0gZnVuY3Rpb24oa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHNjb3BlW2tleSArICdUZXh0J10gfHwgZGF0ZXBpY2tlclBvcHVwQ29uZmlnW2tleSArICdUZXh0J107XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBzY29wZS5pc0Rpc2FibGVkID0gZnVuY3Rpb24oZGF0ZSkge1xyXG4gICAgICAgIGlmIChkYXRlID09PSAndG9kYXknKSB7XHJcbiAgICAgICAgICBkYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAoKHNjb3BlLndhdGNoRGF0YS5taW5EYXRlICYmIHNjb3BlLmNvbXBhcmUoZGF0ZSwgY2FjaGUubWluRGF0ZSkgPCAwKSB8fFxyXG4gICAgICAgICAgKHNjb3BlLndhdGNoRGF0YS5tYXhEYXRlICYmIHNjb3BlLmNvbXBhcmUoZGF0ZSwgY2FjaGUubWF4RGF0ZSkgPiAwKSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBzY29wZS5jb21wYXJlID0gZnVuY3Rpb24oZGF0ZTEsIGRhdGUyKSB7XHJcbiAgICAgICAgcmV0dXJuIChuZXcgRGF0ZShkYXRlMS5nZXRGdWxsWWVhcigpLCBkYXRlMS5nZXRNb250aCgpLCBkYXRlMS5nZXREYXRlKCkpIC0gbmV3IERhdGUoZGF0ZTIuZ2V0RnVsbFllYXIoKSwgZGF0ZTIuZ2V0TW9udGgoKSwgZGF0ZTIuZ2V0RGF0ZSgpKSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2YXIgaXNIdG1sNURhdGVJbnB1dCA9IGZhbHNlO1xyXG4gICAgICBpZiAoZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmh0bWw1VHlwZXNbYXR0cnMudHlwZV0pIHtcclxuICAgICAgICBkYXRlRm9ybWF0ID0gZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmh0bWw1VHlwZXNbYXR0cnMudHlwZV07XHJcbiAgICAgICAgaXNIdG1sNURhdGVJbnB1dCA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGF0ZUZvcm1hdCA9IGF0dHJzLmRhdGVwaWNrZXJQb3B1cCB8fCBkYXRlcGlja2VyUG9wdXBDb25maWcuZGF0ZXBpY2tlclBvcHVwO1xyXG4gICAgICAgIGF0dHJzLiRvYnNlcnZlKCdkYXRlcGlja2VyUG9wdXAnLCBmdW5jdGlvbih2YWx1ZSwgb2xkVmFsdWUpIHtcclxuICAgICAgICAgICAgdmFyIG5ld0RhdGVGb3JtYXQgPSB2YWx1ZSB8fCBkYXRlcGlja2VyUG9wdXBDb25maWcuZGF0ZXBpY2tlclBvcHVwO1xyXG4gICAgICAgICAgICAvLyBJbnZhbGlkYXRlIHRoZSAkbW9kZWxWYWx1ZSB0byBlbnN1cmUgdGhhdCBmb3JtYXR0ZXJzIHJlLXJ1blxyXG4gICAgICAgICAgICAvLyBGSVhNRTogUmVmYWN0b3Igd2hlbiBQUiBpcyBtZXJnZWQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvcHVsbC8xMDc2NFxyXG4gICAgICAgICAgICBpZiAobmV3RGF0ZUZvcm1hdCAhPT0gZGF0ZUZvcm1hdCkge1xyXG4gICAgICAgICAgICAgIGRhdGVGb3JtYXQgPSBuZXdEYXRlRm9ybWF0O1xyXG4gICAgICAgICAgICAgIG5nTW9kZWwuJG1vZGVsVmFsdWUgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICBpZiAoIWRhdGVGb3JtYXQpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZGF0ZXBpY2tlclBvcHVwIG11c3QgaGF2ZSBhIGRhdGUgZm9ybWF0IHNwZWNpZmllZC4nKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFkYXRlRm9ybWF0KSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdkYXRlcGlja2VyUG9wdXAgbXVzdCBoYXZlIGEgZGF0ZSBmb3JtYXQgc3BlY2lmaWVkLicpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaXNIdG1sNURhdGVJbnB1dCAmJiBhdHRycy5kYXRlcGlja2VyUG9wdXApIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0hUTUw1IGRhdGUgaW5wdXQgdHlwZXMgZG8gbm90IHN1cHBvcnQgY3VzdG9tIGZvcm1hdHMuJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHBvcHVwIGVsZW1lbnQgdXNlZCB0byBkaXNwbGF5IGNhbGVuZGFyXHJcbiAgICAgIHZhciBwb3B1cEVsID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IGRhdGVwaWNrZXItcG9wdXAtd3JhcD48ZGl2IGRhdGVwaWNrZXI+PC9kaXY+PC9kaXY+Jyk7XHJcbiAgICAgIHBvcHVwRWwuYXR0cih7XHJcbiAgICAgICAgJ25nLW1vZGVsJzogJ2RhdGUnLFxyXG4gICAgICAgICduZy1jaGFuZ2UnOiAnZGF0ZVNlbGVjdGlvbihkYXRlKScsXHJcbiAgICAgICAgJ3RlbXBsYXRlLXVybCc6IGRhdGVwaWNrZXJQb3B1cFRlbXBsYXRlVXJsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZnVuY3Rpb24gY2FtZWx0b0Rhc2goc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oW0EtWl0pL2csIGZ1bmN0aW9uKCQxKSB7IHJldHVybiAnLScgKyAkMS50b0xvd2VyQ2FzZSgpOyB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gZGF0ZXBpY2tlciBlbGVtZW50XHJcbiAgICAgIHZhciBkYXRlcGlja2VyRWwgPSBhbmd1bGFyLmVsZW1lbnQocG9wdXBFbC5jaGlsZHJlbigpWzBdKTtcclxuICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoJ3RlbXBsYXRlLXVybCcsIGRhdGVwaWNrZXJUZW1wbGF0ZVVybCk7XHJcblxyXG4gICAgICBpZiAoaXNIdG1sNURhdGVJbnB1dCkge1xyXG4gICAgICAgIGlmIChhdHRycy50eXBlID09PSAnbW9udGgnKSB7XHJcbiAgICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignZGF0ZXBpY2tlci1tb2RlJywgJ1wibW9udGhcIicpO1xyXG4gICAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoJ21pbi1tb2RlJywgJ21vbnRoJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoYXR0cnMuZGF0ZXBpY2tlck9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgb3B0aW9ucyA9IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuZGF0ZXBpY2tlck9wdGlvbnMpO1xyXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaW5pdERhdGUpIHtcclxuICAgICAgICAgIHNjb3BlLmluaXREYXRlID0gb3B0aW9ucy5pbml0RGF0ZTtcclxuICAgICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCdpbml0LWRhdGUnLCAnaW5pdERhdGUnKTtcclxuICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmluaXREYXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhbmd1bGFyLmZvckVhY2gob3B0aW9ucywgZnVuY3Rpb24odmFsdWUsIG9wdGlvbikge1xyXG4gICAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoIGNhbWVsdG9EYXNoKG9wdGlvbiksIHZhbHVlICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNjb3BlLndhdGNoRGF0YSA9IHt9O1xyXG4gICAgICBhbmd1bGFyLmZvckVhY2goWydtaW5Nb2RlJywgJ21heE1vZGUnLCAnbWluRGF0ZScsICdtYXhEYXRlJywgJ2RhdGVwaWNrZXJNb2RlJywgJ2luaXREYXRlJywgJ3Nob3J0Y3V0UHJvcGFnYXRpb24nXSwgZnVuY3Rpb24oa2V5KSB7XHJcbiAgICAgICAgaWYgKGF0dHJzW2tleV0pIHtcclxuICAgICAgICAgIHZhciBnZXRBdHRyaWJ1dGUgPSAkcGFyc2UoYXR0cnNba2V5XSk7XHJcbiAgICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaChnZXRBdHRyaWJ1dGUsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHNjb3BlLndhdGNoRGF0YVtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdtaW5EYXRlJyB8fCBrZXkgPT09ICdtYXhEYXRlJykge1xyXG4gICAgICAgICAgICAgIGNhY2hlW2tleV0gPSBuZXcgRGF0ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoY2FtZWx0b0Rhc2goa2V5KSwgJ3dhdGNoRGF0YS4nICsga2V5KTtcclxuXHJcbiAgICAgICAgICAvLyBQcm9wYWdhdGUgY2hhbmdlcyBmcm9tIGRhdGVwaWNrZXIgdG8gb3V0c2lkZVxyXG4gICAgICAgICAgaWYgKGtleSA9PT0gJ2RhdGVwaWNrZXJNb2RlJykge1xyXG4gICAgICAgICAgICB2YXIgc2V0QXR0cmlidXRlID0gZ2V0QXR0cmlidXRlLmFzc2lnbjtcclxuICAgICAgICAgICAgc2NvcGUuJHdhdGNoKCd3YXRjaERhdGEuJyArIGtleSwgZnVuY3Rpb24odmFsdWUsIG9sZHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihzZXRBdHRyaWJ1dGUpICYmIHZhbHVlICE9PSBvbGR2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgc2V0QXR0cmlidXRlKHNjb3BlLiRwYXJlbnQsIHZhbHVlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGlmIChhdHRycy5kYXRlRGlzYWJsZWQpIHtcclxuICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignZGF0ZS1kaXNhYmxlZCcsICdkYXRlRGlzYWJsZWQoeyBkYXRlOiBkYXRlLCBtb2RlOiBtb2RlIH0pJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChhdHRycy5zaG93V2Vla3MpIHtcclxuICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignc2hvdy13ZWVrcycsIGF0dHJzLnNob3dXZWVrcyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChhdHRycy5jdXN0b21DbGFzcykge1xyXG4gICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCdjdXN0b20tY2xhc3MnLCAnY3VzdG9tQ2xhc3MoeyBkYXRlOiBkYXRlLCBtb2RlOiBtb2RlIH0pJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHBhcnNlRGF0ZSh2aWV3VmFsdWUpIHtcclxuICAgICAgICBpZiAoYW5ndWxhci5pc051bWJlcih2aWV3VmFsdWUpKSB7XHJcbiAgICAgICAgICAvLyBwcmVzdW1hYmx5IHRpbWVzdGFtcCB0byBkYXRlIG9iamVjdFxyXG4gICAgICAgICAgdmlld1ZhbHVlID0gbmV3IERhdGUodmlld1ZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdmlld1ZhbHVlKSB7XHJcbiAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNEYXRlKHZpZXdWYWx1ZSkgJiYgIWlzTmFOKHZpZXdWYWx1ZSkpIHtcclxuICAgICAgICAgIHJldHVybiB2aWV3VmFsdWU7XHJcbiAgICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKHZpZXdWYWx1ZSkpIHtcclxuICAgICAgICAgIHZhciBkYXRlID0gZGF0ZVBhcnNlci5wYXJzZSh2aWV3VmFsdWUsIGRhdGVGb3JtYXQsIHNjb3BlLmRhdGUpO1xyXG4gICAgICAgICAgaWYgKGlzTmFOKGRhdGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHZhbGlkYXRvcihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKCFhdHRycy5uZ1JlcXVpcmVkICYmICF2YWx1ZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYW5ndWxhci5pc051bWJlcih2YWx1ZSkpIHtcclxuICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNEYXRlKHZhbHVlKSAmJiAhaXNOYU4odmFsdWUpKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNTdHJpbmcodmFsdWUpKSB7XHJcbiAgICAgICAgICB2YXIgZGF0ZSA9IGRhdGVQYXJzZXIucGFyc2UodmFsdWUsIGRhdGVGb3JtYXQpO1xyXG4gICAgICAgICAgcmV0dXJuICFpc05hTihkYXRlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFpc0h0bWw1RGF0ZUlucHV0KSB7XHJcbiAgICAgICAgLy8gSW50ZXJuYWwgQVBJIHRvIG1haW50YWluIHRoZSBjb3JyZWN0IG5nLWludmFsaWQtW2tleV0gY2xhc3NcclxuICAgICAgICBuZ01vZGVsLiQkcGFyc2VyTmFtZSA9ICdkYXRlJztcclxuICAgICAgICBuZ01vZGVsLiR2YWxpZGF0b3JzLmRhdGUgPSB2YWxpZGF0b3I7XHJcbiAgICAgICAgbmdNb2RlbC4kcGFyc2Vycy51bnNoaWZ0KHBhcnNlRGF0ZSk7XHJcbiAgICAgICAgbmdNb2RlbC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICBzY29wZS5kYXRlID0gdmFsdWU7XHJcbiAgICAgICAgICByZXR1cm4gbmdNb2RlbC4kaXNFbXB0eSh2YWx1ZSkgPyB2YWx1ZSA6IGRhdGVGaWx0ZXIodmFsdWUsIGRhdGVGb3JtYXQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG5nTW9kZWwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgc2NvcGUuZGF0ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJbm5lciBjaGFuZ2VcclxuICAgICAgc2NvcGUuZGF0ZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKGR0KSB7XHJcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGR0KSkge1xyXG4gICAgICAgICAgc2NvcGUuZGF0ZSA9IGR0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZGF0ZSA9IHNjb3BlLmRhdGUgPyBkYXRlRmlsdGVyKHNjb3BlLmRhdGUsIGRhdGVGb3JtYXQpIDogbnVsbDsgLy8gU2V0dGluZyB0byBOVUxMIGlzIG5lY2Vzc2FyeSBmb3IgZm9ybSB2YWxpZGF0b3JzIHRvIGZ1bmN0aW9uXHJcbiAgICAgICAgZWxlbWVudC52YWwoZGF0ZSk7XHJcbiAgICAgICAgbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKGRhdGUpO1xyXG5cclxuICAgICAgICBpZiAoY2xvc2VPbkRhdGVTZWxlY3Rpb24pIHtcclxuICAgICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgZWxlbWVudFswXS5mb2N1cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIERldGVjdCBjaGFuZ2VzIGluIHRoZSB2aWV3IGZyb20gdGhlIHRleHQgYm94XHJcbiAgICAgIG5nTW9kZWwuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMucHVzaChmdW5jdGlvbigpIHtcclxuICAgICAgICBzY29wZS5kYXRlID0gZGF0ZVBhcnNlci5wYXJzZShuZ01vZGVsLiR2aWV3VmFsdWUsIGRhdGVGb3JtYXQsIHNjb3BlLmRhdGUpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHZhciBkb2N1bWVudENsaWNrQmluZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHNjb3BlLmlzT3BlbiAmJiAhKGVsZW1lbnRbMF0uY29udGFpbnMoZXZlbnQudGFyZ2V0KSB8fCBwb3B1cEVsWzBdLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpKSB7XHJcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdmFyIGlucHV0S2V5ZG93bkJpbmQgPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICBpZiAoZXZ0LndoaWNoID09PSAyNyAmJiBzY29wZS5pc09wZW4pIHtcclxuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgZWxlbWVudFswXS5mb2N1cygpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZXZ0LndoaWNoID09PSA0MCAmJiAhc2NvcGUuaXNPcGVuKSB7XHJcbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2NvcGUuaXNPcGVuID0gdHJ1ZTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgZWxlbWVudC5iaW5kKCdrZXlkb3duJywgaW5wdXRLZXlkb3duQmluZCk7XHJcblxyXG4gICAgICBzY29wZS5rZXlkb3duID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgaWYgKGV2dC53aGljaCA9PT0gMjcpIHtcclxuICAgICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgZWxlbWVudFswXS5mb2N1cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHNjb3BlLiR3YXRjaCgnaXNPcGVuJywgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgIHNjb3BlLnBvc2l0aW9uID0gYXBwZW5kVG9Cb2R5ID8gJHBvc2l0aW9uLm9mZnNldChlbGVtZW50KSA6ICRwb3NpdGlvbi5wb3NpdGlvbihlbGVtZW50KTtcclxuICAgICAgICAgIHNjb3BlLnBvc2l0aW9uLnRvcCA9IHNjb3BlLnBvc2l0aW9uLnRvcCArIGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0Jyk7XHJcblxyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmIChvbk9wZW5Gb2N1cykge1xyXG4gICAgICAgICAgICAgIHNjb3BlLiRicm9hZGNhc3QoJ2RhdGVwaWNrZXIuZm9jdXMnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkZG9jdW1lbnQuYmluZCgnY2xpY2snLCBkb2N1bWVudENsaWNrQmluZCk7XHJcbiAgICAgICAgICB9LCAwLCBmYWxzZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICRkb2N1bWVudC51bmJpbmQoJ2NsaWNrJywgZG9jdW1lbnRDbGlja0JpbmQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBzY29wZS5zZWxlY3QgPSBmdW5jdGlvbihkYXRlKSB7XHJcbiAgICAgICAgaWYgKGRhdGUgPT09ICd0b2RheScpIHtcclxuICAgICAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICBpZiAoYW5ndWxhci5pc0RhdGUoc2NvcGUuZGF0ZSkpIHtcclxuICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKHNjb3BlLmRhdGUpO1xyXG4gICAgICAgICAgICBkYXRlLnNldEZ1bGxZZWFyKHRvZGF5LmdldEZ1bGxZZWFyKCksIHRvZGF5LmdldE1vbnRoKCksIHRvZGF5LmdldERhdGUoKSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUodG9kYXkuc2V0SG91cnMoMCwgMCwgMCwgMCkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzY29wZS5kYXRlU2VsZWN0aW9uKGRhdGUpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgc2NvcGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcclxuICAgICAgICBlbGVtZW50WzBdLmZvY3VzKCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2YXIgJHBvcHVwID0gJGNvbXBpbGUocG9wdXBFbCkoc2NvcGUpO1xyXG4gICAgICAvLyBQcmV2ZW50IGpRdWVyeSBjYWNoZSBtZW1vcnkgbGVhayAodGVtcGxhdGUgaXMgbm93IHJlZHVuZGFudCBhZnRlciBsaW5raW5nKVxyXG4gICAgICBwb3B1cEVsLnJlbW92ZSgpO1xyXG5cclxuICAgICAgaWYgKGFwcGVuZFRvQm9keSkge1xyXG4gICAgICAgICRkb2N1bWVudC5maW5kKCdib2R5JykuYXBwZW5kKCRwb3B1cCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZWxlbWVudC5hZnRlcigkcG9wdXApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHNjb3BlLmlzT3BlbiA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgaWYgKCEkcm9vdFNjb3BlLiQkcGhhc2UpIHtcclxuICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRwb3B1cC5yZW1vdmUoKTtcclxuICAgICAgICBlbGVtZW50LnVuYmluZCgna2V5ZG93bicsIGlucHV0S2V5ZG93bkJpbmQpO1xyXG4gICAgICAgICRkb2N1bWVudC51bmJpbmQoJ2NsaWNrJywgZG9jdW1lbnRDbGlja0JpbmQpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59XSlcclxuXHJcbi5kaXJlY3RpdmUoJ2RhdGVwaWNrZXJQb3B1cFdyYXAnLCBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6J0VBJyxcclxuICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxyXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sJztcclxuICAgIH1cclxuICB9O1xyXG59KTtcclxuXHJcbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuZHJvcGRvd24nLCBbJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbiddKVxyXG5cclxuLmNvbnN0YW50KCdkcm9wZG93bkNvbmZpZycsIHtcclxuICBvcGVuQ2xhc3M6ICdvcGVuJ1xyXG59KVxyXG5cclxuLnNlcnZpY2UoJ2Ryb3Bkb3duU2VydmljZScsIFsnJGRvY3VtZW50JywgJyRyb290U2NvcGUnLCBmdW5jdGlvbigkZG9jdW1lbnQsICRyb290U2NvcGUpIHtcclxuICB2YXIgb3BlblNjb3BlID0gbnVsbDtcclxuXHJcbiAgdGhpcy5vcGVuID0gZnVuY3Rpb24oZHJvcGRvd25TY29wZSkge1xyXG4gICAgaWYgKCFvcGVuU2NvcGUpIHtcclxuICAgICAgJGRvY3VtZW50LmJpbmQoJ2NsaWNrJywgY2xvc2VEcm9wZG93bik7XHJcbiAgICAgICRkb2N1bWVudC5iaW5kKCdrZXlkb3duJywga2V5YmluZEZpbHRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9wZW5TY29wZSAmJiBvcGVuU2NvcGUgIT09IGRyb3Bkb3duU2NvcGUpIHtcclxuICAgICAgb3BlblNjb3BlLmlzT3BlbiA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW5TY29wZSA9IGRyb3Bkb3duU2NvcGU7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5jbG9zZSA9IGZ1bmN0aW9uKGRyb3Bkb3duU2NvcGUpIHtcclxuICAgIGlmIChvcGVuU2NvcGUgPT09IGRyb3Bkb3duU2NvcGUpIHtcclxuICAgICAgb3BlblNjb3BlID0gbnVsbDtcclxuICAgICAgJGRvY3VtZW50LnVuYmluZCgnY2xpY2snLCBjbG9zZURyb3Bkb3duKTtcclxuICAgICAgJGRvY3VtZW50LnVuYmluZCgna2V5ZG93bicsIGtleWJpbmRGaWx0ZXIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHZhciBjbG9zZURyb3Bkb3duID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAvLyBUaGlzIG1ldGhvZCBtYXkgc3RpbGwgYmUgY2FsbGVkIGR1cmluZyB0aGUgc2FtZSBtb3VzZSBldmVudCB0aGF0XHJcbiAgICAvLyB1bmJvdW5kIHRoaXMgZXZlbnQgaGFuZGxlci4gU28gY2hlY2sgb3BlblNjb3BlIGJlZm9yZSBwcm9jZWVkaW5nLlxyXG4gICAgaWYgKCFvcGVuU2NvcGUpIHsgcmV0dXJuOyB9XHJcblxyXG4gICAgaWYgKGV2dCAmJiBvcGVuU2NvcGUuZ2V0QXV0b0Nsb3NlKCkgPT09ICdkaXNhYmxlZCcpICB7IHJldHVybiA7IH1cclxuXHJcbiAgICB2YXIgdG9nZ2xlRWxlbWVudCA9IG9wZW5TY29wZS5nZXRUb2dnbGVFbGVtZW50KCk7XHJcbiAgICBpZiAoZXZ0ICYmIHRvZ2dsZUVsZW1lbnQgJiYgdG9nZ2xlRWxlbWVudFswXS5jb250YWlucyhldnQudGFyZ2V0KSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGRyb3Bkb3duRWxlbWVudCA9IG9wZW5TY29wZS5nZXREcm9wZG93bkVsZW1lbnQoKTtcclxuICAgIGlmIChldnQgJiYgb3BlblNjb3BlLmdldEF1dG9DbG9zZSgpID09PSAnb3V0c2lkZUNsaWNrJyAmJlxyXG4gICAgICBkcm9wZG93bkVsZW1lbnQgJiYgZHJvcGRvd25FbGVtZW50WzBdLmNvbnRhaW5zKGV2dC50YXJnZXQpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuU2NvcGUuaXNPcGVuID0gZmFsc2U7XHJcblxyXG4gICAgaWYgKCEkcm9vdFNjb3BlLiQkcGhhc2UpIHtcclxuICAgICAgb3BlblNjb3BlLiRhcHBseSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHZhciBrZXliaW5kRmlsdGVyID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LndoaWNoID09PSAyNykge1xyXG4gICAgICBvcGVuU2NvcGUuZm9jdXNUb2dnbGVFbGVtZW50KCk7XHJcbiAgICAgIGNsb3NlRHJvcGRvd24oKTtcclxuICAgIH0gZWxzZSBpZiAob3BlblNjb3BlLmlzS2V5bmF2RW5hYmxlZCgpICYmIC8oMzh8NDApLy50ZXN0KGV2dC53aGljaCkgJiYgb3BlblNjb3BlLmlzT3Blbikge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICBvcGVuU2NvcGUuZm9jdXNEcm9wZG93bkVudHJ5KGV2dC53aGljaCk7XHJcbiAgICB9XHJcbiAgfTtcclxufV0pXHJcblxyXG4uY29udHJvbGxlcignRHJvcGRvd25Db250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJyRwYXJzZScsICdkcm9wZG93bkNvbmZpZycsICdkcm9wZG93blNlcnZpY2UnLCAnJGFuaW1hdGUnLCAnJHBvc2l0aW9uJywgJyRkb2N1bWVudCcsICckY29tcGlsZScsICckdGVtcGxhdGVSZXF1ZXN0JywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsICRwYXJzZSwgZHJvcGRvd25Db25maWcsIGRyb3Bkb3duU2VydmljZSwgJGFuaW1hdGUsICRwb3NpdGlvbiwgJGRvY3VtZW50LCAkY29tcGlsZSwgJHRlbXBsYXRlUmVxdWVzdCkge1xyXG4gIHZhciBzZWxmID0gdGhpcyxcclxuICAgIHNjb3BlID0gJHNjb3BlLiRuZXcoKSwgLy8gY3JlYXRlIGEgY2hpbGQgc2NvcGUgc28gd2UgYXJlIG5vdCBwb2xsdXRpbmcgb3JpZ2luYWwgb25lXHJcbiAgICB0ZW1wbGF0ZVNjb3BlLFxyXG4gICAgb3BlbkNsYXNzID0gZHJvcGRvd25Db25maWcub3BlbkNsYXNzLFxyXG4gICAgZ2V0SXNPcGVuLFxyXG4gICAgc2V0SXNPcGVuID0gYW5ndWxhci5ub29wLFxyXG4gICAgdG9nZ2xlSW52b2tlciA9ICRhdHRycy5vblRvZ2dsZSA/ICRwYXJzZSgkYXR0cnMub25Ub2dnbGUpIDogYW5ndWxhci5ub29wLFxyXG4gICAgYXBwZW5kVG9Cb2R5ID0gZmFsc2UsXHJcbiAgICBrZXluYXZFbmFibGVkID0gZmFsc2UsXHJcbiAgICBzZWxlY3RlZE9wdGlvbiA9IG51bGwsXHJcbiAgICBib2R5ID0gJGRvY3VtZW50LmZpbmQoJ2JvZHknKTtcclxuXHJcbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgc2VsZi4kZWxlbWVudCA9IGVsZW1lbnQ7XHJcblxyXG4gICAgaWYgKCRhdHRycy5pc09wZW4pIHtcclxuICAgICAgZ2V0SXNPcGVuID0gJHBhcnNlKCRhdHRycy5pc09wZW4pO1xyXG4gICAgICBzZXRJc09wZW4gPSBnZXRJc09wZW4uYXNzaWduO1xyXG5cclxuICAgICAgJHNjb3BlLiR3YXRjaChnZXRJc09wZW4sIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgc2NvcGUuaXNPcGVuID0gISF2YWx1ZTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwZW5kVG9Cb2R5ID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmRyb3Bkb3duQXBwZW5kVG9Cb2R5KTtcclxuICAgIGtleW5hdkVuYWJsZWQgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMua2V5Ym9hcmROYXYpO1xyXG5cclxuICAgIGlmIChhcHBlbmRUb0JvZHkgJiYgc2VsZi5kcm9wZG93bk1lbnUpIHtcclxuICAgICAgYm9keS5hcHBlbmQoc2VsZi5kcm9wZG93bk1lbnUpO1xyXG4gICAgICBib2R5LmFkZENsYXNzKCdkcm9wZG93bicpO1xyXG4gICAgICBlbGVtZW50Lm9uKCckZGVzdHJveScsIGZ1bmN0aW9uIGhhbmRsZURlc3Ryb3lFdmVudCgpIHtcclxuICAgICAgICBzZWxmLmRyb3Bkb3duTWVudS5yZW1vdmUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdGhpcy50b2dnbGUgPSBmdW5jdGlvbihvcGVuKSB7XHJcbiAgICByZXR1cm4gc2NvcGUuaXNPcGVuID0gYXJndW1lbnRzLmxlbmd0aCA/ICEhb3BlbiA6ICFzY29wZS5pc09wZW47XHJcbiAgfTtcclxuXHJcbiAgLy8gQWxsb3cgb3RoZXIgZGlyZWN0aXZlcyB0byB3YXRjaCBzdGF0dXNcclxuICB0aGlzLmlzT3BlbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHNjb3BlLmlzT3BlbjtcclxuICB9O1xyXG5cclxuICBzY29wZS5nZXRUb2dnbGVFbGVtZW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gc2VsZi50b2dnbGVFbGVtZW50O1xyXG4gIH07XHJcblxyXG4gIHNjb3BlLmdldEF1dG9DbG9zZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuICRhdHRycy5hdXRvQ2xvc2UgfHwgJ2Fsd2F5cyc7IC8vb3IgJ291dHNpZGVDbGljaycgb3IgJ2Rpc2FibGVkJ1xyXG4gIH07XHJcblxyXG4gIHNjb3BlLmdldEVsZW1lbnQgPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiBzZWxmLiRlbGVtZW50O1xyXG4gIH07XHJcblxyXG4gIHNjb3BlLmlzS2V5bmF2RW5hYmxlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIGtleW5hdkVuYWJsZWQ7XHJcbiAgfTtcclxuXHJcbiAgc2NvcGUuZm9jdXNEcm9wZG93bkVudHJ5ID0gZnVuY3Rpb24oa2V5Q29kZSkge1xyXG4gICAgdmFyIGVsZW1zID0gc2VsZi5kcm9wZG93bk1lbnUgPyAvL0lmIGFwcGVuZCB0byBib2R5IGlzIHVzZWQuXHJcbiAgICAgIChhbmd1bGFyLmVsZW1lbnQoc2VsZi5kcm9wZG93bk1lbnUpLmZpbmQoJ2EnKSkgOlxyXG4gICAgICAoYW5ndWxhci5lbGVtZW50KHNlbGYuJGVsZW1lbnQpLmZpbmQoJ3VsJykuZXEoMCkuZmluZCgnYScpKTtcclxuXHJcbiAgICBzd2l0Y2ggKGtleUNvZGUpIHtcclxuICAgICAgY2FzZSAoNDApOiB7XHJcbiAgICAgICAgaWYgKCFhbmd1bGFyLmlzTnVtYmVyKHNlbGYuc2VsZWN0ZWRPcHRpb24pKSB7XHJcbiAgICAgICAgICBzZWxmLnNlbGVjdGVkT3B0aW9uID0gMDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiA9IChzZWxmLnNlbGVjdGVkT3B0aW9uID09PSBlbGVtcy5sZW5ndGggLTEgP1xyXG4gICAgICAgICAgICBzZWxmLnNlbGVjdGVkT3B0aW9uIDpcclxuICAgICAgICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiArIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBjYXNlICgzOCk6IHtcclxuICAgICAgICBpZiAoIWFuZ3VsYXIuaXNOdW1iZXIoc2VsZi5zZWxlY3RlZE9wdGlvbikpIHtcclxuICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gPSBlbGVtcy5sZW5ndGggLSAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWxmLnNlbGVjdGVkT3B0aW9uID0gc2VsZi5zZWxlY3RlZE9wdGlvbiA9PT0gMCA/XHJcbiAgICAgICAgICAgIDAgOiBzZWxmLnNlbGVjdGVkT3B0aW9uIC0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsZW1zW3NlbGYuc2VsZWN0ZWRPcHRpb25dLmZvY3VzKCk7XHJcbiAgfTtcclxuXHJcbiAgc2NvcGUuZ2V0RHJvcGRvd25FbGVtZW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gc2VsZi5kcm9wZG93bk1lbnU7XHJcbiAgfTtcclxuXHJcbiAgc2NvcGUuZm9jdXNUb2dnbGVFbGVtZW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoc2VsZi50b2dnbGVFbGVtZW50KSB7XHJcbiAgICAgIHNlbGYudG9nZ2xlRWxlbWVudFswXS5mb2N1cygpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHNjb3BlLiR3YXRjaCgnaXNPcGVuJywgZnVuY3Rpb24oaXNPcGVuLCB3YXNPcGVuKSB7XHJcbiAgICBpZiAoYXBwZW5kVG9Cb2R5ICYmIHNlbGYuZHJvcGRvd25NZW51KSB7XHJcbiAgICAgIHZhciBwb3MgPSAkcG9zaXRpb24ucG9zaXRpb25FbGVtZW50cyhzZWxmLiRlbGVtZW50LCBzZWxmLmRyb3Bkb3duTWVudSwgJ2JvdHRvbS1sZWZ0JywgdHJ1ZSk7XHJcbiAgICAgIHZhciBjc3MgPSB7XHJcbiAgICAgICAgdG9wOiBwb3MudG9wICsgJ3B4JyxcclxuICAgICAgICBkaXNwbGF5OiBpc09wZW4gPyAnYmxvY2snIDogJ25vbmUnXHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2YXIgcmlnaHRhbGlnbiA9IHNlbGYuZHJvcGRvd25NZW51Lmhhc0NsYXNzKCdkcm9wZG93bi1tZW51LXJpZ2h0Jyk7XHJcbiAgICAgIGlmICghcmlnaHRhbGlnbikge1xyXG4gICAgICAgIGNzcy5sZWZ0ID0gcG9zLmxlZnQgKyAncHgnO1xyXG4gICAgICAgIGNzcy5yaWdodCA9ICdhdXRvJztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjc3MubGVmdCA9ICdhdXRvJztcclxuICAgICAgICBjc3MucmlnaHQgPSAod2luZG93LmlubmVyV2lkdGggLSAocG9zLmxlZnQgKyBzZWxmLiRlbGVtZW50LnByb3AoJ29mZnNldFdpZHRoJykpKSArICdweCc7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlbGYuZHJvcGRvd25NZW51LmNzcyhjc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBvcGVuQ29udGFpbmVyID0gYXBwZW5kVG9Cb2R5ID8gYm9keSA6IHNlbGYuJGVsZW1lbnQ7XHJcblxyXG4gICAgJGFuaW1hdGVbaXNPcGVuID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKG9wZW5Db250YWluZXIsIG9wZW5DbGFzcykudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGlzT3BlbikgJiYgaXNPcGVuICE9PSB3YXNPcGVuKSB7XHJcbiAgICAgICAgdG9nZ2xlSW52b2tlcigkc2NvcGUsIHsgb3BlbjogISFpc09wZW4gfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChpc09wZW4pIHtcclxuICAgICAgaWYgKHNlbGYuZHJvcGRvd25NZW51VGVtcGxhdGVVcmwpIHtcclxuICAgICAgICAkdGVtcGxhdGVSZXF1ZXN0KHNlbGYuZHJvcGRvd25NZW51VGVtcGxhdGVVcmwpLnRoZW4oZnVuY3Rpb24odHBsQ29udGVudCkge1xyXG4gICAgICAgICAgdGVtcGxhdGVTY29wZSA9IHNjb3BlLiRuZXcoKTtcclxuICAgICAgICAgICRjb21waWxlKHRwbENvbnRlbnQudHJpbSgpKSh0ZW1wbGF0ZVNjb3BlLCBmdW5jdGlvbihkcm9wZG93bkVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIG5ld0VsID0gZHJvcGRvd25FbGVtZW50O1xyXG4gICAgICAgICAgICBzZWxmLmRyb3Bkb3duTWVudS5yZXBsYWNlV2l0aChuZXdFbCk7XHJcbiAgICAgICAgICAgIHNlbGYuZHJvcGRvd25NZW51ID0gbmV3RWw7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2NvcGUuZm9jdXNUb2dnbGVFbGVtZW50KCk7XHJcbiAgICAgIGRyb3Bkb3duU2VydmljZS5vcGVuKHNjb3BlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChzZWxmLmRyb3Bkb3duTWVudVRlbXBsYXRlVXJsKSB7XHJcbiAgICAgICAgaWYgKHRlbXBsYXRlU2NvcGUpIHtcclxuICAgICAgICAgIHRlbXBsYXRlU2NvcGUuJGRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG5ld0VsID0gYW5ndWxhci5lbGVtZW50KCc8dWwgY2xhc3M9XCJkcm9wZG93bi1tZW51XCI+PC91bD4nKTtcclxuICAgICAgICBzZWxmLmRyb3Bkb3duTWVudS5yZXBsYWNlV2l0aChuZXdFbCk7XHJcbiAgICAgICAgc2VsZi5kcm9wZG93bk1lbnUgPSBuZXdFbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgZHJvcGRvd25TZXJ2aWNlLmNsb3NlKHNjb3BlKTtcclxuICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihzZXRJc09wZW4pKSB7XHJcbiAgICAgIHNldElzT3Blbigkc2NvcGUsIGlzT3Blbik7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gICRzY29wZS4kb24oJyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbigpIHtcclxuICAgIGlmIChzY29wZS5nZXRBdXRvQ2xvc2UoKSAhPT0gJ2Rpc2FibGVkJykge1xyXG4gICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgdmFyIG9mZkRlc3Ryb3kgPSAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xyXG4gICAgc2NvcGUuJGRlc3Ryb3koKTtcclxuICB9KTtcclxuICBzY29wZS4kb24oJyRkZXN0cm95Jywgb2ZmRGVzdHJveSk7XHJcbn1dKVxyXG5cclxuLmRpcmVjdGl2ZSgnZHJvcGRvd24nLCBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgY29udHJvbGxlcjogJ0Ryb3Bkb3duQ29udHJvbGxlcicsXHJcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGRyb3Bkb3duQ3RybCkge1xyXG4gICAgICBkcm9wZG93bkN0cmwuaW5pdCggZWxlbWVudCApO1xyXG4gICAgICBlbGVtZW50LmFkZENsYXNzKCdkcm9wZG93bicpO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pXHJcblxyXG4uZGlyZWN0aXZlKCdkcm9wZG93bk1lbnUnLCBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBQycsXHJcbiAgICByZXF1aXJlOiAnP15kcm9wZG93bicsXHJcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGRyb3Bkb3duQ3RybCkge1xyXG4gICAgICBpZiAoIWRyb3Bkb3duQ3RybCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB2YXIgdHBsVXJsID0gYXR0cnMudGVtcGxhdGVVcmw7XHJcbiAgICAgIGlmICh0cGxVcmwpIHtcclxuICAgICAgICBkcm9wZG93bkN0cmwuZHJvcGRvd25NZW51VGVtcGxhdGVVcmwgPSB0cGxVcmw7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFkcm9wZG93bkN0cmwuZHJvcGRvd25NZW51KSB7XHJcbiAgICAgICAgZHJvcGRvd25DdHJsLmRyb3Bkb3duTWVudSA9IGVsZW1lbnQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG59KVxyXG5cclxuLmRpcmVjdGl2ZSgna2V5Ym9hcmROYXYnLCBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIHJlcXVpcmU6ICc/XmRyb3Bkb3duJyxcclxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGRyb3Bkb3duQ3RybCkge1xyXG5cclxuICAgICAgZWxlbWVudC5iaW5kKCdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmIChbMzgsIDQwXS5pbmRleE9mKGUud2hpY2gpICE9PSAtMSkge1xyXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICB2YXIgZWxlbXMgPSBkcm9wZG93bkN0cmwuZHJvcGRvd25NZW51LmZpbmQoJ2EnKTtcclxuXHJcbiAgICAgICAgICBzd2l0Y2ggKGUud2hpY2gpIHtcclxuICAgICAgICAgICAgY2FzZSAoNDApOiB7IC8vIERvd25cclxuICAgICAgICAgICAgICBpZiAoIWFuZ3VsYXIuaXNOdW1iZXIoZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uID0gMDtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uID0gZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uID09PSBlbGVtcy5sZW5ndGggLTEgP1xyXG4gICAgICAgICAgICAgICAgICBkcm9wZG93bkN0cmwuc2VsZWN0ZWRPcHRpb24gOiBkcm9wZG93bkN0cmwuc2VsZWN0ZWRPcHRpb24gKyAxO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlICgzOCk6IHsgLy8gVXBcclxuICAgICAgICAgICAgICBpZiAoIWFuZ3VsYXIuaXNOdW1iZXIoZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uID0gZWxlbXMubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uID0gZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uID09PSAwID9cclxuICAgICAgICAgICAgICAgICAgMCA6IGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiAtIDE7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbGVtc1tkcm9wZG93bkN0cmwuc2VsZWN0ZWRPcHRpb25dLmZvY3VzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59KVxyXG5cclxuLmRpcmVjdGl2ZSgnZHJvcGRvd25Ub2dnbGUnLCBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVxdWlyZTogJz9eZHJvcGRvd24nLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBkcm9wZG93bkN0cmwpIHtcclxuICAgICAgaWYgKCFkcm9wZG93bkN0cmwpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2Ryb3Bkb3duLXRvZ2dsZScpO1xyXG5cclxuICAgICAgZHJvcGRvd25DdHJsLnRvZ2dsZUVsZW1lbnQgPSBlbGVtZW50O1xyXG5cclxuICAgICAgdmFyIHRvZ2dsZURyb3Bkb3duID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICBpZiAoIWVsZW1lbnQuaGFzQ2xhc3MoJ2Rpc2FibGVkJykgJiYgIWF0dHJzLmRpc2FibGVkKSB7XHJcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGRyb3Bkb3duQ3RybC50b2dnbGUoKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGVsZW1lbnQuYmluZCgnY2xpY2snLCB0b2dnbGVEcm9wZG93bik7XHJcblxyXG4gICAgICAvLyBXQUktQVJJQVxyXG4gICAgICBlbGVtZW50LmF0dHIoeyAnYXJpYS1oYXNwb3B1cCc6IHRydWUsICdhcmlhLWV4cGFuZGVkJzogZmFsc2UgfSk7XHJcbiAgICAgIHNjb3BlLiR3YXRjaChkcm9wZG93bkN0cmwuaXNPcGVuLCBmdW5jdGlvbiggaXNPcGVuICkge1xyXG4gICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsICEhaXNPcGVuKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZWxlbWVudC51bmJpbmQoJ2NsaWNrJywgdG9nZ2xlRHJvcGRvd24pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59KTtcclxuXHJcbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAubW9kYWwnLCBbXSlcclxuXHJcbi8qKlxyXG4gKiBBIGhlbHBlciwgaW50ZXJuYWwgZGF0YSBzdHJ1Y3R1cmUgdGhhdCBhY3RzIGFzIGEgbWFwIGJ1dCBhbHNvIGFsbG93cyBnZXR0aW5nIC8gcmVtb3ZpbmdcclxuICogZWxlbWVudHMgaW4gdGhlIExJRk8gb3JkZXJcclxuICovXHJcbiAgLmZhY3RvcnkoJyQkc3RhY2tlZE1hcCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgY3JlYXRlTmV3OiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc3RhY2sgPSBbXTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGFkZDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBzdGFjay5wdXNoKHtcclxuICAgICAgICAgICAgICBrZXk6IGtleSxcclxuICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgIGlmIChrZXkgPT0gc3RhY2tbaV0ua2V5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhY2tbaV07XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAga2V5czogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBrZXlzID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICBrZXlzLnB1c2goc3RhY2tbaV0ua2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4ga2V5cztcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB0b3A6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICAgICAgdmFyIGlkeCA9IC0xO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGtleSA9PSBzdGFja1tpXS5rZXkpIHtcclxuICAgICAgICAgICAgICAgIGlkeCA9IGk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHN0YWNrLnNwbGljZShpZHgsIDEpWzBdO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHJlbW92ZVRvcDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdGFjay5zcGxpY2Uoc3RhY2subGVuZ3RoIC0gMSwgMSlbMF07XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgbGVuZ3RoOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN0YWNrLmxlbmd0aDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0pXHJcblxyXG4vKipcclxuICogQSBoZWxwZXIsIGludGVybmFsIGRhdGEgc3RydWN0dXJlIHRoYXQgc3RvcmVzIGFsbCByZWZlcmVuY2VzIGF0dGFjaGVkIHRvIGtleVxyXG4gKi9cclxuICAuZmFjdG9yeSgnJCRtdWx0aU1hcCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgY3JlYXRlTmV3OiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgbWFwID0ge307XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBlbnRyaWVzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG1hcCkubWFwKGZ1bmN0aW9uKGtleSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBrZXk6IGtleSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBtYXBba2V5XVxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGdldDogZnVuY3Rpb24oa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXBba2V5XTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBoYXNLZXk6IGZ1bmN0aW9uKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gISFtYXBba2V5XTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBrZXlzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcHV0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICghbWFwW2tleV0pIHtcclxuICAgICAgICAgICAgICBtYXBba2V5XSA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBtYXBba2V5XS5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IG1hcFtrZXldO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF2YWx1ZXMpIHtcclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBpZHggPSB2YWx1ZXMuaW5kZXhPZih2YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaWR4ICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgIHZhbHVlcy5zcGxpY2UoaWR4LCAxKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCF2YWx1ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgZGVsZXRlIG1hcFtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9KVxyXG5cclxuLyoqXHJcbiAqIEEgaGVscGVyIGRpcmVjdGl2ZSBmb3IgdGhlICRtb2RhbCBzZXJ2aWNlLiBJdCBjcmVhdGVzIGEgYmFja2Ryb3AgZWxlbWVudC5cclxuICovXHJcbiAgLmRpcmVjdGl2ZSgnbW9kYWxCYWNrZHJvcCcsIFtcclxuICAgICAgICAgICAnJGFuaW1hdGUnLCAnJGluamVjdG9yJywgJyRtb2RhbFN0YWNrJyxcclxuICBmdW5jdGlvbigkYW5pbWF0ZSAsICAkaW5qZWN0b3IsICAgJG1vZGFsU3RhY2spIHtcclxuICAgIHZhciAkYW5pbWF0ZUNzcyA9IG51bGw7XHJcblxyXG4gICAgaWYgKCRpbmplY3Rvci5oYXMoJyRhbmltYXRlQ3NzJykpIHtcclxuICAgICAgJGFuaW1hdGVDc3MgPSAkaW5qZWN0b3IuZ2V0KCckYW5pbWF0ZUNzcycpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgICByZXBsYWNlOiB0cnVlLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWwnLFxyXG4gICAgICBjb21waWxlOiBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzKSB7XHJcbiAgICAgICAgdEVsZW1lbnQuYWRkQ2xhc3ModEF0dHJzLmJhY2tkcm9wQ2xhc3MpO1xyXG4gICAgICAgIHJldHVybiBsaW5rRm47XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gbGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG4gICAgICBpZiAoYXR0cnMubW9kYWxJbkNsYXNzKSB7XHJcbiAgICAgICAgaWYgKCRhbmltYXRlQ3NzKSB7XHJcbiAgICAgICAgICAkYW5pbWF0ZUNzcyhlbGVtZW50LCB7XHJcbiAgICAgICAgICAgIGFkZENsYXNzOiBhdHRycy5tb2RhbEluQ2xhc3NcclxuICAgICAgICAgIH0pLnN0YXJ0KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsIGF0dHJzLm1vZGFsSW5DbGFzcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzY29wZS4kb24oJG1vZGFsU3RhY2suTk9XX0NMT1NJTkdfRVZFTlQsIGZ1bmN0aW9uKGUsIHNldElzQXN5bmMpIHtcclxuICAgICAgICAgIHZhciBkb25lID0gc2V0SXNBc3luYygpO1xyXG4gICAgICAgICAgaWYgKCRhbmltYXRlQ3NzKSB7XHJcbiAgICAgICAgICAgICRhbmltYXRlQ3NzKGVsZW1lbnQsIHtcclxuICAgICAgICAgICAgICByZW1vdmVDbGFzczogYXR0cnMubW9kYWxJbkNsYXNzXHJcbiAgICAgICAgICAgIH0pLnN0YXJ0KCkudGhlbihkb25lKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIGF0dHJzLm1vZGFsSW5DbGFzcykudGhlbihkb25lKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1dKVxyXG5cclxuICAuZGlyZWN0aXZlKCdtb2RhbFdpbmRvdycsIFtcclxuICAgICAgICAgICAnJG1vZGFsU3RhY2snLCAnJHEnLCAnJGFuaW1hdGUnLCAnJGluamVjdG9yJyxcclxuICBmdW5jdGlvbigkbW9kYWxTdGFjayAsICAkcSAsICAkYW5pbWF0ZSwgICAkaW5qZWN0b3IpIHtcclxuICAgIHZhciAkYW5pbWF0ZUNzcyA9IG51bGw7XHJcblxyXG4gICAgaWYgKCRpbmplY3Rvci5oYXMoJyRhbmltYXRlQ3NzJykpIHtcclxuICAgICAgJGFuaW1hdGVDc3MgPSAkaW5qZWN0b3IuZ2V0KCckYW5pbWF0ZUNzcycpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgICBzY29wZToge1xyXG4gICAgICAgIGluZGV4OiAnQCdcclxuICAgICAgfSxcclxuICAgICAgcmVwbGFjZTogdHJ1ZSxcclxuICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcclxuICAgICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKHRFbGVtZW50LCB0QXR0cnMpIHtcclxuICAgICAgICByZXR1cm4gdEF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbCc7XHJcbiAgICAgIH0sXHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoYXR0cnMud2luZG93Q2xhc3MgfHwgJycpO1xyXG4gICAgICAgIHNjb3BlLnNpemUgPSBhdHRycy5zaXplO1xyXG5cclxuICAgICAgICBzY29wZS5jbG9zZSA9IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgICAgdmFyIG1vZGFsID0gJG1vZGFsU3RhY2suZ2V0VG9wKCk7XHJcbiAgICAgICAgICBpZiAobW9kYWwgJiYgbW9kYWwudmFsdWUuYmFja2Ryb3AgJiYgbW9kYWwudmFsdWUuYmFja2Ryb3AgIT09ICdzdGF0aWMnICYmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkpIHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgJG1vZGFsU3RhY2suZGlzbWlzcyhtb2RhbC5rZXksICdiYWNrZHJvcCBjbGljaycpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIFRoaXMgcHJvcGVydHkgaXMgb25seSBhZGRlZCB0byB0aGUgc2NvcGUgZm9yIHRoZSBwdXJwb3NlIG9mIGRldGVjdGluZyB3aGVuIHRoaXMgZGlyZWN0aXZlIGlzIHJlbmRlcmVkLlxyXG4gICAgICAgIC8vIFdlIGNhbiBkZXRlY3QgdGhhdCBieSB1c2luZyB0aGlzIHByb3BlcnR5IGluIHRoZSB0ZW1wbGF0ZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBkaXJlY3RpdmUgYW5kIHRoZW4gdXNlXHJcbiAgICAgICAgLy8ge0BsaW5rIEF0dHJpYnV0ZSMkb2JzZXJ2ZX0gb24gaXQuIEZvciBtb3JlIGRldGFpbHMgcGxlYXNlIHNlZSB7QGxpbmsgVGFibGVDb2x1bW5SZXNpemV9LlxyXG4gICAgICAgIHNjb3BlLiRpc1JlbmRlcmVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8gRGVmZXJyZWQgb2JqZWN0IHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aGVuIHRoaXMgbW9kYWwgaXMgcmVuZGVyLlxyXG4gICAgICAgIHZhciBtb2RhbFJlbmRlckRlZmVyT2JqID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAvLyBPYnNlcnZlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIG9uIG5leHQgZGlnZXN0IGN5Y2xlIGFmdGVyIGNvbXBpbGF0aW9uLCBlbnN1cmluZyB0aGF0IHRoZSBET00gaXMgcmVhZHkuXHJcbiAgICAgICAgLy8gSW4gb3JkZXIgdG8gdXNlIHRoaXMgd2F5IG9mIGZpbmRpbmcgd2hldGhlciBET00gaXMgcmVhZHksIHdlIG5lZWQgdG8gb2JzZXJ2ZSBhIHNjb3BlIHByb3BlcnR5IHVzZWQgaW4gbW9kYWwncyB0ZW1wbGF0ZS5cclxuICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnbW9kYWxSZW5kZXInLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgaWYgKHZhbHVlID09ICd0cnVlJykge1xyXG4gICAgICAgICAgICBtb2RhbFJlbmRlckRlZmVyT2JqLnJlc29sdmUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbW9kYWxSZW5kZXJEZWZlck9iai5wcm9taXNlLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB2YXIgYW5pbWF0aW9uUHJvbWlzZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgaWYgKGF0dHJzLm1vZGFsSW5DbGFzcykge1xyXG4gICAgICAgICAgICBpZiAoJGFuaW1hdGVDc3MpIHtcclxuICAgICAgICAgICAgICBhbmltYXRpb25Qcm9taXNlID0gJGFuaW1hdGVDc3MoZWxlbWVudCwge1xyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3M6IGF0dHJzLm1vZGFsSW5DbGFzc1xyXG4gICAgICAgICAgICAgIH0pLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgYW5pbWF0aW9uUHJvbWlzZSA9ICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsIGF0dHJzLm1vZGFsSW5DbGFzcyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNjb3BlLiRvbigkbW9kYWxTdGFjay5OT1dfQ0xPU0lOR19FVkVOVCwgZnVuY3Rpb24oZSwgc2V0SXNBc3luYykge1xyXG4gICAgICAgICAgICAgIHZhciBkb25lID0gc2V0SXNBc3luYygpO1xyXG4gICAgICAgICAgICAgIGlmICgkYW5pbWF0ZUNzcykge1xyXG4gICAgICAgICAgICAgICAgJGFuaW1hdGVDc3MoZWxlbWVudCwge1xyXG4gICAgICAgICAgICAgICAgICByZW1vdmVDbGFzczogYXR0cnMubW9kYWxJbkNsYXNzXHJcbiAgICAgICAgICAgICAgICB9KS5zdGFydCgpLnRoZW4oZG9uZSk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIGF0dHJzLm1vZGFsSW5DbGFzcykudGhlbihkb25lKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAkcS53aGVuKGFuaW1hdGlvblByb21pc2UpLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBpbnB1dHNXaXRoQXV0b2ZvY3VzID0gZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yQWxsKCdbYXV0b2ZvY3VzXScpO1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQXV0by1mb2N1c2luZyBvZiBhIGZyZXNobHktb3BlbmVkIG1vZGFsIGVsZW1lbnQgY2F1c2VzIGFueSBjaGlsZCBlbGVtZW50c1xyXG4gICAgICAgICAgICAgKiB3aXRoIHRoZSBhdXRvZm9jdXMgYXR0cmlidXRlIHRvIGxvc2UgZm9jdXMuIFRoaXMgaXMgYW4gaXNzdWUgb24gdG91Y2hcclxuICAgICAgICAgICAgICogYmFzZWQgZGV2aWNlcyB3aGljaCB3aWxsIHNob3cgYW5kIHRoZW4gaGlkZSB0aGUgb25zY3JlZW4ga2V5Ym9hcmQuXHJcbiAgICAgICAgICAgICAqIEF0dGVtcHRzIHRvIHJlZm9jdXMgdGhlIGF1dG9mb2N1cyBlbGVtZW50IHZpYSBKYXZhU2NyaXB0IHdpbGwgbm90IHJlb3BlblxyXG4gICAgICAgICAgICAgKiB0aGUgb25zY3JlZW4ga2V5Ym9hcmQuIEZpeGVkIGJ5IHVwZGF0ZWQgdGhlIGZvY3VzaW5nIGxvZ2ljIHRvIG9ubHkgYXV0b2ZvY3VzXHJcbiAgICAgICAgICAgICAqIHRoZSBtb2RhbCBlbGVtZW50IGlmIHRoZSBtb2RhbCBkb2VzIG5vdCBjb250YWluIGFuIGF1dG9mb2N1cyBlbGVtZW50LlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgaWYgKGlucHV0c1dpdGhBdXRvZm9jdXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgaW5wdXRzV2l0aEF1dG9mb2N1c1swXS5mb2N1cygpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGVsZW1lbnRbMF0uZm9jdXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgLy8gTm90aWZ5IHtAbGluayAkbW9kYWxTdGFja30gdGhhdCBtb2RhbCBpcyByZW5kZXJlZC5cclxuICAgICAgICAgIHZhciBtb2RhbCA9ICRtb2RhbFN0YWNrLmdldFRvcCgpO1xyXG4gICAgICAgICAgaWYgKG1vZGFsKSB7XHJcbiAgICAgICAgICAgICRtb2RhbFN0YWNrLm1vZGFsUmVuZGVyZWQobW9kYWwua2V5KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XSlcclxuXHJcbiAgLmRpcmVjdGl2ZSgnbW9kYWxBbmltYXRpb25DbGFzcycsIFtcclxuICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBjb21waWxlOiBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzKSB7XHJcbiAgICAgICAgICBpZiAodEF0dHJzLm1vZGFsQW5pbWF0aW9uKSB7XHJcbiAgICAgICAgICAgIHRFbGVtZW50LmFkZENsYXNzKHRBdHRycy5tb2RhbEFuaW1hdGlvbkNsYXNzKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9XSlcclxuXHJcbiAgLmRpcmVjdGl2ZSgnbW9kYWxUcmFuc2NsdWRlJywgZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsIGNvbnRyb2xsZXIsICR0cmFuc2NsdWRlKSB7XHJcbiAgICAgICAgJHRyYW5zY2x1ZGUoJHNjb3BlLiRwYXJlbnQsIGZ1bmN0aW9uKGNsb25lKSB7XHJcbiAgICAgICAgICAkZWxlbWVudC5lbXB0eSgpO1xyXG4gICAgICAgICAgJGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9KVxyXG5cclxuICAuZmFjdG9yeSgnJG1vZGFsU3RhY2snLCBbXHJcbiAgICAgICAgICAgICAnJGFuaW1hdGUnLCAnJHRpbWVvdXQnLCAnJGRvY3VtZW50JywgJyRjb21waWxlJywgJyRyb290U2NvcGUnLFxyXG4gICAgICAgICAgICAgJyRxJyxcclxuICAgICAgICAgICAgICckaW5qZWN0b3InLFxyXG4gICAgICAgICAgICAgJyQkbXVsdGlNYXAnLFxyXG4gICAgICAgICAgICAgJyQkc3RhY2tlZE1hcCcsXHJcbiAgICBmdW5jdGlvbigkYW5pbWF0ZSAsICAkdGltZW91dCAsICAkZG9jdW1lbnQgLCAgJGNvbXBpbGUgLCAgJHJvb3RTY29wZSAsXHJcbiAgICAgICAgICAgICAgJHEsXHJcbiAgICAgICAgICAgICAgJGluamVjdG9yLFxyXG4gICAgICAgICAgICAgICQkbXVsdGlNYXAsXHJcbiAgICAgICAgICAgICAgJCRzdGFja2VkTWFwKSB7XHJcbiAgICAgIHZhciAkYW5pbWF0ZUNzcyA9IG51bGw7XHJcblxyXG4gICAgICBpZiAoJGluamVjdG9yLmhhcygnJGFuaW1hdGVDc3MnKSkge1xyXG4gICAgICAgICRhbmltYXRlQ3NzID0gJGluamVjdG9yLmdldCgnJGFuaW1hdGVDc3MnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIE9QRU5FRF9NT0RBTF9DTEFTUyA9ICdtb2RhbC1vcGVuJztcclxuXHJcbiAgICAgIHZhciBiYWNrZHJvcERvbUVsLCBiYWNrZHJvcFNjb3BlO1xyXG4gICAgICB2YXIgb3BlbmVkV2luZG93cyA9ICQkc3RhY2tlZE1hcC5jcmVhdGVOZXcoKTtcclxuICAgICAgdmFyIG9wZW5lZENsYXNzZXMgPSAkJG11bHRpTWFwLmNyZWF0ZU5ldygpO1xyXG4gICAgICB2YXIgJG1vZGFsU3RhY2sgPSB7XHJcbiAgICAgICAgTk9XX0NMT1NJTkdfRVZFTlQ6ICdtb2RhbC5zdGFjay5ub3ctY2xvc2luZydcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vTW9kYWwgZm9jdXMgYmVoYXZpb3JcclxuICAgICAgdmFyIGZvY3VzYWJsZUVsZW1lbnRMaXN0O1xyXG4gICAgICB2YXIgZm9jdXNJbmRleCA9IDA7XHJcbiAgICAgIHZhciB0YWJhYmJsZVNlbGVjdG9yID0gJ2FbaHJlZl0sIGFyZWFbaHJlZl0sIGlucHV0Om5vdChbZGlzYWJsZWRdKSwgJyArXHJcbiAgICAgICAgJ2J1dHRvbjpub3QoW2Rpc2FibGVkXSksc2VsZWN0Om5vdChbZGlzYWJsZWRdKSwgdGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pLCAnICtcclxuICAgICAgICAnaWZyYW1lLCBvYmplY3QsIGVtYmVkLCAqW3RhYmluZGV4XSwgKltjb250ZW50ZWRpdGFibGU9dHJ1ZV0nO1xyXG5cclxuICAgICAgZnVuY3Rpb24gYmFja2Ryb3BJbmRleCgpIHtcclxuICAgICAgICB2YXIgdG9wQmFja2Ryb3BJbmRleCA9IC0xO1xyXG4gICAgICAgIHZhciBvcGVuZWQgPSBvcGVuZWRXaW5kb3dzLmtleXMoKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wZW5lZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKG9wZW5lZFdpbmRvd3MuZ2V0KG9wZW5lZFtpXSkudmFsdWUuYmFja2Ryb3ApIHtcclxuICAgICAgICAgICAgdG9wQmFja2Ryb3BJbmRleCA9IGk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0b3BCYWNrZHJvcEluZGV4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkcm9vdFNjb3BlLiR3YXRjaChiYWNrZHJvcEluZGV4LCBmdW5jdGlvbihuZXdCYWNrZHJvcEluZGV4KSB7XHJcbiAgICAgICAgaWYgKGJhY2tkcm9wU2NvcGUpIHtcclxuICAgICAgICAgIGJhY2tkcm9wU2NvcGUuaW5kZXggPSBuZXdCYWNrZHJvcEluZGV4O1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBmdW5jdGlvbiByZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlLCBlbGVtZW50VG9SZWNlaXZlRm9jdXMpIHtcclxuICAgICAgICB2YXIgYm9keSA9ICRkb2N1bWVudC5maW5kKCdib2R5JykuZXEoMCk7XHJcbiAgICAgICAgdmFyIG1vZGFsV2luZG93ID0gb3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSkudmFsdWU7XHJcblxyXG4gICAgICAgIC8vY2xlYW4gdXAgdGhlIHN0YWNrXHJcbiAgICAgICAgb3BlbmVkV2luZG93cy5yZW1vdmUobW9kYWxJbnN0YW5jZSk7XHJcblxyXG4gICAgICAgIHJlbW92ZUFmdGVyQW5pbWF0ZShtb2RhbFdpbmRvdy5tb2RhbERvbUVsLCBtb2RhbFdpbmRvdy5tb2RhbFNjb3BlLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHZhciBtb2RhbEJvZHlDbGFzcyA9IG1vZGFsV2luZG93Lm9wZW5lZENsYXNzIHx8IE9QRU5FRF9NT0RBTF9DTEFTUztcclxuICAgICAgICAgIG9wZW5lZENsYXNzZXMucmVtb3ZlKG1vZGFsQm9keUNsYXNzLCBtb2RhbEluc3RhbmNlKTtcclxuICAgICAgICAgIGJvZHkudG9nZ2xlQ2xhc3MobW9kYWxCb2R5Q2xhc3MsIG9wZW5lZENsYXNzZXMuaGFzS2V5KG1vZGFsQm9keUNsYXNzKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY2hlY2tSZW1vdmVCYWNrZHJvcCgpO1xyXG5cclxuICAgICAgICAvL21vdmUgZm9jdXMgdG8gc3BlY2lmaWVkIGVsZW1lbnQgaWYgYXZhaWxhYmxlLCBvciBlbHNlIHRvIGJvZHlcclxuICAgICAgICBpZiAoZWxlbWVudFRvUmVjZWl2ZUZvY3VzICYmIGVsZW1lbnRUb1JlY2VpdmVGb2N1cy5mb2N1cykge1xyXG4gICAgICAgICAgZWxlbWVudFRvUmVjZWl2ZUZvY3VzLmZvY3VzKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGJvZHkuZm9jdXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGNoZWNrUmVtb3ZlQmFja2Ryb3AoKSB7XHJcbiAgICAgICAgICAvL3JlbW92ZSBiYWNrZHJvcCBpZiBubyBsb25nZXIgbmVlZGVkXHJcbiAgICAgICAgICBpZiAoYmFja2Ryb3BEb21FbCAmJiBiYWNrZHJvcEluZGV4KCkgPT0gLTEpIHtcclxuICAgICAgICAgICAgdmFyIGJhY2tkcm9wU2NvcGVSZWYgPSBiYWNrZHJvcFNjb3BlO1xyXG4gICAgICAgICAgICByZW1vdmVBZnRlckFuaW1hdGUoYmFja2Ryb3BEb21FbCwgYmFja2Ryb3BTY29wZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgYmFja2Ryb3BTY29wZVJlZiA9IG51bGw7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBiYWNrZHJvcERvbUVsID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICBiYWNrZHJvcFNjb3BlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiByZW1vdmVBZnRlckFuaW1hdGUoZG9tRWwsIHNjb3BlLCBkb25lKSB7XHJcbiAgICAgICAgdmFyIGFzeW5jRGVmZXJyZWQ7XHJcbiAgICAgICAgdmFyIGFzeW5jUHJvbWlzZSA9IG51bGw7XHJcbiAgICAgICAgdmFyIHNldElzQXN5bmMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlmICghYXN5bmNEZWZlcnJlZCkge1xyXG4gICAgICAgICAgICBhc3luY0RlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgICAgYXN5bmNQcm9taXNlID0gYXN5bmNEZWZlcnJlZC5wcm9taXNlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBhc3luY0RvbmUoKSB7XHJcbiAgICAgICAgICAgIGFzeW5jRGVmZXJyZWQucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNjb3BlLiRicm9hZGNhc3QoJG1vZGFsU3RhY2suTk9XX0NMT1NJTkdfRVZFTlQsIHNldElzQXN5bmMpO1xyXG5cclxuICAgICAgICAvLyBOb3RlIHRoYXQgaXQncyBpbnRlbnRpb25hbCB0aGF0IGFzeW5jUHJvbWlzZSBtaWdodCBiZSBudWxsLlxyXG4gICAgICAgIC8vIFRoYXQncyB3aGVuIHNldElzQXN5bmMgaGFzIG5vdCBiZWVuIGNhbGxlZCBkdXJpbmcgdGhlXHJcbiAgICAgICAgLy8gTk9XX0NMT1NJTkdfRVZFTlQgYnJvYWRjYXN0LlxyXG4gICAgICAgIHJldHVybiAkcS53aGVuKGFzeW5jUHJvbWlzZSkudGhlbihhZnRlckFuaW1hdGluZyk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFmdGVyQW5pbWF0aW5nKCkge1xyXG4gICAgICAgICAgaWYgKGFmdGVyQW5pbWF0aW5nLmRvbmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYWZ0ZXJBbmltYXRpbmcuZG9uZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgaWYgKCRhbmltYXRlQ3NzKSB7XHJcbiAgICAgICAgICAgICRhbmltYXRlQ3NzKGRvbUVsLCB7XHJcbiAgICAgICAgICAgICAgZXZlbnQ6ICdsZWF2ZSdcclxuICAgICAgICAgICAgfSkuc3RhcnQoKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIGRvbUVsLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRhbmltYXRlLmxlYXZlKGRvbUVsKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHNjb3BlLiRkZXN0cm95KCk7XHJcbiAgICAgICAgICBpZiAoZG9uZSkge1xyXG4gICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAkZG9jdW1lbnQuYmluZCgna2V5ZG93bicsIGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgIGlmIChldnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcclxuICAgICAgICAgIHJldHVybiBldnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbW9kYWwgPSBvcGVuZWRXaW5kb3dzLnRvcCgpO1xyXG4gICAgICAgIGlmIChtb2RhbCAmJiBtb2RhbC52YWx1ZS5rZXlib2FyZCkge1xyXG4gICAgICAgICAgc3dpdGNoIChldnQud2hpY2gpe1xyXG4gICAgICAgICAgICBjYXNlIDI3OiB7XHJcbiAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkbW9kYWxTdGFjay5kaXNtaXNzKG1vZGFsLmtleSwgJ2VzY2FwZSBrZXkgcHJlc3MnKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIDk6IHtcclxuICAgICAgICAgICAgICAkbW9kYWxTdGFjay5sb2FkRm9jdXNFbGVtZW50TGlzdChtb2RhbCk7XHJcbiAgICAgICAgICAgICAgdmFyIGZvY3VzQ2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGlmIChldnQuc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkbW9kYWxTdGFjay5pc0ZvY3VzSW5GaXJzdEl0ZW0oZXZ0KSkge1xyXG4gICAgICAgICAgICAgICAgICBmb2N1c0NoYW5nZWQgPSAkbW9kYWxTdGFjay5mb2N1c0xhc3RGb2N1c2FibGVFbGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICgkbW9kYWxTdGFjay5pc0ZvY3VzSW5MYXN0SXRlbShldnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgIGZvY3VzQ2hhbmdlZCA9ICRtb2RhbFN0YWNrLmZvY3VzRmlyc3RGb2N1c2FibGVFbGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBpZiAoZm9jdXNDaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgJG1vZGFsU3RhY2sub3BlbiA9IGZ1bmN0aW9uKG1vZGFsSW5zdGFuY2UsIG1vZGFsKSB7XHJcbiAgICAgICAgdmFyIG1vZGFsT3BlbmVyID0gJGRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQsXHJcbiAgICAgICAgICBtb2RhbEJvZHlDbGFzcyA9IG1vZGFsLm9wZW5lZENsYXNzIHx8IE9QRU5FRF9NT0RBTF9DTEFTUztcclxuXHJcbiAgICAgICAgb3BlbmVkV2luZG93cy5hZGQobW9kYWxJbnN0YW5jZSwge1xyXG4gICAgICAgICAgZGVmZXJyZWQ6IG1vZGFsLmRlZmVycmVkLFxyXG4gICAgICAgICAgcmVuZGVyRGVmZXJyZWQ6IG1vZGFsLnJlbmRlckRlZmVycmVkLFxyXG4gICAgICAgICAgbW9kYWxTY29wZTogbW9kYWwuc2NvcGUsXHJcbiAgICAgICAgICBiYWNrZHJvcDogbW9kYWwuYmFja2Ryb3AsXHJcbiAgICAgICAgICBrZXlib2FyZDogbW9kYWwua2V5Ym9hcmQsXHJcbiAgICAgICAgICBvcGVuZWRDbGFzczogbW9kYWwub3BlbmVkQ2xhc3NcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgb3BlbmVkQ2xhc3Nlcy5wdXQobW9kYWxCb2R5Q2xhc3MsIG1vZGFsSW5zdGFuY2UpO1xyXG5cclxuICAgICAgICB2YXIgYm9keSA9ICRkb2N1bWVudC5maW5kKCdib2R5JykuZXEoMCksXHJcbiAgICAgICAgICAgIGN1cnJCYWNrZHJvcEluZGV4ID0gYmFja2Ryb3BJbmRleCgpO1xyXG5cclxuICAgICAgICBpZiAoY3VyckJhY2tkcm9wSW5kZXggPj0gMCAmJiAhYmFja2Ryb3BEb21FbCkge1xyXG4gICAgICAgICAgYmFja2Ryb3BTY29wZSA9ICRyb290U2NvcGUuJG5ldyh0cnVlKTtcclxuICAgICAgICAgIGJhY2tkcm9wU2NvcGUuaW5kZXggPSBjdXJyQmFja2Ryb3BJbmRleDtcclxuICAgICAgICAgIHZhciBhbmd1bGFyQmFja2dyb3VuZERvbUVsID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IG1vZGFsLWJhY2tkcm9wPVwibW9kYWwtYmFja2Ryb3BcIj48L2Rpdj4nKTtcclxuICAgICAgICAgIGFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwuYXR0cignYmFja2Ryb3AtY2xhc3MnLCBtb2RhbC5iYWNrZHJvcENsYXNzKTtcclxuICAgICAgICAgIGlmIChtb2RhbC5hbmltYXRpb24pIHtcclxuICAgICAgICAgICAgYW5ndWxhckJhY2tncm91bmREb21FbC5hdHRyKCdtb2RhbC1hbmltYXRpb24nLCAndHJ1ZScpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYmFja2Ryb3BEb21FbCA9ICRjb21waWxlKGFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwpKGJhY2tkcm9wU2NvcGUpO1xyXG4gICAgICAgICAgYm9keS5hcHBlbmQoYmFja2Ryb3BEb21FbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgYW5ndWxhckRvbUVsID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IG1vZGFsLXdpbmRvdz1cIm1vZGFsLXdpbmRvd1wiPjwvZGl2PicpO1xyXG4gICAgICAgIGFuZ3VsYXJEb21FbC5hdHRyKHtcclxuICAgICAgICAgICd0ZW1wbGF0ZS11cmwnOiBtb2RhbC53aW5kb3dUZW1wbGF0ZVVybCxcclxuICAgICAgICAgICd3aW5kb3ctY2xhc3MnOiBtb2RhbC53aW5kb3dDbGFzcyxcclxuICAgICAgICAgICdzaXplJzogbW9kYWwuc2l6ZSxcclxuICAgICAgICAgICdpbmRleCc6IG9wZW5lZFdpbmRvd3MubGVuZ3RoKCkgLSAxLFxyXG4gICAgICAgICAgJ2FuaW1hdGUnOiAnYW5pbWF0ZSdcclxuICAgICAgICB9KS5odG1sKG1vZGFsLmNvbnRlbnQpO1xyXG4gICAgICAgIGlmIChtb2RhbC5hbmltYXRpb24pIHtcclxuICAgICAgICAgIGFuZ3VsYXJEb21FbC5hdHRyKCdtb2RhbC1hbmltYXRpb24nLCAndHJ1ZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG1vZGFsRG9tRWwgPSAkY29tcGlsZShhbmd1bGFyRG9tRWwpKG1vZGFsLnNjb3BlKTtcclxuICAgICAgICBvcGVuZWRXaW5kb3dzLnRvcCgpLnZhbHVlLm1vZGFsRG9tRWwgPSBtb2RhbERvbUVsO1xyXG4gICAgICAgIG9wZW5lZFdpbmRvd3MudG9wKCkudmFsdWUubW9kYWxPcGVuZXIgPSBtb2RhbE9wZW5lcjtcclxuICAgICAgICBib2R5LmFwcGVuZChtb2RhbERvbUVsKTtcclxuICAgICAgICBib2R5LmFkZENsYXNzKG1vZGFsQm9keUNsYXNzKTtcclxuXHJcbiAgICAgICAgJG1vZGFsU3RhY2suY2xlYXJGb2N1c0xpc3RDYWNoZSgpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgZnVuY3Rpb24gYnJvYWRjYXN0Q2xvc2luZyhtb2RhbFdpbmRvdywgcmVzdWx0T3JSZWFzb24sIGNsb3NpbmcpIHtcclxuICAgICAgICAgIHJldHVybiAhbW9kYWxXaW5kb3cudmFsdWUubW9kYWxTY29wZS4kYnJvYWRjYXN0KCdtb2RhbC5jbG9zaW5nJywgcmVzdWx0T3JSZWFzb24sIGNsb3NpbmcpLmRlZmF1bHRQcmV2ZW50ZWQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRtb2RhbFN0YWNrLmNsb3NlID0gZnVuY3Rpb24obW9kYWxJbnN0YW5jZSwgcmVzdWx0KSB7XHJcbiAgICAgICAgdmFyIG1vZGFsV2luZG93ID0gb3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSk7XHJcbiAgICAgICAgaWYgKG1vZGFsV2luZG93ICYmIGJyb2FkY2FzdENsb3NpbmcobW9kYWxXaW5kb3csIHJlc3VsdCwgdHJ1ZSkpIHtcclxuICAgICAgICAgIG1vZGFsV2luZG93LnZhbHVlLm1vZGFsU2NvcGUuJCR1aWJEZXN0cnVjdGlvblNjaGVkdWxlZCA9IHRydWU7XHJcbiAgICAgICAgICBtb2RhbFdpbmRvdy52YWx1ZS5kZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICByZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlLCBtb2RhbFdpbmRvdy52YWx1ZS5tb2RhbE9wZW5lcik7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICFtb2RhbFdpbmRvdztcclxuICAgICAgfTtcclxuXHJcbiAgICAgICRtb2RhbFN0YWNrLmRpc21pc3MgPSBmdW5jdGlvbihtb2RhbEluc3RhbmNlLCByZWFzb24pIHtcclxuICAgICAgICB2YXIgbW9kYWxXaW5kb3cgPSBvcGVuZWRXaW5kb3dzLmdldChtb2RhbEluc3RhbmNlKTtcclxuICAgICAgICBpZiAobW9kYWxXaW5kb3cgJiYgYnJvYWRjYXN0Q2xvc2luZyhtb2RhbFdpbmRvdywgcmVhc29uLCBmYWxzZSkpIHtcclxuICAgICAgICAgIG1vZGFsV2luZG93LnZhbHVlLm1vZGFsU2NvcGUuJCR1aWJEZXN0cnVjdGlvblNjaGVkdWxlZCA9IHRydWU7XHJcbiAgICAgICAgICBtb2RhbFdpbmRvdy52YWx1ZS5kZWZlcnJlZC5yZWplY3QocmVhc29uKTtcclxuICAgICAgICAgIHJlbW92ZU1vZGFsV2luZG93KG1vZGFsSW5zdGFuY2UsIG1vZGFsV2luZG93LnZhbHVlLm1vZGFsT3BlbmVyKTtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gIW1vZGFsV2luZG93O1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgJG1vZGFsU3RhY2suZGlzbWlzc0FsbCA9IGZ1bmN0aW9uKHJlYXNvbikge1xyXG4gICAgICAgIHZhciB0b3BNb2RhbCA9IHRoaXMuZ2V0VG9wKCk7XHJcbiAgICAgICAgd2hpbGUgKHRvcE1vZGFsICYmIHRoaXMuZGlzbWlzcyh0b3BNb2RhbC5rZXksIHJlYXNvbikpIHtcclxuICAgICAgICAgIHRvcE1vZGFsID0gdGhpcy5nZXRUb3AoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAkbW9kYWxTdGFjay5nZXRUb3AgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gb3BlbmVkV2luZG93cy50b3AoKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgICRtb2RhbFN0YWNrLm1vZGFsUmVuZGVyZWQgPSBmdW5jdGlvbihtb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgdmFyIG1vZGFsV2luZG93ID0gb3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSk7XHJcbiAgICAgICAgaWYgKG1vZGFsV2luZG93KSB7XHJcbiAgICAgICAgICBtb2RhbFdpbmRvdy52YWx1ZS5yZW5kZXJEZWZlcnJlZC5yZXNvbHZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgJG1vZGFsU3RhY2suZm9jdXNGaXJzdEZvY3VzYWJsZUVsZW1lbnQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoZm9jdXNhYmxlRWxlbWVudExpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgZm9jdXNhYmxlRWxlbWVudExpc3RbMF0uZm9jdXMoKTtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH07XHJcbiAgICAgICRtb2RhbFN0YWNrLmZvY3VzTGFzdEZvY3VzYWJsZUVsZW1lbnQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoZm9jdXNhYmxlRWxlbWVudExpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgZm9jdXNhYmxlRWxlbWVudExpc3RbZm9jdXNhYmxlRWxlbWVudExpc3QubGVuZ3RoIC0gMV0uZm9jdXMoKTtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAkbW9kYWxTdGFjay5pc0ZvY3VzSW5GaXJzdEl0ZW0gPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICBpZiAoZm9jdXNhYmxlRWxlbWVudExpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgcmV0dXJuIChldnQudGFyZ2V0IHx8IGV2dC5zcmNFbGVtZW50KSA9PSBmb2N1c2FibGVFbGVtZW50TGlzdFswXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgJG1vZGFsU3RhY2suaXNGb2N1c0luTGFzdEl0ZW0gPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICBpZiAoZm9jdXNhYmxlRWxlbWVudExpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgcmV0dXJuIChldnQudGFyZ2V0IHx8IGV2dC5zcmNFbGVtZW50KSA9PSBmb2N1c2FibGVFbGVtZW50TGlzdFtmb2N1c2FibGVFbGVtZW50TGlzdC5sZW5ndGggLSAxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgJG1vZGFsU3RhY2suY2xlYXJGb2N1c0xpc3RDYWNoZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGZvY3VzYWJsZUVsZW1lbnRMaXN0ID0gW107XHJcbiAgICAgICAgZm9jdXNJbmRleCA9IDA7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAkbW9kYWxTdGFjay5sb2FkRm9jdXNFbGVtZW50TGlzdCA9IGZ1bmN0aW9uKG1vZGFsV2luZG93KSB7XHJcbiAgICAgICAgaWYgKGZvY3VzYWJsZUVsZW1lbnRMaXN0ID09PSB1bmRlZmluZWQgfHwgIWZvY3VzYWJsZUVsZW1lbnRMaXN0Lmxlbmd0aDApIHtcclxuICAgICAgICAgIGlmIChtb2RhbFdpbmRvdykge1xyXG4gICAgICAgICAgICB2YXIgbW9kYWxEb21FMSA9IG1vZGFsV2luZG93LnZhbHVlLm1vZGFsRG9tRWw7XHJcbiAgICAgICAgICAgIGlmIChtb2RhbERvbUUxICYmIG1vZGFsRG9tRTEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgZm9jdXNhYmxlRWxlbWVudExpc3QgPSBtb2RhbERvbUUxWzBdLnF1ZXJ5U2VsZWN0b3JBbGwodGFiYWJibGVTZWxlY3Rvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXR1cm4gJG1vZGFsU3RhY2s7XHJcbiAgICB9XSlcclxuXHJcbiAgLnByb3ZpZGVyKCckbW9kYWwnLCBmdW5jdGlvbigpIHtcclxuICAgIHZhciAkbW9kYWxQcm92aWRlciA9IHtcclxuICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgIGFuaW1hdGlvbjogdHJ1ZSxcclxuICAgICAgICBiYWNrZHJvcDogdHJ1ZSwgLy9jYW4gYWxzbyBiZSBmYWxzZSBvciAnc3RhdGljJ1xyXG4gICAgICAgIGtleWJvYXJkOiB0cnVlXHJcbiAgICAgIH0sXHJcbiAgICAgICRnZXQ6IFsnJGluamVjdG9yJywgJyRyb290U2NvcGUnLCAnJHEnLCAnJHRlbXBsYXRlUmVxdWVzdCcsICckY29udHJvbGxlcicsICckbW9kYWxTdGFjaycsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRpbmplY3RvciwgJHJvb3RTY29wZSwgJHEsICR0ZW1wbGF0ZVJlcXVlc3QsICRjb250cm9sbGVyLCAkbW9kYWxTdGFjaykge1xyXG4gICAgICAgICAgdmFyICRtb2RhbCA9IHt9O1xyXG5cclxuICAgICAgICAgIGZ1bmN0aW9uIGdldFRlbXBsYXRlUHJvbWlzZShvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLnRlbXBsYXRlID8gJHEud2hlbihvcHRpb25zLnRlbXBsYXRlKSA6XHJcbiAgICAgICAgICAgICAgJHRlbXBsYXRlUmVxdWVzdChhbmd1bGFyLmlzRnVuY3Rpb24ob3B0aW9ucy50ZW1wbGF0ZVVybCkgPyAob3B0aW9ucy50ZW1wbGF0ZVVybCkoKSA6IG9wdGlvbnMudGVtcGxhdGVVcmwpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGZ1bmN0aW9uIGdldFJlc29sdmVQcm9taXNlcyhyZXNvbHZlcykge1xyXG4gICAgICAgICAgICB2YXIgcHJvbWlzZXNBcnIgPSBbXTtcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHJlc29sdmVzLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odmFsdWUpIHx8IGFuZ3VsYXIuaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHByb21pc2VzQXJyLnB1c2goJHEud2hlbigkaW5qZWN0b3IuaW52b2tlKHZhbHVlKSkpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc1N0cmluZyh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHByb21pc2VzQXJyLnB1c2goJHEud2hlbigkaW5qZWN0b3IuZ2V0KHZhbHVlKSkpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwcm9taXNlc0Fyci5wdXNoKCRxLndoZW4odmFsdWUpKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZXNBcnI7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdmFyIHByb21pc2VDaGFpbiA9IG51bGw7XHJcbiAgICAgICAgICAkbW9kYWwuZ2V0UHJvbWlzZUNoYWluID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlQ2hhaW47XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICRtb2RhbC5vcGVuID0gZnVuY3Rpb24gKG1vZGFsT3B0aW9ucykge1xyXG5cclxuICAgICAgICAgICAgdmFyIG1vZGFsUmVzdWx0RGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG4gICAgICAgICAgICB2YXIgbW9kYWxPcGVuZWREZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgICAgIHZhciBtb2RhbFJlbmRlckRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuXHJcbiAgICAgICAgICAgIC8vcHJlcGFyZSBhbiBpbnN0YW5jZSBvZiBhIG1vZGFsIHRvIGJlIGluamVjdGVkIGludG8gY29udHJvbGxlcnMgYW5kIHJldHVybmVkIHRvIGEgY2FsbGVyXHJcbiAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0ge1xyXG4gICAgICAgICAgICAgIHJlc3VsdDogbW9kYWxSZXN1bHREZWZlcnJlZC5wcm9taXNlLFxyXG4gICAgICAgICAgICAgIG9wZW5lZDogbW9kYWxPcGVuZWREZWZlcnJlZC5wcm9taXNlLFxyXG4gICAgICAgICAgICAgIHJlbmRlcmVkOiBtb2RhbFJlbmRlckRlZmVycmVkLnByb21pc2UsXHJcbiAgICAgICAgICAgICAgY2xvc2U6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkbW9kYWxTdGFjay5jbG9zZShtb2RhbEluc3RhbmNlLCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgZGlzbWlzczogZnVuY3Rpb24gKHJlYXNvbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICRtb2RhbFN0YWNrLmRpc21pc3MobW9kYWxJbnN0YW5jZSwgcmVhc29uKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL21lcmdlIGFuZCBjbGVhbiB1cCBvcHRpb25zXHJcbiAgICAgICAgICAgIG1vZGFsT3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCAkbW9kYWxQcm92aWRlci5vcHRpb25zLCBtb2RhbE9wdGlvbnMpO1xyXG4gICAgICAgICAgICBtb2RhbE9wdGlvbnMucmVzb2x2ZSA9IG1vZGFsT3B0aW9ucy5yZXNvbHZlIHx8IHt9O1xyXG5cclxuICAgICAgICAgICAgLy92ZXJpZnkgb3B0aW9uc1xyXG4gICAgICAgICAgICBpZiAoIW1vZGFsT3B0aW9ucy50ZW1wbGF0ZSAmJiAhbW9kYWxPcHRpb25zLnRlbXBsYXRlVXJsKSB7XHJcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmUgb2YgdGVtcGxhdGUgb3IgdGVtcGxhdGVVcmwgb3B0aW9ucyBpcyByZXF1aXJlZC4nKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHRlbXBsYXRlQW5kUmVzb2x2ZVByb21pc2UgPVxyXG4gICAgICAgICAgICAgICRxLmFsbChbZ2V0VGVtcGxhdGVQcm9taXNlKG1vZGFsT3B0aW9ucyldLmNvbmNhdChnZXRSZXNvbHZlUHJvbWlzZXMobW9kYWxPcHRpb25zLnJlc29sdmUpKSk7XHJcblxyXG4gICAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgZXhpc3RpbmcgcHJvbWlzZSBjaGFpbi5cclxuICAgICAgICAgICAgLy8gVGhlbiBzd2l0Y2ggdG8gb3VyIG93biBjb21iaW5lZCBwcm9taXNlIGRlcGVuZGVuY3kgKHJlZ2FyZGxlc3Mgb2YgaG93IHRoZSBwcmV2aW91cyBtb2RhbCBmYXJlZCkuXHJcbiAgICAgICAgICAgIC8vIFRoZW4gYWRkIHRvICRtb2RhbFN0YWNrIGFuZCByZXNvbHZlIG9wZW5lZC5cclxuICAgICAgICAgICAgLy8gRmluYWxseSBjbGVhbiB1cCB0aGUgY2hhaW4gdmFyaWFibGUgaWYgbm8gc3Vic2VxdWVudCBtb2RhbCBoYXMgb3ZlcndyaXR0ZW4gaXQuXHJcbiAgICAgICAgICAgIHZhciBzYW1lUHJvbWlzZTtcclxuICAgICAgICAgICAgc2FtZVByb21pc2UgPSBwcm9taXNlQ2hhaW4gPSAkcS5hbGwoW3Byb21pc2VDaGFpbl0pXHJcbiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7IHJldHVybiB0ZW1wbGF0ZUFuZFJlc29sdmVQcm9taXNlOyB9LCBmdW5jdGlvbigpIHsgcmV0dXJuIHRlbXBsYXRlQW5kUmVzb2x2ZVByb21pc2U7IH0pXHJcbiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gcmVzb2x2ZVN1Y2Nlc3ModHBsQW5kVmFycykge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBtb2RhbFNjb3BlID0gKG1vZGFsT3B0aW9ucy5zY29wZSB8fCAkcm9vdFNjb3BlKS4kbmV3KCk7XHJcbiAgICAgICAgICAgICAgICBtb2RhbFNjb3BlLiRjbG9zZSA9IG1vZGFsSW5zdGFuY2UuY2xvc2U7XHJcbiAgICAgICAgICAgICAgICBtb2RhbFNjb3BlLiRkaXNtaXNzID0gbW9kYWxJbnN0YW5jZS5kaXNtaXNzO1xyXG5cclxuICAgICAgICAgICAgICAgIG1vZGFsU2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICBpZiAoIW1vZGFsU2NvcGUuJCR1aWJEZXN0cnVjdGlvblNjaGVkdWxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsU2NvcGUuJGRpc21pc3MoJyR1aWJVbnNjaGVkdWxlZERlc3RydWN0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBjdHJsSW5zdGFuY2UsIGN0cmxMb2NhbHMgPSB7fTtcclxuICAgICAgICAgICAgICAgIHZhciByZXNvbHZlSXRlciA9IDE7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9jb250cm9sbGVyc1xyXG4gICAgICAgICAgICAgICAgaWYgKG1vZGFsT3B0aW9ucy5jb250cm9sbGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgIGN0cmxMb2NhbHMuJHNjb3BlID0gbW9kYWxTY29wZTtcclxuICAgICAgICAgICAgICAgICAgY3RybExvY2Fscy4kbW9kYWxJbnN0YW5jZSA9IG1vZGFsSW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChtb2RhbE9wdGlvbnMucmVzb2x2ZSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0cmxMb2NhbHNba2V5XSA9IHRwbEFuZFZhcnNbcmVzb2x2ZUl0ZXIrK107XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgY3RybEluc3RhbmNlID0gJGNvbnRyb2xsZXIobW9kYWxPcHRpb25zLmNvbnRyb2xsZXIsIGN0cmxMb2NhbHMpO1xyXG4gICAgICAgICAgICAgICAgICBpZiAobW9kYWxPcHRpb25zLmNvbnRyb2xsZXJBcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RhbE9wdGlvbnMuYmluZFRvQ29udHJvbGxlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoY3RybEluc3RhbmNlLCBtb2RhbFNjb3BlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsU2NvcGVbbW9kYWxPcHRpb25zLmNvbnRyb2xsZXJBc10gPSBjdHJsSW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAkbW9kYWxTdGFjay5vcGVuKG1vZGFsSW5zdGFuY2UsIHtcclxuICAgICAgICAgICAgICAgICAgc2NvcGU6IG1vZGFsU2NvcGUsXHJcbiAgICAgICAgICAgICAgICAgIGRlZmVycmVkOiBtb2RhbFJlc3VsdERlZmVycmVkLFxyXG4gICAgICAgICAgICAgICAgICByZW5kZXJEZWZlcnJlZDogbW9kYWxSZW5kZXJEZWZlcnJlZCxcclxuICAgICAgICAgICAgICAgICAgY29udGVudDogdHBsQW5kVmFyc1swXSxcclxuICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBtb2RhbE9wdGlvbnMuYW5pbWF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICBiYWNrZHJvcDogbW9kYWxPcHRpb25zLmJhY2tkcm9wLFxyXG4gICAgICAgICAgICAgICAgICBrZXlib2FyZDogbW9kYWxPcHRpb25zLmtleWJvYXJkLFxyXG4gICAgICAgICAgICAgICAgICBiYWNrZHJvcENsYXNzOiBtb2RhbE9wdGlvbnMuYmFja2Ryb3BDbGFzcyxcclxuICAgICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6IG1vZGFsT3B0aW9ucy53aW5kb3dDbGFzcyxcclxuICAgICAgICAgICAgICAgICAgd2luZG93VGVtcGxhdGVVcmw6IG1vZGFsT3B0aW9ucy53aW5kb3dUZW1wbGF0ZVVybCxcclxuICAgICAgICAgICAgICAgICAgc2l6ZTogbW9kYWxPcHRpb25zLnNpemUsXHJcbiAgICAgICAgICAgICAgICAgIG9wZW5lZENsYXNzOiBtb2RhbE9wdGlvbnMub3BlbmVkQ2xhc3NcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbW9kYWxPcGVuZWREZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xyXG5cclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gcmVzb2x2ZUVycm9yKHJlYXNvbikge1xyXG4gICAgICAgICAgICAgIG1vZGFsT3BlbmVkRGVmZXJyZWQucmVqZWN0KHJlYXNvbik7XHJcbiAgICAgICAgICAgICAgbW9kYWxSZXN1bHREZWZlcnJlZC5yZWplY3QocmVhc29uKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmZpbmFsbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgaWYgKHByb21pc2VDaGFpbiA9PT0gc2FtZVByb21pc2UpIHtcclxuICAgICAgICAgICAgICAgIHByb21pc2VDaGFpbiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBtb2RhbEluc3RhbmNlO1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICByZXR1cm4gJG1vZGFsO1xyXG4gICAgICAgIH1dXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiAkbW9kYWxQcm92aWRlcjtcclxuICB9KTtcclxuXHJcbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucGFnaW5hdGlvbicsIFtdKVxyXG4uY29udHJvbGxlcignUGFnaW5hdGlvbkNvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAnJHBhcnNlJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsICRwYXJzZSkge1xyXG4gIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgbmdNb2RlbEN0cmwgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9LCAvLyBudWxsTW9kZWxDdHJsXHJcbiAgICAgIHNldE51bVBhZ2VzID0gJGF0dHJzLm51bVBhZ2VzID8gJHBhcnNlKCRhdHRycy5udW1QYWdlcykuYXNzaWduIDogYW5ndWxhci5ub29wO1xyXG5cclxuICB0aGlzLmluaXQgPSBmdW5jdGlvbihuZ01vZGVsQ3RybF8sIGNvbmZpZykge1xyXG4gICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87XHJcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcclxuXHJcbiAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHNlbGYucmVuZGVyKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGlmICgkYXR0cnMuaXRlbXNQZXJQYWdlKSB7XHJcbiAgICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLml0ZW1zUGVyUGFnZSksIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgc2VsZi5pdGVtc1BlclBhZ2UgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xyXG4gICAgICAgICRzY29wZS50b3RhbFBhZ2VzID0gc2VsZi5jYWxjdWxhdGVUb3RhbFBhZ2VzKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5pdGVtc1BlclBhZ2UgPSBjb25maWcuaXRlbXNQZXJQYWdlO1xyXG4gICAgfVxyXG5cclxuICAgICRzY29wZS4kd2F0Y2goJ3RvdGFsSXRlbXMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgJHNjb3BlLnRvdGFsUGFnZXMgPSBzZWxmLmNhbGN1bGF0ZVRvdGFsUGFnZXMoKTtcclxuICAgIH0pO1xyXG5cclxuICAgICRzY29wZS4kd2F0Y2goJ3RvdGFsUGFnZXMnLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICBzZXROdW1QYWdlcygkc2NvcGUuJHBhcmVudCwgdmFsdWUpOyAvLyBSZWFkb25seSB2YXJpYWJsZVxyXG5cclxuICAgICAgaWYgKCAkc2NvcGUucGFnZSA+IHZhbHVlICkge1xyXG4gICAgICAgICRzY29wZS5zZWxlY3RQYWdlKHZhbHVlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuY2FsY3VsYXRlVG90YWxQYWdlcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHRvdGFsUGFnZXMgPSB0aGlzLml0ZW1zUGVyUGFnZSA8IDEgPyAxIDogTWF0aC5jZWlsKCRzY29wZS50b3RhbEl0ZW1zIC8gdGhpcy5pdGVtc1BlclBhZ2UpO1xyXG4gICAgcmV0dXJuIE1hdGgubWF4KHRvdGFsUGFnZXMgfHwgMCwgMSk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5yZW5kZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICRzY29wZS5wYWdlID0gcGFyc2VJbnQobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSwgMTApIHx8IDE7XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLnNlbGVjdFBhZ2UgPSBmdW5jdGlvbihwYWdlLCBldnQpIHtcclxuICAgIGlmIChldnQpIHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGNsaWNrQWxsb3dlZCA9ICEkc2NvcGUubmdEaXNhYmxlZCB8fCAhZXZ0O1xyXG4gICAgaWYgKGNsaWNrQWxsb3dlZCAmJiAkc2NvcGUucGFnZSAhPT0gcGFnZSAmJiBwYWdlID4gMCAmJiBwYWdlIDw9ICRzY29wZS50b3RhbFBhZ2VzKSB7XHJcbiAgICAgIGlmIChldnQgJiYgZXZ0LnRhcmdldCkge1xyXG4gICAgICAgIGV2dC50YXJnZXQuYmx1cigpO1xyXG4gICAgICB9XHJcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUocGFnZSk7XHJcbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAkc2NvcGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKGtleSkge1xyXG4gICAgcmV0dXJuICRzY29wZVtrZXkgKyAnVGV4dCddIHx8IHNlbGYuY29uZmlnW2tleSArICdUZXh0J107XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLm5vUHJldmlvdXMgPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiAkc2NvcGUucGFnZSA9PT0gMTtcclxuICB9O1xyXG5cclxuICAkc2NvcGUubm9OZXh0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gJHNjb3BlLnBhZ2UgPT09ICRzY29wZS50b3RhbFBhZ2VzO1xyXG4gIH07XHJcbn1dKVxyXG5cclxuLmNvbnN0YW50KCdwYWdpbmF0aW9uQ29uZmlnJywge1xyXG4gIGl0ZW1zUGVyUGFnZTogMTAsXHJcbiAgYm91bmRhcnlMaW5rczogZmFsc2UsXHJcbiAgZGlyZWN0aW9uTGlua3M6IHRydWUsXHJcbiAgZmlyc3RUZXh0OiAnRmlyc3QnLFxyXG4gIHByZXZpb3VzVGV4dDogJ1ByZXZpb3VzJyxcclxuICBuZXh0VGV4dDogJ05leHQnLFxyXG4gIGxhc3RUZXh0OiAnTGFzdCcsXHJcbiAgcm90YXRlOiB0cnVlXHJcbn0pXHJcblxyXG4uZGlyZWN0aXZlKCdwYWdpbmF0aW9uJywgWyckcGFyc2UnLCAncGFnaW5hdGlvbkNvbmZpZycsIGZ1bmN0aW9uKCRwYXJzZSwgcGFnaW5hdGlvbkNvbmZpZykge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0VBJyxcclxuICAgIHNjb3BlOiB7XHJcbiAgICAgIHRvdGFsSXRlbXM6ICc9JyxcclxuICAgICAgZmlyc3RUZXh0OiAnQCcsXHJcbiAgICAgIHByZXZpb3VzVGV4dDogJ0AnLFxyXG4gICAgICBuZXh0VGV4dDogJ0AnLFxyXG4gICAgICBsYXN0VGV4dDogJ0AnLFxyXG4gICAgICBuZ0Rpc2FibGVkOic9J1xyXG4gICAgfSxcclxuICAgIHJlcXVpcmU6IFsncGFnaW5hdGlvbicsICc/bmdNb2RlbCddLFxyXG4gICAgY29udHJvbGxlcjogJ1BhZ2luYXRpb25Db250cm9sbGVyJyxcclxuICAgIGNvbnRyb2xsZXJBczogJ3BhZ2luYXRpb24nLFxyXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmh0bWwnO1xyXG4gICAgfSxcclxuICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XHJcbiAgICAgIHZhciBwYWdpbmF0aW9uQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xyXG5cclxuICAgICAgaWYgKCFuZ01vZGVsQ3RybCkge1xyXG4gICAgICAgICByZXR1cm47IC8vIGRvIG5vdGhpbmcgaWYgbm8gbmctbW9kZWxcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU2V0dXAgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzXHJcbiAgICAgIHZhciBtYXhTaXplID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMubWF4U2l6ZSkgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLm1heFNpemUpIDogcGFnaW5hdGlvbkNvbmZpZy5tYXhTaXplLFxyXG4gICAgICAgICAgcm90YXRlID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMucm90YXRlKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMucm90YXRlKSA6IHBhZ2luYXRpb25Db25maWcucm90YXRlO1xyXG4gICAgICBzY29wZS5ib3VuZGFyeUxpbmtzID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuYm91bmRhcnlMaW5rcykgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmJvdW5kYXJ5TGlua3MpIDogcGFnaW5hdGlvbkNvbmZpZy5ib3VuZGFyeUxpbmtzO1xyXG4gICAgICBzY29wZS5kaXJlY3Rpb25MaW5rcyA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmRpcmVjdGlvbkxpbmtzKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuZGlyZWN0aW9uTGlua3MpIDogcGFnaW5hdGlvbkNvbmZpZy5kaXJlY3Rpb25MaW5rcztcclxuXHJcbiAgICAgIHBhZ2luYXRpb25DdHJsLmluaXQobmdNb2RlbEN0cmwsIHBhZ2luYXRpb25Db25maWcpO1xyXG5cclxuICAgICAgaWYgKGF0dHJzLm1heFNpemUpIHtcclxuICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoYXR0cnMubWF4U2l6ZSksIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICBtYXhTaXplID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcclxuICAgICAgICAgIHBhZ2luYXRpb25DdHJsLnJlbmRlcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDcmVhdGUgcGFnZSBvYmplY3QgdXNlZCBpbiB0ZW1wbGF0ZVxyXG4gICAgICBmdW5jdGlvbiBtYWtlUGFnZShudW1iZXIsIHRleHQsIGlzQWN0aXZlKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIG51bWJlcjogbnVtYmVyLFxyXG4gICAgICAgICAgdGV4dDogdGV4dCxcclxuICAgICAgICAgIGFjdGl2ZTogaXNBY3RpdmVcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBnZXRQYWdlcyhjdXJyZW50UGFnZSwgdG90YWxQYWdlcykge1xyXG4gICAgICAgIHZhciBwYWdlcyA9IFtdO1xyXG5cclxuICAgICAgICAvLyBEZWZhdWx0IHBhZ2UgbGltaXRzXHJcbiAgICAgICAgdmFyIHN0YXJ0UGFnZSA9IDEsIGVuZFBhZ2UgPSB0b3RhbFBhZ2VzO1xyXG4gICAgICAgIHZhciBpc01heFNpemVkID0gYW5ndWxhci5pc0RlZmluZWQobWF4U2l6ZSkgJiYgbWF4U2l6ZSA8IHRvdGFsUGFnZXM7XHJcblxyXG4gICAgICAgIC8vIHJlY29tcHV0ZSBpZiBtYXhTaXplXHJcbiAgICAgICAgaWYgKGlzTWF4U2l6ZWQpIHtcclxuICAgICAgICAgIGlmIChyb3RhdGUpIHtcclxuICAgICAgICAgICAgLy8gQ3VycmVudCBwYWdlIGlzIGRpc3BsYXllZCBpbiB0aGUgbWlkZGxlIG9mIHRoZSB2aXNpYmxlIG9uZXNcclxuICAgICAgICAgICAgc3RhcnRQYWdlID0gTWF0aC5tYXgoY3VycmVudFBhZ2UgLSBNYXRoLmZsb29yKG1heFNpemUvMiksIDEpO1xyXG4gICAgICAgICAgICBlbmRQYWdlICAgPSBzdGFydFBhZ2UgKyBtYXhTaXplIC0gMTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkanVzdCBpZiBsaW1pdCBpcyBleGNlZWRlZFxyXG4gICAgICAgICAgICBpZiAoZW5kUGFnZSA+IHRvdGFsUGFnZXMpIHtcclxuICAgICAgICAgICAgICBlbmRQYWdlICAgPSB0b3RhbFBhZ2VzO1xyXG4gICAgICAgICAgICAgIHN0YXJ0UGFnZSA9IGVuZFBhZ2UgLSBtYXhTaXplICsgMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gVmlzaWJsZSBwYWdlcyBhcmUgcGFnaW5hdGVkIHdpdGggbWF4U2l6ZVxyXG4gICAgICAgICAgICBzdGFydFBhZ2UgPSAoKE1hdGguY2VpbChjdXJyZW50UGFnZSAvIG1heFNpemUpIC0gMSkgKiBtYXhTaXplKSArIDE7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGp1c3QgbGFzdCBwYWdlIGlmIGxpbWl0IGlzIGV4Y2VlZGVkXHJcbiAgICAgICAgICAgIGVuZFBhZ2UgPSBNYXRoLm1pbihzdGFydFBhZ2UgKyBtYXhTaXplIC0gMSwgdG90YWxQYWdlcyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBZGQgcGFnZSBudW1iZXIgbGlua3NcclxuICAgICAgICBmb3IgKHZhciBudW1iZXIgPSBzdGFydFBhZ2U7IG51bWJlciA8PSBlbmRQYWdlOyBudW1iZXIrKykge1xyXG4gICAgICAgICAgdmFyIHBhZ2UgPSBtYWtlUGFnZShudW1iZXIsIG51bWJlciwgbnVtYmVyID09PSBjdXJyZW50UGFnZSk7XHJcbiAgICAgICAgICBwYWdlcy5wdXNoKHBhZ2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQWRkIGxpbmtzIHRvIG1vdmUgYmV0d2VlbiBwYWdlIHNldHNcclxuICAgICAgICBpZiAoaXNNYXhTaXplZCAmJiAhIHJvdGF0ZSkge1xyXG4gICAgICAgICAgaWYgKHN0YXJ0UGFnZSA+IDEpIHtcclxuICAgICAgICAgICAgdmFyIHByZXZpb3VzUGFnZVNldCA9IG1ha2VQYWdlKHN0YXJ0UGFnZSAtIDEsICcuLi4nLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHBhZ2VzLnVuc2hpZnQocHJldmlvdXNQYWdlU2V0KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoZW5kUGFnZSA8IHRvdGFsUGFnZXMpIHtcclxuICAgICAgICAgICAgdmFyIG5leHRQYWdlU2V0ID0gbWFrZVBhZ2UoZW5kUGFnZSArIDEsICcuLi4nLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHBhZ2VzLnB1c2gobmV4dFBhZ2VTZXQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHBhZ2VzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgb3JpZ2luYWxSZW5kZXIgPSBwYWdpbmF0aW9uQ3RybC5yZW5kZXI7XHJcbiAgICAgIHBhZ2luYXRpb25DdHJsLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIG9yaWdpbmFsUmVuZGVyKCk7XHJcbiAgICAgICAgaWYgKHNjb3BlLnBhZ2UgPiAwICYmIHNjb3BlLnBhZ2UgPD0gc2NvcGUudG90YWxQYWdlcykge1xyXG4gICAgICAgICAgc2NvcGUucGFnZXMgPSBnZXRQYWdlcyhzY29wZS5wYWdlLCBzY29wZS50b3RhbFBhZ2VzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfTtcclxufV0pXHJcblxyXG4uY29uc3RhbnQoJ3BhZ2VyQ29uZmlnJywge1xyXG4gIGl0ZW1zUGVyUGFnZTogMTAsXHJcbiAgcHJldmlvdXNUZXh0OiAnwqsgUHJldmlvdXMnLFxyXG4gIG5leHRUZXh0OiAnTmV4dCDCuycsXHJcbiAgYWxpZ246IHRydWVcclxufSlcclxuXHJcbi5kaXJlY3RpdmUoJ3BhZ2VyJywgWydwYWdlckNvbmZpZycsIGZ1bmN0aW9uKHBhZ2VyQ29uZmlnKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgc2NvcGU6IHtcclxuICAgICAgdG90YWxJdGVtczogJz0nLFxyXG4gICAgICBwcmV2aW91c1RleHQ6ICdAJyxcclxuICAgICAgbmV4dFRleHQ6ICdAJyxcclxuICAgICAgbmdEaXNhYmxlZDogJz0nXHJcbiAgICB9LFxyXG4gICAgcmVxdWlyZTogWydwYWdlcicsICc/bmdNb2RlbCddLFxyXG4gICAgY29udHJvbGxlcjogJ1BhZ2luYXRpb25Db250cm9sbGVyJyxcclxuICAgIGNvbnRyb2xsZXJBczogJ3BhZ2luYXRpb24nLFxyXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sJztcclxuICAgIH0sXHJcbiAgICByZXBsYWNlOiB0cnVlLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xyXG4gICAgICB2YXIgcGFnaW5hdGlvbkN0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcclxuXHJcbiAgICAgIGlmICghbmdNb2RlbEN0cmwpIHtcclxuICAgICAgICAgcmV0dXJuOyAvLyBkbyBub3RoaW5nIGlmIG5vIG5nLW1vZGVsXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNjb3BlLmFsaWduID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuYWxpZ24pID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5hbGlnbikgOiBwYWdlckNvbmZpZy5hbGlnbjtcclxuICAgICAgcGFnaW5hdGlvbkN0cmwuaW5pdChuZ01vZGVsQ3RybCwgcGFnZXJDb25maWcpO1xyXG4gICAgfVxyXG4gIH07XHJcbn1dKTtcclxuXHJcbi8qKlxyXG4gKiBUaGUgZm9sbG93aW5nIGZlYXR1cmVzIGFyZSBzdGlsbCBvdXRzdGFuZGluZzogYW5pbWF0aW9uIGFzIGFcclxuICogZnVuY3Rpb24sIHBsYWNlbWVudCBhcyBhIGZ1bmN0aW9uLCBpbnNpZGUsIHN1cHBvcnQgZm9yIG1vcmUgdHJpZ2dlcnMgdGhhblxyXG4gKiBqdXN0IG1vdXNlIGVudGVyL2xlYXZlLCBodG1sIHRvb2x0aXBzLCBhbmQgc2VsZWN0b3IgZGVsZWdhdGlvbi5cclxuICovXHJcbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAudG9vbHRpcCcsIFsndWkuYm9vdHN0cmFwLnBvc2l0aW9uJywgJ3VpLmJvb3RzdHJhcC5iaW5kSHRtbCddKVxyXG5cclxuLyoqXHJcbiAqIFRoZSAkdG9vbHRpcCBzZXJ2aWNlIGNyZWF0ZXMgdG9vbHRpcC0gYW5kIHBvcG92ZXItbGlrZSBkaXJlY3RpdmVzIGFzIHdlbGwgYXNcclxuICogaG91c2VzIGdsb2JhbCBvcHRpb25zIGZvciB0aGVtLlxyXG4gKi9cclxuLnByb3ZpZGVyKCckdG9vbHRpcCcsIGZ1bmN0aW9uKCkge1xyXG4gIC8vIFRoZSBkZWZhdWx0IG9wdGlvbnMgdG9vbHRpcCBhbmQgcG9wb3Zlci5cclxuICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgICBwbGFjZW1lbnQ6ICd0b3AnLFxyXG4gICAgYW5pbWF0aW9uOiB0cnVlLFxyXG4gICAgcG9wdXBEZWxheTogMCxcclxuICAgIHVzZUNvbnRlbnRFeHA6IGZhbHNlXHJcbiAgfTtcclxuXHJcbiAgLy8gRGVmYXVsdCBoaWRlIHRyaWdnZXJzIGZvciBlYWNoIHNob3cgdHJpZ2dlclxyXG4gIHZhciB0cmlnZ2VyTWFwID0ge1xyXG4gICAgJ21vdXNlZW50ZXInOiAnbW91c2VsZWF2ZScsXHJcbiAgICAnY2xpY2snOiAnY2xpY2snLFxyXG4gICAgJ2ZvY3VzJzogJ2JsdXInLFxyXG4gICAgJ25vbmUnOiAnJ1xyXG4gIH07XHJcblxyXG4gIC8vIFRoZSBvcHRpb25zIHNwZWNpZmllZCB0byB0aGUgcHJvdmlkZXIgZ2xvYmFsbHkuXHJcbiAgdmFyIGdsb2JhbE9wdGlvbnMgPSB7fTtcclxuXHJcbiAgLyoqXHJcbiAgICogYG9wdGlvbnMoe30pYCBhbGxvd3MgZ2xvYmFsIGNvbmZpZ3VyYXRpb24gb2YgYWxsIHRvb2x0aXBzIGluIHRoZVxyXG4gICAqIGFwcGxpY2F0aW9uLlxyXG4gICAqXHJcbiAgICogICB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoICdBcHAnLCBbJ3VpLmJvb3RzdHJhcC50b29sdGlwJ10sIGZ1bmN0aW9uKCAkdG9vbHRpcFByb3ZpZGVyICkge1xyXG4gICAqICAgICAvLyBwbGFjZSB0b29sdGlwcyBsZWZ0IGluc3RlYWQgb2YgdG9wIGJ5IGRlZmF1bHRcclxuICAgKiAgICAgJHRvb2x0aXBQcm92aWRlci5vcHRpb25zKCB7IHBsYWNlbWVudDogJ2xlZnQnIH0gKTtcclxuICAgKiAgIH0pO1xyXG4gICAqL1xyXG5cdHRoaXMub3B0aW9ucyA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRhbmd1bGFyLmV4dGVuZChnbG9iYWxPcHRpb25zLCB2YWx1ZSk7XHJcblx0fTtcclxuXHJcbiAgLyoqXHJcbiAgICogVGhpcyBhbGxvd3MgeW91IHRvIGV4dGVuZCB0aGUgc2V0IG9mIHRyaWdnZXIgbWFwcGluZ3MgYXZhaWxhYmxlLiBFLmcuOlxyXG4gICAqXHJcbiAgICogICAkdG9vbHRpcFByb3ZpZGVyLnNldFRyaWdnZXJzKCAnb3BlblRyaWdnZXInOiAnY2xvc2VUcmlnZ2VyJyApO1xyXG4gICAqL1xyXG4gIHRoaXMuc2V0VHJpZ2dlcnMgPSBmdW5jdGlvbiBzZXRUcmlnZ2Vycyh0cmlnZ2Vycykge1xyXG4gICAgYW5ndWxhci5leHRlbmQodHJpZ2dlck1hcCwgdHJpZ2dlcnMpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoaXMgaXMgYSBoZWxwZXIgZnVuY3Rpb24gZm9yIHRyYW5zbGF0aW5nIGNhbWVsLWNhc2UgdG8gc25ha2UtY2FzZS5cclxuICAgKi9cclxuICBmdW5jdGlvbiBzbmFrZV9jYXNlKG5hbWUpIHtcclxuICAgIHZhciByZWdleHAgPSAvW0EtWl0vZztcclxuICAgIHZhciBzZXBhcmF0b3IgPSAnLSc7XHJcbiAgICByZXR1cm4gbmFtZS5yZXBsYWNlKHJlZ2V4cCwgZnVuY3Rpb24obGV0dGVyLCBwb3MpIHtcclxuICAgICAgcmV0dXJuIChwb3MgPyBzZXBhcmF0b3IgOiAnJykgKyBsZXR0ZXIudG9Mb3dlckNhc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgYWN0dWFsIGluc3RhbmNlIG9mIHRoZSAkdG9vbHRpcCBzZXJ2aWNlLlxyXG4gICAqIFRPRE8gc3VwcG9ydCBtdWx0aXBsZSB0cmlnZ2Vyc1xyXG4gICAqL1xyXG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckY29tcGlsZScsICckdGltZW91dCcsICckZG9jdW1lbnQnLCAnJHBvc2l0aW9uJywgJyRpbnRlcnBvbGF0ZScsICckcm9vdFNjb3BlJywgJyRwYXJzZScsIGZ1bmN0aW9uKCR3aW5kb3csICRjb21waWxlLCAkdGltZW91dCwgJGRvY3VtZW50LCAkcG9zaXRpb24sICRpbnRlcnBvbGF0ZSwgJHJvb3RTY29wZSwgJHBhcnNlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gJHRvb2x0aXAodHlwZSwgcHJlZml4LCBkZWZhdWx0VHJpZ2dlclNob3csIG9wdGlvbnMpIHtcclxuICAgICAgb3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBkZWZhdWx0T3B0aW9ucywgZ2xvYmFsT3B0aW9ucywgb3B0aW9ucyk7XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogUmV0dXJucyBhbiBvYmplY3Qgb2Ygc2hvdyBhbmQgaGlkZSB0cmlnZ2Vycy5cclxuICAgICAgICpcclxuICAgICAgICogSWYgYSB0cmlnZ2VyIGlzIHN1cHBsaWVkLFxyXG4gICAgICAgKiBpdCBpcyB1c2VkIHRvIHNob3cgdGhlIHRvb2x0aXA7IG90aGVyd2lzZSwgaXQgd2lsbCB1c2UgdGhlIGB0cmlnZ2VyYFxyXG4gICAgICAgKiBvcHRpb24gcGFzc2VkIHRvIHRoZSBgJHRvb2x0aXBQcm92aWRlci5vcHRpb25zYCBtZXRob2Q7IGVsc2UgaXQgd2lsbFxyXG4gICAgICAgKiBkZWZhdWx0IHRvIHRoZSB0cmlnZ2VyIHN1cHBsaWVkIHRvIHRoaXMgZGlyZWN0aXZlIGZhY3RvcnkuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFRoZSBoaWRlIHRyaWdnZXIgaXMgYmFzZWQgb24gdGhlIHNob3cgdHJpZ2dlci4gSWYgdGhlIGB0cmlnZ2VyYCBvcHRpb25cclxuICAgICAgICogd2FzIHBhc3NlZCB0byB0aGUgYCR0b29sdGlwUHJvdmlkZXIub3B0aW9uc2AgbWV0aG9kLCBpdCB3aWxsIHVzZSB0aGVcclxuICAgICAgICogbWFwcGVkIHRyaWdnZXIgZnJvbSBgdHJpZ2dlck1hcGAgb3IgdGhlIHBhc3NlZCB0cmlnZ2VyIGlmIHRoZSBtYXAgaXNcclxuICAgICAgICogdW5kZWZpbmVkOyBvdGhlcndpc2UsIGl0IHVzZXMgdGhlIGB0cmlnZ2VyTWFwYCB2YWx1ZSBvZiB0aGUgc2hvd1xyXG4gICAgICAgKiB0cmlnZ2VyOyBlbHNlIGl0IHdpbGwganVzdCB1c2UgdGhlIHNob3cgdHJpZ2dlci5cclxuICAgICAgICovXHJcbiAgICAgIGZ1bmN0aW9uIGdldFRyaWdnZXJzKHRyaWdnZXIpIHtcclxuICAgICAgICB2YXIgc2hvdyA9ICh0cmlnZ2VyIHx8IG9wdGlvbnMudHJpZ2dlciB8fCBkZWZhdWx0VHJpZ2dlclNob3cpLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgdmFyIGhpZGUgPSBzaG93Lm1hcChmdW5jdGlvbih0cmlnZ2VyKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJpZ2dlck1hcFt0cmlnZ2VyXSB8fCB0cmlnZ2VyO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzaG93OiBzaG93LFxyXG4gICAgICAgICAgaGlkZTogaGlkZVxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBkaXJlY3RpdmVOYW1lID0gc25ha2VfY2FzZSh0eXBlKTtcclxuXHJcbiAgICAgIHZhciBzdGFydFN5bSA9ICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpO1xyXG4gICAgICB2YXIgZW5kU3ltID0gJGludGVycG9sYXRlLmVuZFN5bWJvbCgpO1xyXG4gICAgICB2YXIgdGVtcGxhdGUgPVxyXG4gICAgICAgICc8ZGl2ICcrIGRpcmVjdGl2ZU5hbWUgKyctcG9wdXAgJytcclxuICAgICAgICAgICd0aXRsZT1cIicrc3RhcnRTeW0rJ3RpdGxlJytlbmRTeW0rJ1wiICcrXHJcbiAgICAgICAgICAob3B0aW9ucy51c2VDb250ZW50RXhwID9cclxuICAgICAgICAgICAgJ2NvbnRlbnQtZXhwPVwiY29udGVudEV4cCgpXCIgJyA6XHJcbiAgICAgICAgICAgICdjb250ZW50PVwiJytzdGFydFN5bSsnY29udGVudCcrZW5kU3ltKydcIiAnKSArXHJcbiAgICAgICAgICAncGxhY2VtZW50PVwiJytzdGFydFN5bSsncGxhY2VtZW50JytlbmRTeW0rJ1wiICcrXHJcbiAgICAgICAgICAncG9wdXAtY2xhc3M9XCInK3N0YXJ0U3ltKydwb3B1cENsYXNzJytlbmRTeW0rJ1wiICcrXHJcbiAgICAgICAgICAnYW5pbWF0aW9uPVwiYW5pbWF0aW9uXCIgJytcclxuICAgICAgICAgICdpcy1vcGVuPVwiaXNPcGVuXCInK1xyXG4gICAgICAgICAgJ29yaWdpbi1zY29wZT1cIm9yaWdTY29wZVwiICcrXHJcbiAgICAgICAgICAnPicrXHJcbiAgICAgICAgJzwvZGl2Pic7XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uKHRFbGVtLCB0QXR0cnMpIHtcclxuICAgICAgICAgIHZhciB0b29sdGlwTGlua2VyID0gJGNvbXBpbGUoIHRlbXBsYXRlICk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCB0b29sdGlwQ3RybCkge1xyXG4gICAgICAgICAgICB2YXIgdG9vbHRpcDtcclxuICAgICAgICAgICAgdmFyIHRvb2x0aXBMaW5rZWRTY29wZTtcclxuICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25UaW1lb3V0O1xyXG4gICAgICAgICAgICB2YXIgcG9wdXBUaW1lb3V0O1xyXG4gICAgICAgICAgICB2YXIgcG9zaXRpb25UaW1lb3V0O1xyXG4gICAgICAgICAgICB2YXIgYXBwZW5kVG9Cb2R5ID0gYW5ndWxhci5pc0RlZmluZWQob3B0aW9ucy5hcHBlbmRUb0JvZHkpID8gb3B0aW9ucy5hcHBlbmRUb0JvZHkgOiBmYWxzZTtcclxuICAgICAgICAgICAgdmFyIHRyaWdnZXJzID0gZ2V0VHJpZ2dlcnModW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgdmFyIGhhc0VuYWJsZUV4cCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzW3ByZWZpeCArICdFbmFibGUnXSk7XHJcbiAgICAgICAgICAgIHZhciB0dFNjb3BlID0gc2NvcGUuJG5ldyh0cnVlKTtcclxuICAgICAgICAgICAgdmFyIHJlcG9zaXRpb25TY2hlZHVsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdmFyIGlzT3BlbkV4cCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzW3ByZWZpeCArICdJc09wZW4nXSkgPyAkcGFyc2UoYXR0cnNbcHJlZml4ICsgJ0lzT3BlbiddKSA6IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uVG9vbHRpcCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIGlmICghdG9vbHRpcCkgeyByZXR1cm47IH1cclxuXHJcbiAgICAgICAgICAgICAgaWYgKCFwb3NpdGlvblRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uVGltZW91dCA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAvLyBSZXNldCB0aGUgcG9zaXRpb25pbmcgYW5kIGJveCBzaXplIGZvciBjb3JyZWN0IHdpZHRoIGFuZCBoZWlnaHQgdmFsdWVzLlxyXG4gICAgICAgICAgICAgICAgICB0b29sdGlwLmNzcyh7IHRvcDogMCwgbGVmdDogMCwgd2lkdGg6ICdhdXRvJywgaGVpZ2h0OiAnYXV0bycgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICB2YXIgdHRCb3ggPSAkcG9zaXRpb24ucG9zaXRpb24odG9vbHRpcCk7XHJcbiAgICAgICAgICAgICAgICAgIHZhciB0dENzcyA9ICRwb3NpdGlvbi5wb3NpdGlvbkVsZW1lbnRzKGVsZW1lbnQsIHRvb2x0aXAsIHR0U2NvcGUucGxhY2VtZW50LCBhcHBlbmRUb0JvZHkpO1xyXG4gICAgICAgICAgICAgICAgICB0dENzcy50b3AgKz0gJ3B4JztcclxuICAgICAgICAgICAgICAgICAgdHRDc3MubGVmdCArPSAncHgnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgdHRDc3Mud2lkdGggPSB0dEJveC53aWR0aCArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgIHR0Q3NzLmhlaWdodCA9IHR0Qm94LmhlaWdodCArICdweCc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBOb3cgc2V0IHRoZSBjYWxjdWxhdGVkIHBvc2l0aW9uaW5nIGFuZCBzaXplLlxyXG4gICAgICAgICAgICAgICAgICB0b29sdGlwLmNzcyh0dENzcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICBwb3NpdGlvblRpbWVvdXQgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIH0sIDAsIGZhbHNlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBTZXQgdXAgdGhlIGNvcnJlY3Qgc2NvcGUgdG8gYWxsb3cgdHJhbnNjbHVzaW9uIGxhdGVyXHJcbiAgICAgICAgICAgIHR0U2NvcGUub3JpZ1Njb3BlID0gc2NvcGU7XHJcblxyXG4gICAgICAgICAgICAvLyBCeSBkZWZhdWx0LCB0aGUgdG9vbHRpcCBpcyBub3Qgb3Blbi5cclxuICAgICAgICAgICAgLy8gVE9ETyBhZGQgYWJpbGl0eSB0byBzdGFydCB0b29sdGlwIG9wZW5lZFxyXG4gICAgICAgICAgICB0dFNjb3BlLmlzT3BlbiA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gdG9nZ2xlVG9vbHRpcEJpbmQoKSB7XHJcbiAgICAgICAgICAgICAgaWYgKCF0dFNjb3BlLmlzT3Blbikge1xyXG4gICAgICAgICAgICAgICAgc2hvd1Rvb2x0aXBCaW5kKCk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGhpZGVUb29sdGlwQmluZCgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU2hvdyB0aGUgdG9vbHRpcCB3aXRoIGRlbGF5IGlmIHNwZWNpZmllZCwgb3RoZXJ3aXNlIHNob3cgaXQgaW1tZWRpYXRlbHlcclxuICAgICAgICAgICAgZnVuY3Rpb24gc2hvd1Rvb2x0aXBCaW5kKCkge1xyXG4gICAgICAgICAgICAgIGlmIChoYXNFbmFibGVFeHAgJiYgIXNjb3BlLiRldmFsKGF0dHJzW3ByZWZpeCArICdFbmFibGUnXSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIHByZXBhcmVUb29sdGlwKCk7XHJcblxyXG4gICAgICAgICAgICAgIGlmICh0dFNjb3BlLnBvcHVwRGVsYXkpIHtcclxuICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmcgaWYgdGhlIHRvb2x0aXAgd2FzIGFscmVhZHkgc2NoZWR1bGVkIHRvIHBvcC11cC5cclxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaGFwcGVucyBpZiBzaG93IGlzIHRyaWdnZXJlZCBtdWx0aXBsZSB0aW1lcyBiZWZvcmUgYW55IGhpZGUgaXMgdHJpZ2dlcmVkLlxyXG4gICAgICAgICAgICAgICAgaWYgKCFwb3B1cFRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgcG9wdXBUaW1lb3V0ID0gJHRpbWVvdXQoc2hvdywgdHRTY29wZS5wb3B1cERlbGF5LCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNob3coKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGhpZGVUb29sdGlwQmluZCAoKSB7XHJcbiAgICAgICAgICAgICAgaGlkZSgpO1xyXG4gICAgICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFNob3cgdGhlIHRvb2x0aXAgcG9wdXAgZWxlbWVudC5cclxuICAgICAgICAgICAgZnVuY3Rpb24gc2hvdygpIHtcclxuICAgICAgICAgICAgICBwb3B1cFRpbWVvdXQgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIHBlbmRpbmcgcmVtb3ZlIHRyYW5zaXRpb24sIHdlIG11c3QgY2FuY2VsIGl0LCBsZXN0IHRoZVxyXG4gICAgICAgICAgICAgIC8vIHRvb2x0aXAgYmUgbXlzdGVyaW91c2x5IHJlbW92ZWQuXHJcbiAgICAgICAgICAgICAgaWYgKHRyYW5zaXRpb25UaW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwodHJhbnNpdGlvblRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvblRpbWVvdXQgPSBudWxsO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgLy8gRG9uJ3Qgc2hvdyBlbXB0eSB0b29sdGlwcy5cclxuICAgICAgICAgICAgICBpZiAoIShvcHRpb25zLnVzZUNvbnRlbnRFeHAgPyB0dFNjb3BlLmNvbnRlbnRFeHAoKSA6IHR0U2NvcGUuY29udGVudCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLm5vb3A7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBjcmVhdGVUb29sdGlwKCk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIEFuZCBzaG93IHRoZSB0b29sdGlwLlxyXG4gICAgICAgICAgICAgIHR0U2NvcGUuaXNPcGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBpZiAoaXNPcGVuRXhwKSB7XHJcbiAgICAgICAgICAgICAgICBpc09wZW5FeHAuYXNzaWduKHR0U2NvcGUub3JpZ1Njb3BlLCB0dFNjb3BlLmlzT3Blbik7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xyXG4gICAgICAgICAgICAgICAgdHRTY29wZS4kYXBwbHkoKTsgLy8gZGlnZXN0IHJlcXVpcmVkIGFzICRhcHBseSBpcyBub3QgY2FsbGVkXHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICB0b29sdGlwLmNzcyh7IGRpc3BsYXk6ICdibG9jaycgfSk7XHJcblxyXG4gICAgICAgICAgICAgIHBvc2l0aW9uVG9vbHRpcCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBIaWRlIHRoZSB0b29sdGlwIHBvcHVwIGVsZW1lbnQuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGhpZGUoKSB7XHJcbiAgICAgICAgICAgICAgLy8gRmlyc3QgdGhpbmdzIGZpcnN0OiB3ZSBkb24ndCBzaG93IGl0IGFueW1vcmUuXHJcbiAgICAgICAgICAgICAgdHRTY29wZS5pc09wZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICBpZiAoaXNPcGVuRXhwKSB7XHJcbiAgICAgICAgICAgICAgICBpc09wZW5FeHAuYXNzaWduKHR0U2NvcGUub3JpZ1Njb3BlLCB0dFNjb3BlLmlzT3Blbik7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAvL2lmIHRvb2x0aXAgaXMgZ29pbmcgdG8gYmUgc2hvd24gYWZ0ZXIgZGVsYXksIHdlIG11c3QgY2FuY2VsIHRoaXNcclxuICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwocG9wdXBUaW1lb3V0KTtcclxuICAgICAgICAgICAgICBwb3B1cFRpbWVvdXQgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwocG9zaXRpb25UaW1lb3V0KTtcclxuICAgICAgICAgICAgICBwb3NpdGlvblRpbWVvdXQgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAvLyBBbmQgbm93IHdlIHJlbW92ZSBpdCBmcm9tIHRoZSBET00uIEhvd2V2ZXIsIGlmIHdlIGhhdmUgYW5pbWF0aW9uLCB3ZVxyXG4gICAgICAgICAgICAgIC8vIG5lZWQgdG8gd2FpdCBmb3IgaXQgdG8gZXhwaXJlIGJlZm9yZWhhbmQuXHJcbiAgICAgICAgICAgICAgLy8gRklYTUU6IHRoaXMgaXMgYSBwbGFjZWhvbGRlciBmb3IgYSBwb3J0IG9mIHRoZSB0cmFuc2l0aW9ucyBsaWJyYXJ5LlxyXG4gICAgICAgICAgICAgIGlmICh0dFNjb3BlLmFuaW1hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0cmFuc2l0aW9uVGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uVGltZW91dCA9ICR0aW1lb3V0KHJlbW92ZVRvb2x0aXAsIDUwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZVRvb2x0aXAoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVRvb2x0aXAoKSB7XHJcbiAgICAgICAgICAgICAgLy8gVGhlcmUgY2FuIG9ubHkgYmUgb25lIHRvb2x0aXAgZWxlbWVudCBwZXIgZGlyZWN0aXZlIHNob3duIGF0IG9uY2UuXHJcbiAgICAgICAgICAgICAgaWYgKHRvb2x0aXApIHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZVRvb2x0aXAoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgdG9vbHRpcExpbmtlZFNjb3BlID0gdHRTY29wZS4kbmV3KCk7XHJcbiAgICAgICAgICAgICAgdG9vbHRpcCA9IHRvb2x0aXBMaW5rZXIodG9vbHRpcExpbmtlZFNjb3BlLCBmdW5jdGlvbih0b29sdGlwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXBwZW5kVG9Cb2R5KSB7XHJcbiAgICAgICAgICAgICAgICAgICRkb2N1bWVudC5maW5kKCdib2R5JykuYXBwZW5kKHRvb2x0aXApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgZWxlbWVudC5hZnRlcih0b29sdGlwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudXNlQ29udGVudEV4cCkge1xyXG4gICAgICAgICAgICAgICAgdG9vbHRpcExpbmtlZFNjb3BlLiR3YXRjaCgnY29udGVudEV4cCgpJywgZnVuY3Rpb24odmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmICghdmFsICYmIHR0U2NvcGUuaXNPcGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICBpZiAoIXJlcG9zaXRpb25TY2hlZHVsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXBvc2l0aW9uU2NoZWR1bGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmVwb3NpdGlvblNjaGVkdWxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHR0U2NvcGUuaXNPcGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uVG9vbHRpcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiByZW1vdmVUb29sdGlwKCkge1xyXG4gICAgICAgICAgICAgIHRyYW5zaXRpb25UaW1lb3V0ID0gbnVsbDtcclxuICAgICAgICAgICAgICBpZiAodG9vbHRpcCkge1xyXG4gICAgICAgICAgICAgICAgdG9vbHRpcC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIHRvb2x0aXAgPSBudWxsO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZiAodG9vbHRpcExpbmtlZFNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUuJGRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRvb2x0aXBMaW5rZWRTY29wZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBwcmVwYXJlVG9vbHRpcCgpIHtcclxuICAgICAgICAgICAgICBwcmVwUG9wdXBDbGFzcygpO1xyXG4gICAgICAgICAgICAgIHByZXBQbGFjZW1lbnQoKTtcclxuICAgICAgICAgICAgICBwcmVwUG9wdXBEZWxheSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0dFNjb3BlLmNvbnRlbnRFeHAgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gc2NvcGUuJGV2YWwoYXR0cnNbdHlwZV0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIE9ic2VydmUgdGhlIHJlbGV2YW50IGF0dHJpYnV0ZXMuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMudXNlQ29udGVudEV4cCkge1xyXG4gICAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKHR5cGUsIGZ1bmN0aW9uKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgdHRTY29wZS5jb250ZW50ID0gdmFsO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdmFsICYmIHR0U2NvcGUuaXNPcGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgIGhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uVG9vbHRpcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnZGlzYWJsZWQnLCBmdW5jdGlvbih2YWwpIHtcclxuICAgICAgICAgICAgICBpZiAocG9wdXBUaW1lb3V0ICYmIHZhbCkge1xyXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHBvcHVwVGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICBwb3B1cFRpbWVvdXQgPSBudWxsO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgaWYgKHZhbCAmJiB0dFNjb3BlLmlzT3Blbikge1xyXG4gICAgICAgICAgICAgICAgaGlkZSgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZShwcmVmaXggKyAnVGl0bGUnLCBmdW5jdGlvbih2YWwpIHtcclxuICAgICAgICAgICAgICB0dFNjb3BlLnRpdGxlID0gdmFsO1xyXG4gICAgICAgICAgICAgIHBvc2l0aW9uVG9vbHRpcCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKHByZWZpeCArICdQbGFjZW1lbnQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBpZiAodHRTY29wZS5pc09wZW4pIHtcclxuICAgICAgICAgICAgICAgIHByZXBQbGFjZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uVG9vbHRpcCgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaXNPcGVuRXhwKSB7XHJcbiAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGlzT3BlbkV4cCwgZnVuY3Rpb24odmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsICE9PSB0dFNjb3BlLmlzT3Blbikge1xyXG4gICAgICAgICAgICAgICAgICB0b2dnbGVUb29sdGlwQmluZCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBwcmVwUG9wdXBDbGFzcygpIHtcclxuICAgICAgICAgICAgICB0dFNjb3BlLnBvcHVwQ2xhc3MgPSBhdHRyc1twcmVmaXggKyAnQ2xhc3MnXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcHJlcFBsYWNlbWVudCgpIHtcclxuICAgICAgICAgICAgICB2YXIgdmFsID0gYXR0cnNbcHJlZml4ICsgJ1BsYWNlbWVudCddO1xyXG4gICAgICAgICAgICAgIHR0U2NvcGUucGxhY2VtZW50ID0gYW5ndWxhci5pc0RlZmluZWQodmFsKSA/IHZhbCA6IG9wdGlvbnMucGxhY2VtZW50O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBwcmVwUG9wdXBEZWxheSgpIHtcclxuICAgICAgICAgICAgICB2YXIgdmFsID0gYXR0cnNbcHJlZml4ICsgJ1BvcHVwRGVsYXknXTtcclxuICAgICAgICAgICAgICB2YXIgZGVsYXkgPSBwYXJzZUludCh2YWwsIDEwKTtcclxuICAgICAgICAgICAgICB0dFNjb3BlLnBvcHVwRGVsYXkgPSAhaXNOYU4oZGVsYXkpID8gZGVsYXkgOiBvcHRpb25zLnBvcHVwRGVsYXk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciB1bnJlZ2lzdGVyVHJpZ2dlcnMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICB0cmlnZ2Vycy5zaG93LmZvckVhY2goZnVuY3Rpb24odHJpZ2dlcikge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC51bmJpbmQodHJpZ2dlciwgc2hvd1Rvb2x0aXBCaW5kKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB0cmlnZ2Vycy5oaWRlLmZvckVhY2goZnVuY3Rpb24odHJpZ2dlcikge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC51bmJpbmQodHJpZ2dlciwgaGlkZVRvb2x0aXBCaW5kKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBUcmlnZ2VycygpIHtcclxuICAgICAgICAgICAgICB2YXIgdmFsID0gYXR0cnNbcHJlZml4ICsgJ1RyaWdnZXInXTtcclxuICAgICAgICAgICAgICB1bnJlZ2lzdGVyVHJpZ2dlcnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgdHJpZ2dlcnMgPSBnZXRUcmlnZ2Vycyh2YWwpO1xyXG5cclxuICAgICAgICAgICAgICBpZiAodHJpZ2dlcnMuc2hvdyAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2Vycy5zaG93LmZvckVhY2goZnVuY3Rpb24odHJpZ2dlciwgaWR4KSB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIFVzaW5nIHJhdyBhZGRFdmVudExpc3RlbmVyIGR1ZSB0byBqcUxpdGUvalF1ZXJ5IGJ1ZyAtICM0MDYwXHJcbiAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyID09PSB0cmlnZ2Vycy5oaWRlW2lkeF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50WzBdLmFkZEV2ZW50TGlzdGVuZXIodHJpZ2dlciwgdG9nZ2xlVG9vbHRpcEJpbmQpO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRyaWdnZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50WzBdLmFkZEV2ZW50TGlzdGVuZXIodHJpZ2dlciwgc2hvd1Rvb2x0aXBCaW5kKTtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50WzBdLmFkZEV2ZW50TGlzdGVuZXIodHJpZ2dlcnMuaGlkZVtpZHhdLCBoaWRlVG9vbHRpcEJpbmQpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHJlcFRyaWdnZXJzKCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gc2NvcGUuJGV2YWwoYXR0cnNbcHJlZml4ICsgJ0FuaW1hdGlvbiddKTtcclxuICAgICAgICAgICAgdHRTY29wZS5hbmltYXRpb24gPSBhbmd1bGFyLmlzRGVmaW5lZChhbmltYXRpb24pID8gISFhbmltYXRpb24gOiBvcHRpb25zLmFuaW1hdGlvbjtcclxuXHJcbiAgICAgICAgICAgIHZhciBhcHBlbmRUb0JvZHlWYWwgPSBzY29wZS4kZXZhbChhdHRyc1twcmVmaXggKyAnQXBwZW5kVG9Cb2R5J10pO1xyXG4gICAgICAgICAgICBhcHBlbmRUb0JvZHkgPSBhbmd1bGFyLmlzRGVmaW5lZChhcHBlbmRUb0JvZHlWYWwpID8gYXBwZW5kVG9Cb2R5VmFsIDogYXBwZW5kVG9Cb2R5O1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgYSB0b29sdGlwIGlzIGF0dGFjaGVkIHRvIDxib2R5PiB3ZSBuZWVkIHRvIHJlbW92ZSBpdCBvblxyXG4gICAgICAgICAgICAvLyBsb2NhdGlvbiBjaGFuZ2UgYXMgaXRzIHBhcmVudCBzY29wZSB3aWxsIHByb2JhYmx5IG5vdCBiZSBkZXN0cm95ZWRcclxuICAgICAgICAgICAgLy8gYnkgdGhlIGNoYW5nZS5cclxuICAgICAgICAgICAgaWYgKGFwcGVuZFRvQm9keSkge1xyXG4gICAgICAgICAgICAgIHNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uIGNsb3NlVG9vbHRpcE9uTG9jYXRpb25DaGFuZ2VTdWNjZXNzKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR0U2NvcGUuaXNPcGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgIGhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRvb2x0aXAgaXMgZGVzdHJveWVkIGFuZCByZW1vdmVkLlxyXG4gICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gb25EZXN0cm95VG9vbHRpcCgpIHtcclxuICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwodHJhbnNpdGlvblRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChwb3B1cFRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChwb3NpdGlvblRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgIHVucmVnaXN0ZXJUcmlnZ2VycygpO1xyXG4gICAgICAgICAgICAgIHJlbW92ZVRvb2x0aXAoKTtcclxuICAgICAgICAgICAgICB0dFNjb3BlID0gbnVsbDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH07XHJcbiAgfV07XHJcbn0pXHJcblxyXG4vLyBUaGlzIGlzIG1vc3RseSBuZ0luY2x1ZGUgY29kZSBidXQgd2l0aCBhIGN1c3RvbSBzY29wZVxyXG4uZGlyZWN0aXZlKCd0b29sdGlwVGVtcGxhdGVUcmFuc2NsdWRlJywgW1xyXG4gICAgICAgICAnJGFuaW1hdGUnLCAnJHNjZScsICckY29tcGlsZScsICckdGVtcGxhdGVSZXF1ZXN0JyxcclxuZnVuY3Rpb24gKCRhbmltYXRlICwgICRzY2UgLCAgJGNvbXBpbGUgLCAgJHRlbXBsYXRlUmVxdWVzdCkge1xyXG4gIHJldHVybiB7XHJcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cnMpIHtcclxuICAgICAgdmFyIG9yaWdTY29wZSA9IHNjb3BlLiRldmFsKGF0dHJzLnRvb2x0aXBUZW1wbGF0ZVRyYW5zY2x1ZGVTY29wZSk7XHJcblxyXG4gICAgICB2YXIgY2hhbmdlQ291bnRlciA9IDAsXHJcbiAgICAgICAgY3VycmVudFNjb3BlLFxyXG4gICAgICAgIHByZXZpb3VzRWxlbWVudCxcclxuICAgICAgICBjdXJyZW50RWxlbWVudDtcclxuXHJcbiAgICAgIHZhciBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHByZXZpb3VzRWxlbWVudCkge1xyXG4gICAgICAgICAgcHJldmlvdXNFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgICAgcHJldmlvdXNFbGVtZW50ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGN1cnJlbnRTY29wZSkge1xyXG4gICAgICAgICAgY3VycmVudFNjb3BlLiRkZXN0cm95KCk7XHJcbiAgICAgICAgICBjdXJyZW50U2NvcGUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY3VycmVudEVsZW1lbnQpIHtcclxuICAgICAgICAgICRhbmltYXRlLmxlYXZlKGN1cnJlbnRFbGVtZW50KS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBjdXJyZW50RWxlbWVudDtcclxuICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBzY29wZS4kd2F0Y2goJHNjZS5wYXJzZUFzUmVzb3VyY2VVcmwoYXR0cnMudG9vbHRpcFRlbXBsYXRlVHJhbnNjbHVkZSksIGZ1bmN0aW9uKHNyYykge1xyXG4gICAgICAgIHZhciB0aGlzQ2hhbmdlSWQgPSArK2NoYW5nZUNvdW50ZXI7XHJcblxyXG4gICAgICAgIGlmIChzcmMpIHtcclxuICAgICAgICAgIC8vc2V0IHRoZSAybmQgcGFyYW0gdG8gdHJ1ZSB0byBpZ25vcmUgdGhlIHRlbXBsYXRlIHJlcXVlc3QgZXJyb3Igc28gdGhhdCB0aGUgaW5uZXJcclxuICAgICAgICAgIC8vY29udGVudHMgYW5kIHNjb3BlIGNhbiBiZSBjbGVhbmVkIHVwLlxyXG4gICAgICAgICAgJHRlbXBsYXRlUmVxdWVzdChzcmMsIHRydWUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXNDaGFuZ2VJZCAhPT0gY2hhbmdlQ291bnRlcikgeyByZXR1cm47IH1cclxuICAgICAgICAgICAgdmFyIG5ld1Njb3BlID0gb3JpZ1Njb3BlLiRuZXcoKTtcclxuICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gcmVzcG9uc2U7XHJcblxyXG4gICAgICAgICAgICB2YXIgY2xvbmUgPSAkY29tcGlsZSh0ZW1wbGF0ZSkobmV3U2NvcGUsIGZ1bmN0aW9uKGNsb25lKSB7XHJcbiAgICAgICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xyXG4gICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNsb25lLCBlbGVtKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjdXJyZW50U2NvcGUgPSBuZXdTY29wZTtcclxuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBjbG9uZTtcclxuXHJcbiAgICAgICAgICAgIGN1cnJlbnRTY29wZS4kZW1pdCgnJGluY2x1ZGVDb250ZW50TG9hZGVkJywgc3JjKTtcclxuICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpc0NoYW5nZUlkID09PSBjaGFuZ2VDb3VudGVyKSB7XHJcbiAgICAgICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xyXG4gICAgICAgICAgICAgIHNjb3BlLiRlbWl0KCckaW5jbHVkZUNvbnRlbnRFcnJvcicsIHNyYyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgc2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudFJlcXVlc3RlZCcsIHNyYyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQpO1xyXG4gICAgfVxyXG4gIH07XHJcbn1dKVxyXG5cclxuLyoqXHJcbiAqIE5vdGUgdGhhdCBpdCdzIGludGVudGlvbmFsIHRoYXQgdGhlc2UgY2xhc3NlcyBhcmUgKm5vdCogYXBwbGllZCB0aHJvdWdoICRhbmltYXRlLlxyXG4gKiBUaGV5IG11c3Qgbm90IGJlIGFuaW1hdGVkIGFzIHRoZXkncmUgZXhwZWN0ZWQgdG8gYmUgcHJlc2VudCBvbiB0aGUgdG9vbHRpcCBvblxyXG4gKiBpbml0aWFsaXphdGlvbi5cclxuICovXHJcbi5kaXJlY3RpdmUoJ3Rvb2x0aXBDbGFzc2VzJywgZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgaWYgKHNjb3BlLnBsYWNlbWVudCkge1xyXG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3Moc2NvcGUucGxhY2VtZW50KTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoc2NvcGUucG9wdXBDbGFzcykge1xyXG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3Moc2NvcGUucG9wdXBDbGFzcyk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHNjb3BlLmFuaW1hdGlvbigpKSB7XHJcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhhdHRycy50b29sdGlwQW5pbWF0aW9uQ2xhc3MpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxufSlcclxuXHJcbi5kaXJlY3RpdmUoJ3Rvb2x0aXBQb3B1cCcsIGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0VBJyxcclxuICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICBzY29wZTogeyBjb250ZW50OiAnQCcsIHBsYWNlbWVudDogJ0AnLCBwb3B1cENsYXNzOiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyB9LFxyXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbCdcclxuICB9O1xyXG59KVxyXG5cclxuLmRpcmVjdGl2ZSgndG9vbHRpcCcsIFsgJyR0b29sdGlwJywgZnVuY3Rpb24oJHRvb2x0aXApIHtcclxuICByZXR1cm4gJHRvb2x0aXAoJ3Rvb2x0aXAnLCAndG9vbHRpcCcsICdtb3VzZWVudGVyJyk7XHJcbn1dKVxyXG5cclxuLmRpcmVjdGl2ZSgndG9vbHRpcFRlbXBsYXRlUG9wdXAnLCBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdFQScsXHJcbiAgICByZXBsYWNlOiB0cnVlLFxyXG4gICAgc2NvcGU6IHsgY29udGVudEV4cDogJyYnLCBwbGFjZW1lbnQ6ICdAJywgcG9wdXBDbGFzczogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicsXHJcbiAgICAgIG9yaWdpblNjb3BlOiAnJicgfSxcclxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXRlbXBsYXRlLXBvcHVwLmh0bWwnXHJcbiAgfTtcclxufSlcclxuXHJcbi5kaXJlY3RpdmUoJ3Rvb2x0aXBUZW1wbGF0ZScsIFsnJHRvb2x0aXAnLCBmdW5jdGlvbigkdG9vbHRpcCkge1xyXG4gIHJldHVybiAkdG9vbHRpcCgndG9vbHRpcFRlbXBsYXRlJywgJ3Rvb2x0aXAnLCAnbW91c2VlbnRlcicsIHtcclxuICAgIHVzZUNvbnRlbnRFeHA6IHRydWVcclxuICB9KTtcclxufV0pXHJcblxyXG4uZGlyZWN0aXZlKCd0b29sdGlwSHRtbFBvcHVwJywgZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgcmVwbGFjZTogdHJ1ZSxcclxuICAgIHNjb3BlOiB7IGNvbnRlbnRFeHA6ICcmJywgcGxhY2VtZW50OiAnQCcsIHBvcHVwQ2xhc3M6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnIH0sXHJcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXBvcHVwLmh0bWwnXHJcbiAgfTtcclxufSlcclxuXHJcbi5kaXJlY3RpdmUoJ3Rvb2x0aXBIdG1sJywgWyckdG9vbHRpcCcsIGZ1bmN0aW9uKCR0b29sdGlwKSB7XHJcbiAgcmV0dXJuICR0b29sdGlwKCd0b29sdGlwSHRtbCcsICd0b29sdGlwJywgJ21vdXNlZW50ZXInLCB7XHJcbiAgICB1c2VDb250ZW50RXhwOiB0cnVlXHJcbiAgfSk7XHJcbn1dKVxyXG5cclxuLypcclxuRGVwcmVjYXRlZFxyXG4qL1xyXG4uZGlyZWN0aXZlKCd0b29sdGlwSHRtbFVuc2FmZVBvcHVwJywgZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgcmVwbGFjZTogdHJ1ZSxcclxuICAgIHNjb3BlOiB7IGNvbnRlbnQ6ICdAJywgcGxhY2VtZW50OiAnQCcsIHBvcHVwQ2xhc3M6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnIH0sXHJcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sJ1xyXG4gIH07XHJcbn0pXHJcblxyXG4udmFsdWUoJ3Rvb2x0aXBIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkJywgZmFsc2UpXHJcbi5kaXJlY3RpdmUoJ3Rvb2x0aXBIdG1sVW5zYWZlJywgW1xyXG4gICAgICAgICAgJyR0b29sdGlwJywgJ3Rvb2x0aXBIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkJywgJyRsb2cnLFxyXG5mdW5jdGlvbigkdG9vbHRpcCAsICB0b29sdGlwSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCAsICAkbG9nKSB7XHJcbiAgaWYgKCF0b29sdGlwSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCkge1xyXG4gICAgJGxvZy53YXJuKCd0b29sdGlwLWh0bWwtdW5zYWZlIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdG9vbHRpcC1odG1sIG9yIHRvb2x0aXAtdGVtcGxhdGUgaW5zdGVhZC4nKTtcclxuICB9XHJcbiAgcmV0dXJuICR0b29sdGlwKCd0b29sdGlwSHRtbFVuc2FmZScsICd0b29sdGlwJywgJ21vdXNlZW50ZXInKTtcclxufV0pO1xyXG5cclxuLyoqXHJcbiAqIFRoZSBmb2xsb3dpbmcgZmVhdHVyZXMgYXJlIHN0aWxsIG91dHN0YW5kaW5nOiBwb3B1cCBkZWxheSwgYW5pbWF0aW9uIGFzIGFcclxuICogZnVuY3Rpb24sIHBsYWNlbWVudCBhcyBhIGZ1bmN0aW9uLCBpbnNpZGUsIHN1cHBvcnQgZm9yIG1vcmUgdHJpZ2dlcnMgdGhhblxyXG4gKiBqdXN0IG1vdXNlIGVudGVyL2xlYXZlLCBhbmQgc2VsZWN0b3IgZGVsZWdhdGF0aW9uLlxyXG4gKi9cclxuYW5ndWxhci5tb2R1bGUoICd1aS5ib290c3RyYXAucG9wb3ZlcicsIFsndWkuYm9vdHN0cmFwLnRvb2x0aXAnXSlcclxuXHJcbi5kaXJlY3RpdmUoJ3BvcG92ZXJUZW1wbGF0ZVBvcHVwJywgZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgcmVwbGFjZTogdHJ1ZSxcclxuICAgIHNjb3BlOiB7IHRpdGxlOiAnQCcsIGNvbnRlbnRFeHA6ICcmJywgcGxhY2VtZW50OiAnQCcsIHBvcHVwQ2xhc3M6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnLFxyXG4gICAgICBvcmlnaW5TY29wZTogJyYnIH0sXHJcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci10ZW1wbGF0ZS5odG1sJ1xyXG4gIH07XHJcbn0pXHJcblxyXG4uZGlyZWN0aXZlKCdwb3BvdmVyVGVtcGxhdGUnLCBbJyR0b29sdGlwJywgZnVuY3Rpb24oJHRvb2x0aXApIHtcclxuICByZXR1cm4gJHRvb2x0aXAoJ3BvcG92ZXJUZW1wbGF0ZScsICdwb3BvdmVyJywgJ2NsaWNrJywge1xyXG4gICAgdXNlQ29udGVudEV4cDogdHJ1ZVxyXG4gIH0pO1xyXG59XSlcclxuXHJcbi5kaXJlY3RpdmUoJ3BvcG92ZXJIdG1sUG9wdXAnLCBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdFQScsXHJcbiAgICByZXBsYWNlOiB0cnVlLFxyXG4gICAgc2NvcGU6IHsgY29udGVudEV4cDogJyYnLCB0aXRsZTogJ0AnLCBwbGFjZW1lbnQ6ICdAJywgcG9wdXBDbGFzczogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicgfSxcclxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLWh0bWwuaHRtbCdcclxuICB9O1xyXG59KVxyXG5cclxuLmRpcmVjdGl2ZSgncG9wb3Zlckh0bWwnLCBbJyR0b29sdGlwJywgZnVuY3Rpb24oJHRvb2x0aXApIHtcclxuICByZXR1cm4gJHRvb2x0aXAoICdwb3BvdmVySHRtbCcsICdwb3BvdmVyJywgJ2NsaWNrJywge1xyXG4gICAgdXNlQ29udGVudEV4cDogdHJ1ZVxyXG4gIH0pO1xyXG59XSlcclxuXHJcbi5kaXJlY3RpdmUoJ3BvcG92ZXJQb3B1cCcsIGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0VBJyxcclxuICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICBzY29wZTogeyB0aXRsZTogJ0AnLCBjb250ZW50OiAnQCcsIHBsYWNlbWVudDogJ0AnLCBwb3B1cENsYXNzOiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyB9LFxyXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbCdcclxuICB9O1xyXG59KVxyXG5cclxuLmRpcmVjdGl2ZSgncG9wb3ZlcicsIFsnJHRvb2x0aXAnLCBmdW5jdGlvbigkdG9vbHRpcCkge1xyXG4gIHJldHVybiAkdG9vbHRpcCggJ3BvcG92ZXInLCAncG9wb3ZlcicsICdjbGljaycgKTtcclxufV0pO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5wcm9ncmVzc2JhcicsIFtdKVxyXG5cclxuLmNvbnN0YW50KCdwcm9ncmVzc0NvbmZpZycsIHtcclxuICBhbmltYXRlOiB0cnVlLFxyXG4gIG1heDogMTAwXHJcbn0pXHJcblxyXG4udmFsdWUoJyRwcm9ncmVzc1N1cHByZXNzV2FybmluZycsIGZhbHNlKVxyXG5cclxuLmNvbnRyb2xsZXIoJ1Byb2dyZXNzQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICdwcm9ncmVzc0NvbmZpZycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCBwcm9ncmVzc0NvbmZpZykge1xyXG4gIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgYW5pbWF0ZSA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5hbmltYXRlKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5hbmltYXRlKSA6IHByb2dyZXNzQ29uZmlnLmFuaW1hdGU7XHJcblxyXG4gIHRoaXMuYmFycyA9IFtdO1xyXG4gICRzY29wZS5tYXggPSBhbmd1bGFyLmlzRGVmaW5lZCgkc2NvcGUubWF4KSA/ICRzY29wZS5tYXggOiBwcm9ncmVzc0NvbmZpZy5tYXg7XHJcblxyXG4gIHRoaXMuYWRkQmFyID0gZnVuY3Rpb24oYmFyLCBlbGVtZW50KSB7XHJcbiAgICBpZiAoIWFuaW1hdGUpIHtcclxuICAgICAgZWxlbWVudC5jc3Moeyd0cmFuc2l0aW9uJzogJ25vbmUnfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5iYXJzLnB1c2goYmFyKTtcclxuXHJcbiAgICBiYXIubWF4ID0gJHNjb3BlLm1heDtcclxuXHJcbiAgICBiYXIuJHdhdGNoKCd2YWx1ZScsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgIGJhci5yZWNhbGN1bGF0ZVBlcmNlbnRhZ2UoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGJhci5yZWNhbGN1bGF0ZVBlcmNlbnRhZ2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgYmFyLnBlcmNlbnQgPSArKDEwMCAqIGJhci52YWx1ZSAvIGJhci5tYXgpLnRvRml4ZWQoMik7XHJcblxyXG4gICAgICB2YXIgdG90YWxQZXJjZW50YWdlID0gc2VsZi5iYXJzLnJlZHVjZShmdW5jdGlvbih0b3RhbCwgYmFyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRvdGFsICsgYmFyLnBlcmNlbnQ7XHJcbiAgICAgIH0sIDApO1xyXG5cclxuICAgICAgaWYgKHRvdGFsUGVyY2VudGFnZSA+IDEwMCkge1xyXG4gICAgICAgIGJhci5wZXJjZW50IC09IHRvdGFsUGVyY2VudGFnZSAtIDEwMDtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBiYXIuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBlbGVtZW50ID0gbnVsbDtcclxuICAgICAgc2VsZi5yZW1vdmVCYXIoYmFyKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHRoaXMucmVtb3ZlQmFyID0gZnVuY3Rpb24oYmFyKSB7XHJcbiAgICAgIHRoaXMuYmFycy5zcGxpY2UodGhpcy5iYXJzLmluZGV4T2YoYmFyKSwgMSk7XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLiR3YXRjaCgnbWF4JywgZnVuY3Rpb24obWF4KSB7XHJcbiAgICBzZWxmLmJhcnMuZm9yRWFjaChmdW5jdGlvbihiYXIpIHtcclxuICAgICAgYmFyLm1heCA9ICRzY29wZS5tYXg7XHJcbiAgICAgIGJhci5yZWNhbGN1bGF0ZVBlcmNlbnRhZ2UoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XSlcclxuXHJcbi5kaXJlY3RpdmUoJ3VpYlByb2dyZXNzJywgZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgcmVwbGFjZTogdHJ1ZSxcclxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXHJcbiAgICBjb250cm9sbGVyOiAnUHJvZ3Jlc3NDb250cm9sbGVyJyxcclxuICAgIHJlcXVpcmU6ICd1aWJQcm9ncmVzcycsXHJcbiAgICBzY29wZToge1xyXG4gICAgICBtYXg6ICc9PydcclxuICAgIH0sXHJcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWwnXHJcbiAgfTtcclxufSlcclxuXHJcbi5kaXJlY3RpdmUoJ3Byb2dyZXNzJywgWyckbG9nJywgJyRwcm9ncmVzc1N1cHByZXNzV2FybmluZycsIGZ1bmN0aW9uKCRsb2csICRwcm9ncmVzc1N1cHByZXNzV2FybmluZykge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0VBJyxcclxuICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxyXG4gICAgY29udHJvbGxlcjogJ1Byb2dyZXNzQ29udHJvbGxlcicsXHJcbiAgICByZXF1aXJlOiAncHJvZ3Jlc3MnLFxyXG4gICAgc2NvcGU6IHtcclxuICAgICAgbWF4OiAnPT8nXHJcbiAgICB9LFxyXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sJyxcclxuICAgIGxpbms6IGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAoJHByb2dyZXNzU3VwcHJlc3NXYXJuaW5nKSB7XHJcbiAgICAgICAgJGxvZy53YXJuKCdwcm9ncmVzcyBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIHVpYi1wcm9ncmVzcyBpbnN0ZWFkJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG59XSlcclxuXHJcbi5kaXJlY3RpdmUoJ3VpYkJhcicsIGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0VBJyxcclxuICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxyXG4gICAgcmVxdWlyZTogJ151aWJQcm9ncmVzcycsXHJcbiAgICBzY29wZToge1xyXG4gICAgICB2YWx1ZTogJz0nLFxyXG4gICAgICB0eXBlOiAnQCdcclxuICAgIH0sXHJcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sJyxcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgcHJvZ3Jlc3NDdHJsKSB7XHJcbiAgICAgIHByb2dyZXNzQ3RybC5hZGRCYXIoc2NvcGUsIGVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pXHJcblxyXG4uZGlyZWN0aXZlKCdiYXInLCBbJyRsb2cnLCAnJHByb2dyZXNzU3VwcHJlc3NXYXJuaW5nJywgZnVuY3Rpb24oJGxvZywgJHByb2dyZXNzU3VwcHJlc3NXYXJuaW5nKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgcmVwbGFjZTogdHJ1ZSxcclxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXHJcbiAgICByZXF1aXJlOiAnXnByb2dyZXNzJyxcclxuICAgIHNjb3BlOiB7XHJcbiAgICAgIHZhbHVlOiAnPScsXHJcbiAgICAgIHR5cGU6ICdAJ1xyXG4gICAgfSxcclxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWwnLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwcm9ncmVzc0N0cmwpIHtcclxuICAgICAgaWYgKCRwcm9ncmVzc1N1cHByZXNzV2FybmluZykge1xyXG4gICAgICAgICRsb2cud2FybignYmFyIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLWJhciBpbnN0ZWFkJyk7XHJcbiAgICAgIH1cclxuICAgICAgcHJvZ3Jlc3NDdHJsLmFkZEJhcihzY29wZSwgZWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfTtcclxufV0pXHJcblxyXG4uZGlyZWN0aXZlKCdwcm9ncmVzc2JhcicsIGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0VBJyxcclxuICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxyXG4gICAgY29udHJvbGxlcjogJ1Byb2dyZXNzQ29udHJvbGxlcicsXHJcbiAgICBzY29wZToge1xyXG4gICAgICB2YWx1ZTogJz0nLFxyXG4gICAgICBtYXg6ICc9PycsXHJcbiAgICAgIHR5cGU6ICdAJ1xyXG4gICAgfSxcclxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbCcsXHJcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIHByb2dyZXNzQ3RybCkge1xyXG4gICAgICBwcm9ncmVzc0N0cmwuYWRkQmFyKHNjb3BlLCBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudC5jaGlsZHJlbigpWzBdKSk7XHJcbiAgICB9XHJcbiAgfTtcclxufSk7XHJcblxyXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnJhdGluZycsIFtdKVxyXG5cclxuLmNvbnN0YW50KCdyYXRpbmdDb25maWcnLCB7XHJcbiAgbWF4OiA1LFxyXG4gIHN0YXRlT246IG51bGwsXHJcbiAgc3RhdGVPZmY6IG51bGwsXHJcbiAgdGl0bGVzIDogWydvbmUnLCAndHdvJywgJ3RocmVlJywgJ2ZvdXInLCAnZml2ZSddXHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignUmF0aW5nQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICdyYXRpbmdDb25maWcnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgcmF0aW5nQ29uZmlnKSB7XHJcbiAgdmFyIG5nTW9kZWxDdHJsICA9IHsgJHNldFZpZXdWYWx1ZTogYW5ndWxhci5ub29wIH07XHJcblxyXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKG5nTW9kZWxDdHJsXykge1xyXG4gICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87XHJcbiAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gdGhpcy5yZW5kZXI7XHJcblxyXG4gICAgbmdNb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICBpZiAoYW5ndWxhci5pc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgPDwgMCAhPT0gdmFsdWUpIHtcclxuICAgICAgICB2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuc3RhdGVPbiA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5zdGF0ZU9uKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5zdGF0ZU9uKSA6IHJhdGluZ0NvbmZpZy5zdGF0ZU9uO1xyXG4gICAgdGhpcy5zdGF0ZU9mZiA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5zdGF0ZU9mZikgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuc3RhdGVPZmYpIDogcmF0aW5nQ29uZmlnLnN0YXRlT2ZmO1xyXG4gICAgdmFyIHRtcFRpdGxlcyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy50aXRsZXMpICA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy50aXRsZXMpIDogcmF0aW5nQ29uZmlnLnRpdGxlcyA7ICAgIFxyXG4gICAgdGhpcy50aXRsZXMgPSBhbmd1bGFyLmlzQXJyYXkodG1wVGl0bGVzKSAmJiB0bXBUaXRsZXMubGVuZ3RoID4gMCA/XHJcbiAgICAgIHRtcFRpdGxlcyA6IHJhdGluZ0NvbmZpZy50aXRsZXM7XHJcbiAgICBcclxuICAgIHZhciByYXRpbmdTdGF0ZXMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMucmF0aW5nU3RhdGVzKSA/XHJcbiAgICAgICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5yYXRpbmdTdGF0ZXMpIDpcclxuICAgICAgbmV3IEFycmF5KGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tYXgpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1heCkgOiByYXRpbmdDb25maWcubWF4KTtcclxuICAgICRzY29wZS5yYW5nZSA9IHRoaXMuYnVpbGRUZW1wbGF0ZU9iamVjdHMocmF0aW5nU3RhdGVzKTtcclxuICB9O1xyXG5cclxuICB0aGlzLmJ1aWxkVGVtcGxhdGVPYmplY3RzID0gZnVuY3Rpb24oc3RhdGVzKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbiA9IHN0YXRlcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgc3RhdGVzW2ldID0gYW5ndWxhci5leHRlbmQoeyBpbmRleDogaSB9LCB7IHN0YXRlT246IHRoaXMuc3RhdGVPbiwgc3RhdGVPZmY6IHRoaXMuc3RhdGVPZmYsIHRpdGxlOiB0aGlzLmdldFRpdGxlKGkpIH0sIHN0YXRlc1tpXSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RhdGVzO1xyXG4gIH07XHJcbiAgXHJcbiAgdGhpcy5nZXRUaXRsZSA9IGZ1bmN0aW9uKGluZGV4KSB7XHJcbiAgICBpZiAoaW5kZXggPj0gdGhpcy50aXRsZXMubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiBpbmRleCArIDE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy50aXRsZXNbaW5kZXhdO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgXHJcbiAgJHNjb3BlLnJhdGUgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgaWYgKCEkc2NvcGUucmVhZG9ubHkgJiYgdmFsdWUgPj0gMCAmJiB2YWx1ZSA8PSAkc2NvcGUucmFuZ2UubGVuZ3RoKSB7XHJcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSA9PT0gdmFsdWUgPyAwIDogdmFsdWUpO1xyXG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLmVudGVyID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIGlmICghJHNjb3BlLnJlYWRvbmx5KSB7XHJcbiAgICAgICRzY29wZS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgJHNjb3BlLm9uSG92ZXIoe3ZhbHVlOiB2YWx1ZX0pO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgJHNjb3BlLnZhbHVlID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcclxuICAgICRzY29wZS5vbkxlYXZlKCk7XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLm9uS2V5ZG93biA9IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgaWYgKC8oMzd8Mzh8Mzl8NDApLy50ZXN0KGV2dC53aGljaCkpIHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgJHNjb3BlLnJhdGUoJHNjb3BlLnZhbHVlICsgKGV2dC53aGljaCA9PT0gMzggfHwgZXZ0LndoaWNoID09PSAzOSA/IDEgOiAtMSkpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHRoaXMucmVuZGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAkc2NvcGUudmFsdWUgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlO1xyXG4gIH07XHJcbn1dKVxyXG5cclxuLmRpcmVjdGl2ZSgncmF0aW5nJywgZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgcmVxdWlyZTogWydyYXRpbmcnLCAnbmdNb2RlbCddLFxyXG4gICAgc2NvcGU6IHtcclxuICAgICAgcmVhZG9ubHk6ICc9PycsXHJcbiAgICAgIG9uSG92ZXI6ICcmJyxcclxuICAgICAgb25MZWF2ZTogJyYnXHJcbiAgICB9LFxyXG4gICAgY29udHJvbGxlcjogJ1JhdGluZ0NvbnRyb2xsZXInLFxyXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9yYXRpbmcvcmF0aW5nLmh0bWwnLFxyXG4gICAgcmVwbGFjZTogdHJ1ZSxcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcclxuICAgICAgdmFyIHJhdGluZ0N0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcclxuICAgICAgcmF0aW5nQ3RybC5pbml0KCBuZ01vZGVsQ3RybCApO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgb3ZlcnZpZXdcclxuICogQG5hbWUgdWkuYm9vdHN0cmFwLnRhYnNcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEFuZ3VsYXJKUyB2ZXJzaW9uIG9mIHRoZSB0YWJzIGRpcmVjdGl2ZS5cclxuICovXHJcblxyXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnRhYnMnLCBbXSlcclxuXHJcbi5jb250cm9sbGVyKCdUYWJzZXRDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbiBUYWJzZXRDdHJsKCRzY29wZSkge1xyXG4gIHZhciBjdHJsID0gdGhpcyxcclxuICAgICAgdGFicyA9IGN0cmwudGFicyA9ICRzY29wZS50YWJzID0gW107XHJcblxyXG4gIGN0cmwuc2VsZWN0ID0gZnVuY3Rpb24oc2VsZWN0ZWRUYWIpIHtcclxuICAgIGFuZ3VsYXIuZm9yRWFjaCh0YWJzLCBmdW5jdGlvbih0YWIpIHtcclxuICAgICAgaWYgKHRhYi5hY3RpdmUgJiYgdGFiICE9PSBzZWxlY3RlZFRhYikge1xyXG4gICAgICAgIHRhYi5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0YWIub25EZXNlbGVjdCgpO1xyXG4gICAgICAgIHNlbGVjdGVkVGFiLnNlbGVjdENhbGxlZCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHNlbGVjdGVkVGFiLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAvLyBvbmx5IGNhbGwgc2VsZWN0IGlmIGl0IGhhcyBub3QgYWxyZWFkeSBiZWVuIGNhbGxlZFxyXG4gICAgaWYgKCFzZWxlY3RlZFRhYi5zZWxlY3RDYWxsZWQpIHtcclxuICAgICAgc2VsZWN0ZWRUYWIub25TZWxlY3QoKTtcclxuICAgICAgc2VsZWN0ZWRUYWIuc2VsZWN0Q2FsbGVkID0gdHJ1ZTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjdHJsLmFkZFRhYiA9IGZ1bmN0aW9uIGFkZFRhYih0YWIpIHtcclxuICAgIHRhYnMucHVzaCh0YWIpO1xyXG4gICAgLy8gd2UgY2FuJ3QgcnVuIHRoZSBzZWxlY3QgZnVuY3Rpb24gb24gdGhlIGZpcnN0IHRhYlxyXG4gICAgLy8gc2luY2UgdGhhdCB3b3VsZCBzZWxlY3QgaXQgdHdpY2VcclxuICAgIGlmICh0YWJzLmxlbmd0aCA9PT0gMSAmJiB0YWIuYWN0aXZlICE9PSBmYWxzZSkge1xyXG4gICAgICB0YWIuYWN0aXZlID0gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAodGFiLmFjdGl2ZSkge1xyXG4gICAgICBjdHJsLnNlbGVjdCh0YWIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGFiLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGN0cmwucmVtb3ZlVGFiID0gZnVuY3Rpb24gcmVtb3ZlVGFiKHRhYikge1xyXG4gICAgdmFyIGluZGV4ID0gdGFicy5pbmRleE9mKHRhYik7XHJcbiAgICAvL1NlbGVjdCBhIG5ldyB0YWIgaWYgdGhlIHRhYiB0byBiZSByZW1vdmVkIGlzIHNlbGVjdGVkIGFuZCBub3QgZGVzdHJveWVkXHJcbiAgICBpZiAodGFiLmFjdGl2ZSAmJiB0YWJzLmxlbmd0aCA+IDEgJiYgIWRlc3Ryb3llZCkge1xyXG4gICAgICAvL0lmIHRoaXMgaXMgdGhlIGxhc3QgdGFiLCBzZWxlY3QgdGhlIHByZXZpb3VzIHRhYi4gZWxzZSwgdGhlIG5leHQgdGFiLlxyXG4gICAgICB2YXIgbmV3QWN0aXZlSW5kZXggPSBpbmRleCA9PSB0YWJzLmxlbmd0aCAtIDEgPyBpbmRleCAtIDEgOiBpbmRleCArIDE7XHJcbiAgICAgIGN0cmwuc2VsZWN0KHRhYnNbbmV3QWN0aXZlSW5kZXhdKTtcclxuICAgIH1cclxuICAgIHRhYnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICB9O1xyXG5cclxuICB2YXIgZGVzdHJveWVkO1xyXG4gICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XHJcbiAgICBkZXN0cm95ZWQgPSB0cnVlO1xyXG4gIH0pO1xyXG59XSlcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWJzZXRcclxuICogQHJlc3RyaWN0IEVBXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUYWJzZXQgaXMgdGhlIG91dGVyIGNvbnRhaW5lciBmb3IgdGhlIHRhYnMgZGlyZWN0aXZlXHJcbiAqXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHZlcnRpY2FsIFdoZXRoZXIgb3Igbm90IHRvIHVzZSB2ZXJ0aWNhbCBzdHlsaW5nIGZvciB0aGUgdGFicy5cclxuICogQHBhcmFtIHtib29sZWFuPX0ganVzdGlmaWVkIFdoZXRoZXIgb3Igbm90IHRvIHVzZSBqdXN0aWZpZWQgc3R5bGluZyBmb3IgdGhlIHRhYnMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbjxleGFtcGxlIG1vZHVsZT1cInVpLmJvb3RzdHJhcFwiPlxyXG4gIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICA8dGFic2V0PlxyXG4gICAgICA8dGFiIGhlYWRpbmc9XCJUYWIgMVwiPjxiPkZpcnN0PC9iPiBDb250ZW50ITwvdGFiPlxyXG4gICAgICA8dGFiIGhlYWRpbmc9XCJUYWIgMlwiPjxpPlNlY29uZDwvaT4gQ29udGVudCE8L3RhYj5cclxuICAgIDwvdGFic2V0PlxyXG4gICAgPGhyIC8+XHJcbiAgICA8dGFic2V0IHZlcnRpY2FsPVwidHJ1ZVwiPlxyXG4gICAgICA8dGFiIGhlYWRpbmc9XCJWZXJ0aWNhbCBUYWIgMVwiPjxiPkZpcnN0PC9iPiBWZXJ0aWNhbCBDb250ZW50ITwvdGFiPlxyXG4gICAgICA8dGFiIGhlYWRpbmc9XCJWZXJ0aWNhbCBUYWIgMlwiPjxpPlNlY29uZDwvaT4gVmVydGljYWwgQ29udGVudCE8L3RhYj5cclxuICAgIDwvdGFic2V0PlxyXG4gICAgPHRhYnNldCBqdXN0aWZpZWQ9XCJ0cnVlXCI+XHJcbiAgICAgIDx0YWIgaGVhZGluZz1cIkp1c3RpZmllZCBUYWIgMVwiPjxiPkZpcnN0PC9iPiBKdXN0aWZpZWQgQ29udGVudCE8L3RhYj5cclxuICAgICAgPHRhYiBoZWFkaW5nPVwiSnVzdGlmaWVkIFRhYiAyXCI+PGk+U2Vjb25kPC9pPiBKdXN0aWZpZWQgQ29udGVudCE8L3RhYj5cclxuICAgIDwvdGFic2V0PlxyXG4gIDwvZmlsZT5cclxuPC9leGFtcGxlPlxyXG4gKi9cclxuLmRpcmVjdGl2ZSgndGFic2V0JywgZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcclxuICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICBzY29wZToge1xyXG4gICAgICB0eXBlOiAnQCdcclxuICAgIH0sXHJcbiAgICBjb250cm9sbGVyOiAnVGFic2V0Q29udHJvbGxlcicsXHJcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWwnLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgIHNjb3BlLnZlcnRpY2FsID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudmVydGljYWwpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy52ZXJ0aWNhbCkgOiBmYWxzZTtcclxuICAgICAgc2NvcGUuanVzdGlmaWVkID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuanVzdGlmaWVkKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuanVzdGlmaWVkKSA6IGZhbHNlO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFiXHJcbiAqIEByZXN0cmljdCBFQVxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IGhlYWRpbmcgVGhlIHZpc2libGUgaGVhZGluZywgb3IgdGl0bGUsIG9mIHRoZSB0YWIuIFNldCBIVE1MIGhlYWRpbmdzIHdpdGgge0BsaW5rIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWJIZWFkaW5nIHRhYkhlYWRpbmd9LlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IHNlbGVjdCBBbiBleHByZXNzaW9uIHRvIGV2YWx1YXRlIHdoZW4gdGhlIHRhYiBpcyBzZWxlY3RlZC5cclxuICogQHBhcmFtIHtib29sZWFuPX0gYWN0aXZlIEEgYmluZGluZywgdGVsbGluZyB3aGV0aGVyIG9yIG5vdCB0aGlzIHRhYiBpcyBzZWxlY3RlZC5cclxuICogQHBhcmFtIHtib29sZWFuPX0gZGlzYWJsZWQgQSBiaW5kaW5nLCB0ZWxsaW5nIHdoZXRoZXIgb3Igbm90IHRoaXMgdGFiIGlzIGRpc2FibGVkLlxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQ3JlYXRlcyBhIHRhYiB3aXRoIGEgaGVhZGluZyBhbmQgY29udGVudC4gTXVzdCBiZSBwbGFjZWQgd2l0aGluIGEge0BsaW5rIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWJzZXQgdGFic2V0fS5cclxuICpcclxuICogQGV4YW1wbGVcclxuPGV4YW1wbGUgbW9kdWxlPVwidWkuYm9vdHN0cmFwXCI+XHJcbiAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgIDxkaXYgbmctY29udHJvbGxlcj1cIlRhYnNEZW1vQ3RybFwiPlxyXG4gICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1zbWFsbFwiIG5nLWNsaWNrPVwiaXRlbXNbMF0uYWN0aXZlID0gdHJ1ZVwiPlxyXG4gICAgICAgIFNlbGVjdCBpdGVtIDEsIHVzaW5nIGFjdGl2ZSBiaW5kaW5nXHJcbiAgICAgIDwvYnV0dG9uPlxyXG4gICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1zbWFsbFwiIG5nLWNsaWNrPVwiaXRlbXNbMV0uZGlzYWJsZWQgPSAhaXRlbXNbMV0uZGlzYWJsZWRcIj5cclxuICAgICAgICBFbmFibGUvZGlzYWJsZSBpdGVtIDIsIHVzaW5nIGRpc2FibGVkIGJpbmRpbmdcclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIDxiciAvPlxyXG4gICAgICA8dGFic2V0PlxyXG4gICAgICAgIDx0YWIgaGVhZGluZz1cIlRhYiAxXCI+Rmlyc3QgVGFiPC90YWI+XHJcbiAgICAgICAgPHRhYiBzZWxlY3Q9XCJhbGVydE1lKClcIj5cclxuICAgICAgICAgIDx0YWItaGVhZGluZz48aSBjbGFzcz1cImljb24tYmVsbFwiPjwvaT4gQWxlcnQgbWUhPC90YWItaGVhZGluZz5cclxuICAgICAgICAgIFNlY29uZCBUYWIsIHdpdGggYWxlcnQgY2FsbGJhY2sgYW5kIGh0bWwgaGVhZGluZyFcclxuICAgICAgICA8L3RhYj5cclxuICAgICAgICA8dGFiIG5nLXJlcGVhdD1cIml0ZW0gaW4gaXRlbXNcIlxyXG4gICAgICAgICAgaGVhZGluZz1cInt7aXRlbS50aXRsZX19XCJcclxuICAgICAgICAgIGRpc2FibGVkPVwiaXRlbS5kaXNhYmxlZFwiXHJcbiAgICAgICAgICBhY3RpdmU9XCJpdGVtLmFjdGl2ZVwiPlxyXG4gICAgICAgICAge3tpdGVtLmNvbnRlbnR9fVxyXG4gICAgICAgIDwvdGFiPlxyXG4gICAgICA8L3RhYnNldD5cclxuICAgIDwvZGl2PlxyXG4gIDwvZmlsZT5cclxuICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICBmdW5jdGlvbiBUYWJzRGVtb0N0cmwoJHNjb3BlKSB7XHJcbiAgICAgICRzY29wZS5pdGVtcyA9IFtcclxuICAgICAgICB7IHRpdGxlOlwiRHluYW1pYyBUaXRsZSAxXCIsIGNvbnRlbnQ6XCJEeW5hbWljIEl0ZW0gMFwiIH0sXHJcbiAgICAgICAgeyB0aXRsZTpcIkR5bmFtaWMgVGl0bGUgMlwiLCBjb250ZW50OlwiRHluYW1pYyBJdGVtIDFcIiwgZGlzYWJsZWQ6IHRydWUgfVxyXG4gICAgICBdO1xyXG5cclxuICAgICAgJHNjb3BlLmFsZXJ0TWUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgYWxlcnQoXCJZb3UndmUgc2VsZWN0ZWQgdGhlIGFsZXJ0IHRhYiFcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG4gIDwvZmlsZT5cclxuPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWJIZWFkaW5nXHJcbiAqIEByZXN0cmljdCBFQVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQ3JlYXRlcyBhbiBIVE1MIGhlYWRpbmcgZm9yIGEge0BsaW5rIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWIgdGFifS4gTXVzdCBiZSBwbGFjZWQgYXMgYSBjaGlsZCBvZiBhIHRhYiBlbGVtZW50LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG48ZXhhbXBsZSBtb2R1bGU9XCJ1aS5ib290c3RyYXBcIj5cclxuICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgPHRhYnNldD5cclxuICAgICAgPHRhYj5cclxuICAgICAgICA8dGFiLWhlYWRpbmc+PGI+SFRNTDwvYj4gaW4gbXkgdGl0bGVzPyE8L3RhYi1oZWFkaW5nPlxyXG4gICAgICAgIEFuZCBzb21lIGNvbnRlbnQsIHRvbyFcclxuICAgICAgPC90YWI+XHJcbiAgICAgIDx0YWI+XHJcbiAgICAgICAgPHRhYi1oZWFkaW5nPjxpIGNsYXNzPVwiaWNvbi1oZWFydFwiPjwvaT4gSWNvbiBoZWFkaW5nPyE/PC90YWItaGVhZGluZz5cclxuICAgICAgICBUaGF0J3MgcmlnaHQuXHJcbiAgICAgIDwvdGFiPlxyXG4gICAgPC90YWJzZXQ+XHJcbiAgPC9maWxlPlxyXG48L2V4YW1wbGU+XHJcbiAqL1xyXG4uZGlyZWN0aXZlKCd0YWInLCBbJyRwYXJzZScsICckbG9nJywgZnVuY3Rpb24oJHBhcnNlLCAkbG9nKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlcXVpcmU6ICdedGFic2V0JyxcclxuICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgcmVwbGFjZTogdHJ1ZSxcclxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvdGFicy90YWIuaHRtbCcsXHJcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxyXG4gICAgc2NvcGU6IHtcclxuICAgICAgYWN0aXZlOiAnPT8nLFxyXG4gICAgICBoZWFkaW5nOiAnQCcsXHJcbiAgICAgIG9uU2VsZWN0OiAnJnNlbGVjdCcsIC8vVGhpcyBjYWxsYmFjayBpcyBjYWxsZWQgaW4gY29udGVudEhlYWRpbmdUcmFuc2NsdWRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy9vbmNlIGl0IGluc2VydHMgdGhlIHRhYidzIGNvbnRlbnQgaW50byB0aGUgZG9tXHJcbiAgICAgIG9uRGVzZWxlY3Q6ICcmZGVzZWxlY3QnXHJcbiAgICB9LFxyXG4gICAgY29udHJvbGxlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgIC8vRW1wdHkgY29udHJvbGxlciBzbyBvdGhlciBkaXJlY3RpdmVzIGNhbiByZXF1aXJlIGJlaW5nICd1bmRlcicgYSB0YWJcclxuICAgIH0sXHJcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRycywgdGFic2V0Q3RybCwgdHJhbnNjbHVkZSkge1xyXG4gICAgICBzY29wZS4kd2F0Y2goJ2FjdGl2ZScsIGZ1bmN0aW9uKGFjdGl2ZSkge1xyXG4gICAgICAgIGlmIChhY3RpdmUpIHtcclxuICAgICAgICAgIHRhYnNldEN0cmwuc2VsZWN0KHNjb3BlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgc2NvcGUuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgaWYgKGF0dHJzLmRpc2FibGUpIHtcclxuICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoYXR0cnMuZGlzYWJsZSksIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICBzY29wZS5kaXNhYmxlZCA9ICEhIHZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBEZXByZWNhdGlvbiBzdXBwb3J0IG9mIFwiZGlzYWJsZWRcIiBwYXJhbWV0ZXJcclxuICAgICAgLy8gZml4KHRhYik6IElFOSBkaXNhYmxlZCBhdHRyIHJlbmRlcnMgZ3JleSB0ZXh0IG9uIGVuYWJsZWQgdGFiICMyNjc3XHJcbiAgICAgIC8vIFRoaXMgY29kZSBpcyBkdXBsaWNhdGVkIGZyb20gdGhlIGxpbmVzIGFib3ZlIHRvIG1ha2UgaXQgZWFzeSB0byByZW1vdmUgb25jZVxyXG4gICAgICAvLyB0aGUgZmVhdHVyZSBoYXMgYmVlbiBjb21wbGV0ZWx5IGRlcHJlY2F0ZWRcclxuICAgICAgaWYgKGF0dHJzLmRpc2FibGVkKSB7XHJcbiAgICAgICAgJGxvZy53YXJuKCdVc2Ugb2YgXCJkaXNhYmxlZFwiIGF0dHJpYnV0ZSBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFwiZGlzYWJsZVwiJyk7XHJcbiAgICAgICAgc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKGF0dHJzLmRpc2FibGVkKSwgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgIHNjb3BlLmRpc2FibGVkID0gISEgdmFsdWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICghc2NvcGUuZGlzYWJsZWQpIHtcclxuICAgICAgICAgIHNjb3BlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGFic2V0Q3RybC5hZGRUYWIoc2NvcGUpO1xyXG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGFic2V0Q3RybC5yZW1vdmVUYWIoc2NvcGUpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vV2UgbmVlZCB0byB0cmFuc2NsdWRlIGxhdGVyLCBvbmNlIHRoZSBjb250ZW50IGNvbnRhaW5lciBpcyByZWFkeS5cclxuICAgICAgLy93aGVuIHRoaXMgbGluayBoYXBwZW5zLCB3ZSdyZSBpbnNpZGUgYSB0YWIgaGVhZGluZy5cclxuICAgICAgc2NvcGUuJHRyYW5zY2x1ZGVGbiA9IHRyYW5zY2x1ZGU7XHJcbiAgICB9XHJcbiAgfTtcclxufV0pXHJcblxyXG4uZGlyZWN0aXZlKCd0YWJIZWFkaW5nVHJhbnNjbHVkZScsIGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgcmVxdWlyZTogJ150YWInLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0cnMsIHRhYkN0cmwpIHtcclxuICAgICAgc2NvcGUuJHdhdGNoKCdoZWFkaW5nRWxlbWVudCcsIGZ1bmN0aW9uIHVwZGF0ZUhlYWRpbmdFbGVtZW50KGhlYWRpbmcpIHtcclxuICAgICAgICBpZiAoaGVhZGluZykge1xyXG4gICAgICAgICAgZWxtLmh0bWwoJycpO1xyXG4gICAgICAgICAgZWxtLmFwcGVuZChoZWFkaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pXHJcblxyXG4uZGlyZWN0aXZlKCd0YWJDb250ZW50VHJhbnNjbHVkZScsIGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgcmVxdWlyZTogJ150YWJzZXQnLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0cnMpIHtcclxuICAgICAgdmFyIHRhYiA9IHNjb3BlLiRldmFsKGF0dHJzLnRhYkNvbnRlbnRUcmFuc2NsdWRlKTtcclxuXHJcbiAgICAgIC8vTm93IG91ciB0YWIgaXMgcmVhZHkgdG8gYmUgdHJhbnNjbHVkZWQ6IGJvdGggdGhlIHRhYiBoZWFkaW5nIGFyZWFcclxuICAgICAgLy9hbmQgdGhlIHRhYiBjb250ZW50IGFyZWEgYXJlIGxvYWRlZC4gIFRyYW5zY2x1ZGUgJ2VtIGJvdGguXHJcbiAgICAgIHRhYi4kdHJhbnNjbHVkZUZuKHRhYi4kcGFyZW50LCBmdW5jdGlvbihjb250ZW50cykge1xyXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChjb250ZW50cywgZnVuY3Rpb24obm9kZSkge1xyXG4gICAgICAgICAgaWYgKGlzVGFiSGVhZGluZyhub2RlKSkge1xyXG4gICAgICAgICAgICAvL0xldCB0YWJIZWFkaW5nVHJhbnNjbHVkZSBrbm93LlxyXG4gICAgICAgICAgICB0YWIuaGVhZGluZ0VsZW1lbnQgPSBub2RlO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZWxtLmFwcGVuZChub2RlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgZnVuY3Rpb24gaXNUYWJIZWFkaW5nKG5vZGUpIHtcclxuICAgIHJldHVybiBub2RlLnRhZ05hbWUgJiYgKFxyXG4gICAgICBub2RlLmhhc0F0dHJpYnV0ZSgndGFiLWhlYWRpbmcnKSB8fFxyXG4gICAgICBub2RlLmhhc0F0dHJpYnV0ZSgnZGF0YS10YWItaGVhZGluZycpIHx8XHJcbiAgICAgIG5vZGUuaGFzQXR0cmlidXRlKCd4LXRhYi1oZWFkaW5nJykgfHxcclxuICAgICAgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICd0YWItaGVhZGluZycgfHxcclxuICAgICAgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdkYXRhLXRhYi1oZWFkaW5nJyB8fFxyXG4gICAgICBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3gtdGFiLWhlYWRpbmcnXHJcbiAgICApO1xyXG4gIH1cclxufSk7XHJcblxyXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnRpbWVwaWNrZXInLCBbXSlcclxuXHJcbi5jb25zdGFudCgndGltZXBpY2tlckNvbmZpZycsIHtcclxuICBob3VyU3RlcDogMSxcclxuICBtaW51dGVTdGVwOiAxLFxyXG4gIHNob3dNZXJpZGlhbjogdHJ1ZSxcclxuICBtZXJpZGlhbnM6IG51bGwsXHJcbiAgcmVhZG9ubHlJbnB1dDogZmFsc2UsXHJcbiAgbW91c2V3aGVlbDogdHJ1ZSxcclxuICBhcnJvd2tleXM6IHRydWUsXHJcbiAgc2hvd1NwaW5uZXJzOiB0cnVlXHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignVGltZXBpY2tlckNvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAnJHBhcnNlJywgJyRsb2cnLCAnJGxvY2FsZScsICd0aW1lcGlja2VyQ29uZmlnJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsICRwYXJzZSwgJGxvZywgJGxvY2FsZSwgdGltZXBpY2tlckNvbmZpZykge1xyXG4gIHZhciBzZWxlY3RlZCA9IG5ldyBEYXRlKCksXHJcbiAgICAgIG5nTW9kZWxDdHJsID0geyAkc2V0Vmlld1ZhbHVlOiBhbmd1bGFyLm5vb3AgfSwgLy8gbnVsbE1vZGVsQ3RybFxyXG4gICAgICBtZXJpZGlhbnMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubWVyaWRpYW5zKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tZXJpZGlhbnMpIDogdGltZXBpY2tlckNvbmZpZy5tZXJpZGlhbnMgfHwgJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLkFNUE1TO1xyXG5cclxuICB0aGlzLmluaXQgPSBmdW5jdGlvbihuZ01vZGVsQ3RybF8sIGlucHV0cykge1xyXG4gICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87XHJcbiAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gdGhpcy5yZW5kZXI7XHJcblxyXG4gICAgbmdNb2RlbEN0cmwuJGZvcm1hdHRlcnMudW5zaGlmdChmdW5jdGlvbihtb2RlbFZhbHVlKSB7XHJcbiAgICAgIHJldHVybiBtb2RlbFZhbHVlID8gbmV3IERhdGUobW9kZWxWYWx1ZSkgOiBudWxsO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIGhvdXJzSW5wdXRFbCA9IGlucHV0cy5lcSgwKSxcclxuICAgICAgICBtaW51dGVzSW5wdXRFbCA9IGlucHV0cy5lcSgxKTtcclxuXHJcbiAgICB2YXIgbW91c2V3aGVlbCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tb3VzZXdoZWVsKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tb3VzZXdoZWVsKSA6IHRpbWVwaWNrZXJDb25maWcubW91c2V3aGVlbDtcclxuICAgIGlmIChtb3VzZXdoZWVsKSB7XHJcbiAgICAgIHRoaXMuc2V0dXBNb3VzZXdoZWVsRXZlbnRzKGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBhcnJvd2tleXMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuYXJyb3drZXlzKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5hcnJvd2tleXMpIDogdGltZXBpY2tlckNvbmZpZy5hcnJvd2tleXM7XHJcbiAgICBpZiAoYXJyb3drZXlzKSB7XHJcbiAgICAgIHRoaXMuc2V0dXBBcnJvd2tleUV2ZW50cyhob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsKTtcclxuICAgIH1cclxuXHJcbiAgICAkc2NvcGUucmVhZG9ubHlJbnB1dCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5yZWFkb25seUlucHV0KSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5yZWFkb25seUlucHV0KSA6IHRpbWVwaWNrZXJDb25maWcucmVhZG9ubHlJbnB1dDtcclxuICAgIHRoaXMuc2V0dXBJbnB1dEV2ZW50cyhob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsKTtcclxuICB9O1xyXG5cclxuICB2YXIgaG91clN0ZXAgPSB0aW1lcGlja2VyQ29uZmlnLmhvdXJTdGVwO1xyXG4gIGlmICgkYXR0cnMuaG91clN0ZXApIHtcclxuICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLmhvdXJTdGVwKSwgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgaG91clN0ZXAgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB2YXIgbWludXRlU3RlcCA9IHRpbWVwaWNrZXJDb25maWcubWludXRlU3RlcDtcclxuICBpZiAoJGF0dHJzLm1pbnV0ZVN0ZXApIHtcclxuICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLm1pbnV0ZVN0ZXApLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICBtaW51dGVTdGVwID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdmFyIG1pbjtcclxuICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5taW4pLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgdmFyIGR0ID0gbmV3IERhdGUodmFsdWUpO1xyXG4gICAgbWluID0gaXNOYU4oZHQpID8gdW5kZWZpbmVkIDogZHQ7XHJcbiAgfSk7XHJcblxyXG4gIHZhciBtYXg7XHJcbiAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMubWF4KSwgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHZhciBkdCA9IG5ldyBEYXRlKHZhbHVlKTtcclxuICAgIG1heCA9IGlzTmFOKGR0KSA/IHVuZGVmaW5lZCA6IGR0O1xyXG4gIH0pO1xyXG5cclxuICAkc2NvcGUubm9JbmNyZW1lbnRIb3VycyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGluY3JlbWVudGVkU2VsZWN0ZWQgPSBhZGRNaW51dGVzKHNlbGVjdGVkLCBob3VyU3RlcCAqIDYwKTtcclxuICAgIHJldHVybiBpbmNyZW1lbnRlZFNlbGVjdGVkID4gbWF4IHx8XHJcbiAgICAgIChpbmNyZW1lbnRlZFNlbGVjdGVkIDwgc2VsZWN0ZWQgJiYgaW5jcmVtZW50ZWRTZWxlY3RlZCA8IG1pbik7XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLm5vRGVjcmVtZW50SG91cnMgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBkZWNyZW1lbnRlZFNlbGVjdGVkID0gYWRkTWludXRlcyhzZWxlY3RlZCwgLWhvdXJTdGVwICogNjApO1xyXG4gICAgcmV0dXJuIGRlY3JlbWVudGVkU2VsZWN0ZWQgPCBtaW4gfHxcclxuICAgICAgKGRlY3JlbWVudGVkU2VsZWN0ZWQgPiBzZWxlY3RlZCAmJiBkZWNyZW1lbnRlZFNlbGVjdGVkID4gbWF4KTtcclxuICB9O1xyXG5cclxuICAkc2NvcGUubm9JbmNyZW1lbnRNaW51dGVzID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgaW5jcmVtZW50ZWRTZWxlY3RlZCA9IGFkZE1pbnV0ZXMoc2VsZWN0ZWQsIG1pbnV0ZVN0ZXApO1xyXG4gICAgcmV0dXJuIGluY3JlbWVudGVkU2VsZWN0ZWQgPiBtYXggfHxcclxuICAgICAgKGluY3JlbWVudGVkU2VsZWN0ZWQgPCBzZWxlY3RlZCAmJiBpbmNyZW1lbnRlZFNlbGVjdGVkIDwgbWluKTtcclxuICB9O1xyXG5cclxuICAkc2NvcGUubm9EZWNyZW1lbnRNaW51dGVzID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgZGVjcmVtZW50ZWRTZWxlY3RlZCA9IGFkZE1pbnV0ZXMoc2VsZWN0ZWQsIC1taW51dGVTdGVwKTtcclxuICAgIHJldHVybiBkZWNyZW1lbnRlZFNlbGVjdGVkIDwgbWluIHx8XHJcbiAgICAgIChkZWNyZW1lbnRlZFNlbGVjdGVkID4gc2VsZWN0ZWQgJiYgZGVjcmVtZW50ZWRTZWxlY3RlZCA+IG1heCk7XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLm5vVG9nZ2xlTWVyaWRpYW4gPSBmdW5jdGlvbigpIHtcclxuICAgIGlmIChzZWxlY3RlZC5nZXRIb3VycygpIDwgMTMpIHtcclxuICAgICAgcmV0dXJuIGFkZE1pbnV0ZXMoc2VsZWN0ZWQsIDEyICogNjApID4gbWF4O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGFkZE1pbnV0ZXMoc2VsZWN0ZWQsIC0xMiAqIDYwKSA8IG1pbjtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyAxMkggLyAyNEggbW9kZVxyXG4gICRzY29wZS5zaG93TWVyaWRpYW4gPSB0aW1lcGlja2VyQ29uZmlnLnNob3dNZXJpZGlhbjtcclxuICBpZiAoJGF0dHJzLnNob3dNZXJpZGlhbikge1xyXG4gICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMuc2hvd01lcmlkaWFuKSwgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgJHNjb3BlLnNob3dNZXJpZGlhbiA9ICEhdmFsdWU7XHJcblxyXG4gICAgICBpZiAobmdNb2RlbEN0cmwuJGVycm9yLnRpbWUpIHtcclxuICAgICAgICAvLyBFdmFsdWF0ZSBmcm9tIHRlbXBsYXRlXHJcbiAgICAgICAgdmFyIGhvdXJzID0gZ2V0SG91cnNGcm9tVGVtcGxhdGUoKSwgbWludXRlcyA9IGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKTtcclxuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoaG91cnMpICYmIGFuZ3VsYXIuaXNEZWZpbmVkKG1pbnV0ZXMpKSB7XHJcbiAgICAgICAgICBzZWxlY3RlZC5zZXRIb3Vycyhob3Vycyk7XHJcbiAgICAgICAgICByZWZyZXNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHVwZGF0ZVRlbXBsYXRlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gR2V0ICRzY29wZS5ob3VycyBpbiAyNEggbW9kZSBpZiB2YWxpZFxyXG4gIGZ1bmN0aW9uIGdldEhvdXJzRnJvbVRlbXBsYXRlKCkge1xyXG4gICAgdmFyIGhvdXJzID0gcGFyc2VJbnQoJHNjb3BlLmhvdXJzLCAxMCk7XHJcbiAgICB2YXIgdmFsaWQgPSAkc2NvcGUuc2hvd01lcmlkaWFuID8gKGhvdXJzID4gMCAmJiBob3VycyA8IDEzKSA6IChob3VycyA+PSAwICYmIGhvdXJzIDwgMjQpO1xyXG4gICAgaWYgKCF2YWxpZCkge1xyXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgkc2NvcGUuc2hvd01lcmlkaWFuKSB7XHJcbiAgICAgIGlmIChob3VycyA9PT0gMTIpIHtcclxuICAgICAgICBob3VycyA9IDA7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCRzY29wZS5tZXJpZGlhbiA9PT0gbWVyaWRpYW5zWzFdKSB7XHJcbiAgICAgICAgaG91cnMgPSBob3VycyArIDEyO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaG91cnM7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRNaW51dGVzRnJvbVRlbXBsYXRlKCkge1xyXG4gICAgdmFyIG1pbnV0ZXMgPSBwYXJzZUludCgkc2NvcGUubWludXRlcywgMTApO1xyXG4gICAgcmV0dXJuIChtaW51dGVzID49IDAgJiYgbWludXRlcyA8IDYwKSA/IG1pbnV0ZXMgOiB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBwYWQodmFsdWUpIHtcclxuICAgIHJldHVybiAoYW5ndWxhci5pc0RlZmluZWQodmFsdWUpICYmIHZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoIDwgMikgPyAnMCcgKyB2YWx1ZSA6IHZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgfVxyXG5cclxuICAvLyBSZXNwb25kIG9uIG1vdXNld2hlZWwgc3BpblxyXG4gIHRoaXMuc2V0dXBNb3VzZXdoZWVsRXZlbnRzID0gZnVuY3Rpb24oaG91cnNJbnB1dEVsLCBtaW51dGVzSW5wdXRFbCkge1xyXG4gICAgdmFyIGlzU2Nyb2xsaW5nVXAgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgIGlmIChlLm9yaWdpbmFsRXZlbnQpIHtcclxuICAgICAgICBlID0gZS5vcmlnaW5hbEV2ZW50O1xyXG4gICAgICB9XHJcbiAgICAgIC8vcGljayBjb3JyZWN0IGRlbHRhIHZhcmlhYmxlIGRlcGVuZGluZyBvbiBldmVudFxyXG4gICAgICB2YXIgZGVsdGEgPSAoZS53aGVlbERlbHRhKSA/IGUud2hlZWxEZWx0YSA6IC1lLmRlbHRhWTtcclxuICAgICAgcmV0dXJuIChlLmRldGFpbCB8fCBkZWx0YSA+IDApO1xyXG4gICAgfTtcclxuXHJcbiAgICBob3Vyc0lucHV0RWwuYmluZCgnbW91c2V3aGVlbCB3aGVlbCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgJHNjb3BlLiRhcHBseShpc1Njcm9sbGluZ1VwKGUpID8gJHNjb3BlLmluY3JlbWVudEhvdXJzKCkgOiAkc2NvcGUuZGVjcmVtZW50SG91cnMoKSk7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIG1pbnV0ZXNJbnB1dEVsLmJpbmQoJ21vdXNld2hlZWwgd2hlZWwnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICRzY29wZS4kYXBwbHkoaXNTY3JvbGxpbmdVcChlKSA/ICRzY29wZS5pbmNyZW1lbnRNaW51dGVzKCkgOiAkc2NvcGUuZGVjcmVtZW50TWludXRlcygpKTtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcblxyXG4gIH07XHJcblxyXG4gIC8vIFJlc3BvbmQgb24gdXAvZG93biBhcnJvd2tleXNcclxuICB0aGlzLnNldHVwQXJyb3drZXlFdmVudHMgPSBmdW5jdGlvbihob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsKSB7XHJcbiAgICBob3Vyc0lucHV0RWwuYmluZCgna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgaWYgKGUud2hpY2ggPT09IDM4KSB7IC8vIHVwXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICRzY29wZS5pbmNyZW1lbnRIb3VycygpO1xyXG4gICAgICAgICRzY29wZS4kYXBwbHkoKTtcclxuICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09PSA0MCkgeyAvLyBkb3duXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICRzY29wZS5kZWNyZW1lbnRIb3VycygpO1xyXG4gICAgICAgICRzY29wZS4kYXBwbHkoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgbWludXRlc0lucHV0RWwuYmluZCgna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgaWYgKGUud2hpY2ggPT09IDM4KSB7IC8vIHVwXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICRzY29wZS5pbmNyZW1lbnRNaW51dGVzKCk7XHJcbiAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICB9IGVsc2UgaWYgKGUud2hpY2ggPT09IDQwKSB7IC8vIGRvd25cclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgJHNjb3BlLmRlY3JlbWVudE1pbnV0ZXMoKTtcclxuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuc2V0dXBJbnB1dEV2ZW50cyA9IGZ1bmN0aW9uKGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwpIHtcclxuICAgIGlmICgkc2NvcGUucmVhZG9ubHlJbnB1dCkge1xyXG4gICAgICAkc2NvcGUudXBkYXRlSG91cnMgPSBhbmd1bGFyLm5vb3A7XHJcbiAgICAgICRzY29wZS51cGRhdGVNaW51dGVzID0gYW5ndWxhci5ub29wO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGludmFsaWRhdGUgPSBmdW5jdGlvbihpbnZhbGlkSG91cnMsIGludmFsaWRNaW51dGVzKSB7XHJcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUobnVsbCk7XHJcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgndGltZScsIGZhbHNlKTtcclxuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGludmFsaWRIb3VycykpIHtcclxuICAgICAgICAkc2NvcGUuaW52YWxpZEhvdXJzID0gaW52YWxpZEhvdXJzO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpbnZhbGlkTWludXRlcykpIHtcclxuICAgICAgICAkc2NvcGUuaW52YWxpZE1pbnV0ZXMgPSBpbnZhbGlkTWludXRlcztcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUudXBkYXRlSG91cnMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIGhvdXJzID0gZ2V0SG91cnNGcm9tVGVtcGxhdGUoKSxcclxuICAgICAgICBtaW51dGVzID0gZ2V0TWludXRlc0Zyb21UZW1wbGF0ZSgpO1xyXG5cclxuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGhvdXJzKSAmJiBhbmd1bGFyLmlzRGVmaW5lZChtaW51dGVzKSkge1xyXG4gICAgICAgIHNlbGVjdGVkLnNldEhvdXJzKGhvdXJzKTtcclxuICAgICAgICBpZiAoc2VsZWN0ZWQgPCBtaW4gfHwgc2VsZWN0ZWQgPiBtYXgpIHtcclxuICAgICAgICAgIGludmFsaWRhdGUodHJ1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJlZnJlc2goJ2gnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaW52YWxpZGF0ZSh0cnVlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBob3Vyc0lucHV0RWwuYmluZCgnYmx1cicsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgaWYgKCEkc2NvcGUuaW52YWxpZEhvdXJzICYmICRzY29wZS5ob3VycyA8IDEwKSB7XHJcbiAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICRzY29wZS5ob3VycyA9IHBhZCgkc2NvcGUuaG91cnMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAkc2NvcGUudXBkYXRlTWludXRlcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgbWludXRlcyA9IGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKSxcclxuICAgICAgICBob3VycyA9IGdldEhvdXJzRnJvbVRlbXBsYXRlKCk7XHJcblxyXG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQobWludXRlcykgJiYgYW5ndWxhci5pc0RlZmluZWQoaG91cnMpKSB7XHJcbiAgICAgICAgc2VsZWN0ZWQuc2V0TWludXRlcyhtaW51dGVzKTtcclxuICAgICAgICBpZiAoc2VsZWN0ZWQgPCBtaW4gfHwgc2VsZWN0ZWQgPiBtYXgpIHtcclxuICAgICAgICAgIGludmFsaWRhdGUodW5kZWZpbmVkLCB0cnVlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmVmcmVzaCgnbScpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpbnZhbGlkYXRlKHVuZGVmaW5lZCwgdHJ1ZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgbWludXRlc0lucHV0RWwuYmluZCgnYmx1cicsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgaWYgKCEkc2NvcGUuaW52YWxpZE1pbnV0ZXMgJiYgJHNjb3BlLm1pbnV0ZXMgPCAxMCkge1xyXG4gICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAkc2NvcGUubWludXRlcyA9IHBhZCgkc2NvcGUubWludXRlcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICB9O1xyXG5cclxuICB0aGlzLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGRhdGUgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlO1xyXG5cclxuICAgIGlmIChpc05hTihkYXRlKSkge1xyXG4gICAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ3RpbWUnLCBmYWxzZSk7XHJcbiAgICAgICRsb2cuZXJyb3IoJ1RpbWVwaWNrZXIgZGlyZWN0aXZlOiBcIm5nLW1vZGVsXCIgdmFsdWUgbXVzdCBiZSBhIERhdGUgb2JqZWN0LCBhIG51bWJlciBvZiBtaWxsaXNlY29uZHMgc2luY2UgMDEuMDEuMTk3MCBvciBhIHN0cmluZyByZXByZXNlbnRpbmcgYW4gUkZDMjgyMiBvciBJU08gODYwMSBkYXRlLicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGRhdGUpIHtcclxuICAgICAgICBzZWxlY3RlZCA9IGRhdGU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChzZWxlY3RlZCA8IG1pbiB8fCBzZWxlY3RlZCA+IG1heCkge1xyXG4gICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgndGltZScsIGZhbHNlKTtcclxuICAgICAgICAkc2NvcGUuaW52YWxpZEhvdXJzID0gdHJ1ZTtcclxuICAgICAgICAkc2NvcGUuaW52YWxpZE1pbnV0ZXMgPSB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG1ha2VWYWxpZCgpO1xyXG4gICAgICB9XHJcbiAgICAgIHVwZGF0ZVRlbXBsYXRlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gQ2FsbCBpbnRlcm5hbGx5IHdoZW4gd2Uga25vdyB0aGF0IG1vZGVsIGlzIHZhbGlkLlxyXG4gIGZ1bmN0aW9uIHJlZnJlc2goa2V5Ym9hcmRDaGFuZ2UpIHtcclxuICAgIG1ha2VWYWxpZCgpO1xyXG4gICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShuZXcgRGF0ZShzZWxlY3RlZCkpO1xyXG4gICAgdXBkYXRlVGVtcGxhdGUoa2V5Ym9hcmRDaGFuZ2UpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gbWFrZVZhbGlkKCkge1xyXG4gICAgbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCd0aW1lJywgdHJ1ZSk7XHJcbiAgICAkc2NvcGUuaW52YWxpZEhvdXJzID0gZmFsc2U7XHJcbiAgICAkc2NvcGUuaW52YWxpZE1pbnV0ZXMgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHVwZGF0ZVRlbXBsYXRlKGtleWJvYXJkQ2hhbmdlKSB7XHJcbiAgICB2YXIgaG91cnMgPSBzZWxlY3RlZC5nZXRIb3VycygpLCBtaW51dGVzID0gc2VsZWN0ZWQuZ2V0TWludXRlcygpO1xyXG5cclxuICAgIGlmICgkc2NvcGUuc2hvd01lcmlkaWFuKSB7XHJcbiAgICAgIGhvdXJzID0gKGhvdXJzID09PSAwIHx8IGhvdXJzID09PSAxMikgPyAxMiA6IGhvdXJzICUgMTI7IC8vIENvbnZlcnQgMjQgdG8gMTIgaG91ciBzeXN0ZW1cclxuICAgIH1cclxuXHJcbiAgICAkc2NvcGUuaG91cnMgPSBrZXlib2FyZENoYW5nZSA9PT0gJ2gnID8gaG91cnMgOiBwYWQoaG91cnMpO1xyXG4gICAgaWYgKGtleWJvYXJkQ2hhbmdlICE9PSAnbScpIHtcclxuICAgICAgJHNjb3BlLm1pbnV0ZXMgPSBwYWQobWludXRlcyk7XHJcbiAgICB9XHJcbiAgICAkc2NvcGUubWVyaWRpYW4gPSBzZWxlY3RlZC5nZXRIb3VycygpIDwgMTIgPyBtZXJpZGlhbnNbMF0gOiBtZXJpZGlhbnNbMV07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBhZGRNaW51dGVzKGRhdGUsIG1pbnV0ZXMpIHtcclxuICAgIHZhciBkdCA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpICsgbWludXRlcyAqIDYwMDAwKTtcclxuICAgIHZhciBuZXdEYXRlID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICBuZXdEYXRlLnNldEhvdXJzKGR0LmdldEhvdXJzKCksIGR0LmdldE1pbnV0ZXMoKSk7XHJcbiAgICByZXR1cm4gbmV3RGF0ZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGFkZE1pbnV0ZXNUb1NlbGVjdGVkKG1pbnV0ZXMpIHtcclxuICAgIHNlbGVjdGVkID0gYWRkTWludXRlcyhzZWxlY3RlZCwgbWludXRlcyk7XHJcbiAgICByZWZyZXNoKCk7XHJcbiAgfVxyXG5cclxuICAkc2NvcGUuc2hvd1NwaW5uZXJzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnNob3dTcGlubmVycykgP1xyXG4gICAgJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnNob3dTcGlubmVycykgOiB0aW1lcGlja2VyQ29uZmlnLnNob3dTcGlubmVycztcclxuXHJcbiAgJHNjb3BlLmluY3JlbWVudEhvdXJzID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoISRzY29wZS5ub0luY3JlbWVudEhvdXJzKCkpIHtcclxuICAgICAgYWRkTWludXRlc1RvU2VsZWN0ZWQoaG91clN0ZXAgKiA2MCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLmRlY3JlbWVudEhvdXJzID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoISRzY29wZS5ub0RlY3JlbWVudEhvdXJzKCkpIHtcclxuICAgICAgYWRkTWludXRlc1RvU2VsZWN0ZWQoLWhvdXJTdGVwICogNjApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gICRzY29wZS5pbmNyZW1lbnRNaW51dGVzID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoISRzY29wZS5ub0luY3JlbWVudE1pbnV0ZXMoKSkge1xyXG4gICAgICBhZGRNaW51dGVzVG9TZWxlY3RlZChtaW51dGVTdGVwKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAkc2NvcGUuZGVjcmVtZW50TWludXRlcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKCEkc2NvcGUubm9EZWNyZW1lbnRNaW51dGVzKCkpIHtcclxuICAgICAgYWRkTWludXRlc1RvU2VsZWN0ZWQoLW1pbnV0ZVN0ZXApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gICRzY29wZS50b2dnbGVNZXJpZGlhbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKCEkc2NvcGUubm9Ub2dnbGVNZXJpZGlhbigpKSB7XHJcbiAgICAgIGFkZE1pbnV0ZXNUb1NlbGVjdGVkKDEyICogNjAgKiAoc2VsZWN0ZWQuZ2V0SG91cnMoKSA8IDEyID8gMSA6IC0xKSk7XHJcbiAgICB9XHJcbiAgfTtcclxufV0pXHJcblxyXG4uZGlyZWN0aXZlKCd0aW1lcGlja2VyJywgZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgcmVxdWlyZTogWyd0aW1lcGlja2VyJywgJz9ebmdNb2RlbCddLFxyXG4gICAgY29udHJvbGxlcjonVGltZXBpY2tlckNvbnRyb2xsZXInLFxyXG4gICAgY29udHJvbGxlckFzOiAndGltZXBpY2tlcicsXHJcbiAgICByZXBsYWNlOiB0cnVlLFxyXG4gICAgc2NvcGU6IHt9LFxyXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWwnO1xyXG4gICAgfSxcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcclxuICAgICAgdmFyIHRpbWVwaWNrZXJDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XHJcblxyXG4gICAgICBpZiAobmdNb2RlbEN0cmwpIHtcclxuICAgICAgICB0aW1lcGlja2VyQ3RybC5pbml0KG5nTW9kZWxDdHJsLCBlbGVtZW50LmZpbmQoJ2lucHV0JykpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxufSk7XHJcblxyXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnRyYW5zaXRpb24nLCBbXSlcclxuXHJcbi52YWx1ZSgnJHRyYW5zaXRpb25TdXBwcmVzc0RlcHJlY2F0ZWQnLCBmYWxzZSlcclxuLyoqXHJcbiAqICR0cmFuc2l0aW9uIHNlcnZpY2UgcHJvdmlkZXMgYSBjb25zaXN0ZW50IGludGVyZmFjZSB0byB0cmlnZ2VyIENTUyAzIHRyYW5zaXRpb25zIGFuZCB0byBiZSBpbmZvcm1lZCB3aGVuIHRoZXkgY29tcGxldGUuXHJcbiAqIEBwYXJhbSAge0RPTUVsZW1lbnR9IGVsZW1lbnQgIFRoZSBET01FbGVtZW50IHRoYXQgd2lsbCBiZSBhbmltYXRlZC5cclxuICogQHBhcmFtICB7c3RyaW5nfG9iamVjdHxmdW5jdGlvbn0gdHJpZ2dlciAgVGhlIHRoaW5nIHRoYXQgd2lsbCBjYXVzZSB0aGUgdHJhbnNpdGlvbiB0byBzdGFydDpcclxuICogICAtIEFzIGEgc3RyaW5nLCBpdCByZXByZXNlbnRzIHRoZSBjc3MgY2xhc3MgdG8gYmUgYWRkZWQgdG8gdGhlIGVsZW1lbnQuXHJcbiAqICAgLSBBcyBhbiBvYmplY3QsIGl0IHJlcHJlc2VudHMgYSBoYXNoIG9mIHN0eWxlIGF0dHJpYnV0ZXMgdG8gYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cclxuICogICAtIEFzIGEgZnVuY3Rpb24sIGl0IHJlcHJlc2VudHMgYSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgdGhhdCB3aWxsIGNhdXNlIHRoZSB0cmFuc2l0aW9uIHRvIG9jY3VyLlxyXG4gKiBAcmV0dXJuIHtQcm9taXNlfSAgQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgdHJhbnNpdGlvbiBmaW5pc2hlcy5cclxuICovXHJcbi5mYWN0b3J5KCckdHJhbnNpdGlvbicsIFtcclxuICAgICAgICAnJHEnLCAnJHRpbWVvdXQnLCAnJHJvb3RTY29wZScsICckbG9nJywgJyR0cmFuc2l0aW9uU3VwcHJlc3NEZXByZWNhdGVkJyxcclxuZnVuY3Rpb24oJHEgLCAgJHRpbWVvdXQgLCAgJHJvb3RTY29wZSAsICAkbG9nICwgICR0cmFuc2l0aW9uU3VwcHJlc3NEZXByZWNhdGVkKSB7XHJcblxyXG4gIGlmICghJHRyYW5zaXRpb25TdXBwcmVzc0RlcHJlY2F0ZWQpIHtcclxuICAgICRsb2cud2FybignJHRyYW5zaXRpb24gaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSAkYW5pbWF0ZSBmcm9tIG5nQW5pbWF0ZSBpbnN0ZWFkLicpO1xyXG4gIH1cclxuXHJcbiAgdmFyICR0cmFuc2l0aW9uID0gZnVuY3Rpb24oZWxlbWVudCwgdHJpZ2dlciwgb3B0aW9ucykge1xyXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbiAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG4gICAgdmFyIGVuZEV2ZW50TmFtZSA9ICR0cmFuc2l0aW9uW29wdGlvbnMuYW5pbWF0aW9uID8gJ2FuaW1hdGlvbkVuZEV2ZW50TmFtZScgOiAndHJhbnNpdGlvbkVuZEV2ZW50TmFtZSddO1xyXG5cclxuICAgIHZhciB0cmFuc2l0aW9uRW5kSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGVsZW1lbnQudW5iaW5kKGVuZEV2ZW50TmFtZSwgdHJhbnNpdGlvbkVuZEhhbmRsZXIpO1xyXG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoZWxlbWVudCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoZW5kRXZlbnROYW1lKSB7XHJcbiAgICAgIGVsZW1lbnQuYmluZChlbmRFdmVudE5hbWUsIHRyYW5zaXRpb25FbmRIYW5kbGVyKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBXcmFwIGluIGEgdGltZW91dCB0byBhbGxvdyB0aGUgYnJvd3NlciB0aW1lIHRvIHVwZGF0ZSB0aGUgRE9NIGJlZm9yZSB0aGUgdHJhbnNpdGlvbiBpcyB0byBvY2N1clxyXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmICggYW5ndWxhci5pc1N0cmluZyh0cmlnZ2VyKSApIHtcclxuICAgICAgICBlbGVtZW50LmFkZENsYXNzKHRyaWdnZXIpO1xyXG4gICAgICB9IGVsc2UgaWYgKCBhbmd1bGFyLmlzRnVuY3Rpb24odHJpZ2dlcikgKSB7XHJcbiAgICAgICAgdHJpZ2dlcihlbGVtZW50KTtcclxuICAgICAgfSBlbHNlIGlmICggYW5ndWxhci5pc09iamVjdCh0cmlnZ2VyKSApIHtcclxuICAgICAgICBlbGVtZW50LmNzcyh0cmlnZ2VyKTtcclxuICAgICAgfVxyXG4gICAgICAvL0lmIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0cmFuc2l0aW9ucywgaW5zdGFudGx5IHJlc29sdmVcclxuICAgICAgaWYgKCAhZW5kRXZlbnROYW1lICkge1xyXG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoZWxlbWVudCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEFkZCBvdXIgY3VzdG9tIGNhbmNlbCBmdW5jdGlvbiB0byB0aGUgcHJvbWlzZSB0aGF0IGlzIHJldHVybmVkXHJcbiAgICAvLyBXZSBjYW4gY2FsbCB0aGlzIGlmIHdlIGFyZSBhYm91dCB0byBydW4gYSBuZXcgdHJhbnNpdGlvbiwgd2hpY2ggd2Uga25vdyB3aWxsIHByZXZlbnQgdGhpcyB0cmFuc2l0aW9uIGZyb20gZW5kaW5nLFxyXG4gICAgLy8gaS5lLiBpdCB3aWxsIHRoZXJlZm9yZSBuZXZlciByYWlzZSBhIHRyYW5zaXRpb25FbmQgZXZlbnQgZm9yIHRoYXQgdHJhbnNpdGlvblxyXG4gICAgZGVmZXJyZWQucHJvbWlzZS5jYW5jZWwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKCBlbmRFdmVudE5hbWUgKSB7XHJcbiAgICAgICAgZWxlbWVudC51bmJpbmQoZW5kRXZlbnROYW1lLCB0cmFuc2l0aW9uRW5kSGFuZGxlcik7XHJcbiAgICAgIH1cclxuICAgICAgZGVmZXJyZWQucmVqZWN0KCdUcmFuc2l0aW9uIGNhbmNlbGxlZCcpO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICB9O1xyXG5cclxuICAvLyBXb3JrIG91dCB0aGUgbmFtZSBvZiB0aGUgdHJhbnNpdGlvbkVuZCBldmVudFxyXG4gIHZhciB0cmFuc0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cmFucycpO1xyXG4gIHZhciB0cmFuc2l0aW9uRW5kRXZlbnROYW1lcyA9IHtcclxuICAgICdXZWJraXRUcmFuc2l0aW9uJzogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxyXG4gICAgJ01velRyYW5zaXRpb24nOiAndHJhbnNpdGlvbmVuZCcsXHJcbiAgICAnT1RyYW5zaXRpb24nOiAnb1RyYW5zaXRpb25FbmQnLFxyXG4gICAgJ3RyYW5zaXRpb24nOiAndHJhbnNpdGlvbmVuZCdcclxuICB9O1xyXG4gIHZhciBhbmltYXRpb25FbmRFdmVudE5hbWVzID0ge1xyXG4gICAgJ1dlYmtpdFRyYW5zaXRpb24nOiAnd2Via2l0QW5pbWF0aW9uRW5kJyxcclxuICAgICdNb3pUcmFuc2l0aW9uJzogJ2FuaW1hdGlvbmVuZCcsXHJcbiAgICAnT1RyYW5zaXRpb24nOiAnb0FuaW1hdGlvbkVuZCcsXHJcbiAgICAndHJhbnNpdGlvbic6ICdhbmltYXRpb25lbmQnXHJcbiAgfTtcclxuICBmdW5jdGlvbiBmaW5kRW5kRXZlbnROYW1lKGVuZEV2ZW50TmFtZXMpIHtcclxuICAgIGZvciAodmFyIG5hbWUgaW4gZW5kRXZlbnROYW1lcyl7XHJcbiAgICAgIGlmICh0cmFuc0VsZW1lbnQuc3R5bGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiBlbmRFdmVudE5hbWVzW25hbWVdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gICR0cmFuc2l0aW9uLnRyYW5zaXRpb25FbmRFdmVudE5hbWUgPSBmaW5kRW5kRXZlbnROYW1lKHRyYW5zaXRpb25FbmRFdmVudE5hbWVzKTtcclxuICAkdHJhbnNpdGlvbi5hbmltYXRpb25FbmRFdmVudE5hbWUgPSBmaW5kRW5kRXZlbnROYW1lKGFuaW1hdGlvbkVuZEV2ZW50TmFtZXMpO1xyXG4gIHJldHVybiAkdHJhbnNpdGlvbjtcclxufV0pO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50eXBlYWhlYWQnLCBbJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbiddKVxyXG5cclxuLyoqXHJcbiAqIEEgaGVscGVyIHNlcnZpY2UgdGhhdCBjYW4gcGFyc2UgdHlwZWFoZWFkJ3Mgc3ludGF4IChzdHJpbmcgcHJvdmlkZWQgYnkgdXNlcnMpXHJcbiAqIEV4dHJhY3RlZCB0byBhIHNlcGFyYXRlIHNlcnZpY2UgZm9yIGVhc2Ugb2YgdW5pdCB0ZXN0aW5nXHJcbiAqL1xyXG4gIC5mYWN0b3J5KCd0eXBlYWhlYWRQYXJzZXInLCBbJyRwYXJzZScsIGZ1bmN0aW9uKCRwYXJzZSkge1xyXG5cclxuICAvLyAgICAgICAgICAgICAgICAgICAgICAwMDAwMDExMTAwMDAwMDAwMDAwMDAyMjIwMDAwMDAwMDAwMDAwMDAwMzMzMzMzMzMzMzMzMzMzMDAwMDAwMDAwMDA0NDAwMFxyXG4gIHZhciBUWVBFQUhFQURfUkVHRVhQID0gL15cXHMqKFtcXHNcXFNdKz8pKD86XFxzK2FzXFxzKyhbXFxzXFxTXSs/KSk/XFxzK2ZvclxccysoPzooW1xcJFxcd11bXFwkXFx3XFxkXSopKVxccytpblxccysoW1xcc1xcU10rPykkLztcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHBhcnNlOiBmdW5jdGlvbihpbnB1dCkge1xyXG4gICAgICB2YXIgbWF0Y2ggPSBpbnB1dC5tYXRjaChUWVBFQUhFQURfUkVHRVhQKTtcclxuICAgICAgaWYgKCFtYXRjaCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAgICdFeHBlY3RlZCB0eXBlYWhlYWQgc3BlY2lmaWNhdGlvbiBpbiBmb3JtIG9mIFwiX21vZGVsVmFsdWVfIChhcyBfbGFiZWxfKT8gZm9yIF9pdGVtXyBpbiBfY29sbGVjdGlvbl9cIicgK1xyXG4gICAgICAgICAgICAnIGJ1dCBnb3QgXCInICsgaW5wdXQgKyAnXCIuJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaXRlbU5hbWU6bWF0Y2hbM10sXHJcbiAgICAgICAgc291cmNlOiRwYXJzZShtYXRjaFs0XSksXHJcbiAgICAgICAgdmlld01hcHBlcjokcGFyc2UobWF0Y2hbMl0gfHwgbWF0Y2hbMV0pLFxyXG4gICAgICAgIG1vZGVsTWFwcGVyOiRwYXJzZShtYXRjaFsxXSlcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9O1xyXG59XSlcclxuXHJcbiAgLmRpcmVjdGl2ZSgndHlwZWFoZWFkJywgWyckY29tcGlsZScsICckcGFyc2UnLCAnJHEnLCAnJHRpbWVvdXQnLCAnJGRvY3VtZW50JywgJyR3aW5kb3cnLCAnJHJvb3RTY29wZScsICckcG9zaXRpb24nLCAndHlwZWFoZWFkUGFyc2VyJyxcclxuICAgIGZ1bmN0aW9uKCRjb21waWxlLCAkcGFyc2UsICRxLCAkdGltZW91dCwgJGRvY3VtZW50LCAkd2luZG93LCAkcm9vdFNjb3BlLCAkcG9zaXRpb24sIHR5cGVhaGVhZFBhcnNlcikge1xyXG4gICAgdmFyIEhPVF9LRVlTID0gWzksIDEzLCAyNywgMzgsIDQwXTtcclxuICAgIHZhciBldmVudERlYm91bmNlVGltZSA9IDIwMDtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXF1aXJlOiBbJ25nTW9kZWwnLCAnXj9uZ01vZGVsT3B0aW9ucyddLFxyXG4gICAgICBsaW5rOiBmdW5jdGlvbihvcmlnaW5hbFNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcclxuICAgICAgICB2YXIgbW9kZWxDdHJsID0gY3RybHNbMF07XHJcbiAgICAgICAgdmFyIG5nTW9kZWxPcHRpb25zID0gY3RybHNbMV07XHJcbiAgICAgICAgLy9TVVBQT1JURUQgQVRUUklCVVRFUyAoT1BUSU9OUylcclxuXHJcbiAgICAgICAgLy9taW5pbWFsIG5vIG9mIGNoYXJhY3RlcnMgdGhhdCBuZWVkcyB0byBiZSBlbnRlcmVkIGJlZm9yZSB0eXBlYWhlYWQga2lja3MtaW5cclxuICAgICAgICB2YXIgbWluTGVuZ3RoID0gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRNaW5MZW5ndGgpO1xyXG4gICAgICAgIGlmICghbWluTGVuZ3RoICYmIG1pbkxlbmd0aCAhPT0gMCkge1xyXG4gICAgICAgICAgbWluTGVuZ3RoID0gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vbWluaW1hbCB3YWl0IHRpbWUgYWZ0ZXIgbGFzdCBjaGFyYWN0ZXIgdHlwZWQgYmVmb3JlIHR5cGVhaGVhZCBraWNrcy1pblxyXG4gICAgICAgIHZhciB3YWl0VGltZSA9IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkV2FpdE1zKSB8fCAwO1xyXG5cclxuICAgICAgICAvL3Nob3VsZCBpdCByZXN0cmljdCBtb2RlbCB2YWx1ZXMgdG8gdGhlIG9uZXMgc2VsZWN0ZWQgZnJvbSB0aGUgcG9wdXAgb25seT9cclxuICAgICAgICB2YXIgaXNFZGl0YWJsZSA9IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkRWRpdGFibGUpICE9PSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy9iaW5kaW5nIHRvIGEgdmFyaWFibGUgdGhhdCBpbmRpY2F0ZXMgaWYgbWF0Y2hlcyBhcmUgYmVpbmcgcmV0cmlldmVkIGFzeW5jaHJvbm91c2x5XHJcbiAgICAgICAgdmFyIGlzTG9hZGluZ1NldHRlciA9ICRwYXJzZShhdHRycy50eXBlYWhlYWRMb2FkaW5nKS5hc3NpZ24gfHwgYW5ndWxhci5ub29wO1xyXG5cclxuICAgICAgICAvL2EgY2FsbGJhY2sgZXhlY3V0ZWQgd2hlbiBhIG1hdGNoIGlzIHNlbGVjdGVkXHJcbiAgICAgICAgdmFyIG9uU2VsZWN0Q2FsbGJhY2sgPSAkcGFyc2UoYXR0cnMudHlwZWFoZWFkT25TZWxlY3QpO1xyXG5cclxuICAgICAgICAvL3Nob3VsZCBpdCBzZWxlY3QgaGlnaGxpZ2h0ZWQgcG9wdXAgdmFsdWUgd2hlbiBsb3NpbmcgZm9jdXM/XHJcbiAgICAgICAgdmFyIGlzU2VsZWN0T25CbHVyID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudHlwZWFoZWFkU2VsZWN0T25CbHVyKSA/IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkU2VsZWN0T25CbHVyKSA6IGZhbHNlO1xyXG5cclxuICAgICAgICAvL2JpbmRpbmcgdG8gYSB2YXJpYWJsZSB0aGF0IGluZGljYXRlcyBpZiB0aGVyZSB3ZXJlIG5vIHJlc3VsdHMgYWZ0ZXIgdGhlIHF1ZXJ5IGlzIGNvbXBsZXRlZFxyXG4gICAgICAgIHZhciBpc05vUmVzdWx0c1NldHRlciA9ICRwYXJzZShhdHRycy50eXBlYWhlYWROb1Jlc3VsdHMpLmFzc2lnbiB8fCBhbmd1bGFyLm5vb3A7XHJcblxyXG4gICAgICAgIHZhciBpbnB1dEZvcm1hdHRlciA9IGF0dHJzLnR5cGVhaGVhZElucHV0Rm9ybWF0dGVyID8gJHBhcnNlKGF0dHJzLnR5cGVhaGVhZElucHV0Rm9ybWF0dGVyKSA6IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgdmFyIGFwcGVuZFRvQm9keSA9ICBhdHRycy50eXBlYWhlYWRBcHBlbmRUb0JvZHkgPyBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZEFwcGVuZFRvQm9keSkgOiBmYWxzZTtcclxuXHJcbiAgICAgICAgdmFyIGZvY3VzRmlyc3QgPSBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZEZvY3VzRmlyc3QpICE9PSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy9JZiBpbnB1dCBtYXRjaGVzIGFuIGl0ZW0gb2YgdGhlIGxpc3QgZXhhY3RseSwgc2VsZWN0IGl0IGF1dG9tYXRpY2FsbHlcclxuICAgICAgICB2YXIgc2VsZWN0T25FeGFjdCA9IGF0dHJzLnR5cGVhaGVhZFNlbGVjdE9uRXhhY3QgPyBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZFNlbGVjdE9uRXhhY3QpIDogZmFsc2U7XHJcblxyXG4gICAgICAgIC8vSU5URVJOQUwgVkFSSUFCTEVTXHJcblxyXG4gICAgICAgIC8vbW9kZWwgc2V0dGVyIGV4ZWN1dGVkIHVwb24gbWF0Y2ggc2VsZWN0aW9uXHJcbiAgICAgICAgdmFyIHBhcnNlZE1vZGVsID0gJHBhcnNlKGF0dHJzLm5nTW9kZWwpO1xyXG4gICAgICAgIHZhciBpbnZva2VNb2RlbFNldHRlciA9ICRwYXJzZShhdHRycy5uZ01vZGVsICsgJygkJCRwKScpO1xyXG4gICAgICAgIHZhciAkc2V0TW9kZWxWYWx1ZSA9IGZ1bmN0aW9uKHNjb3BlLCBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihwYXJzZWRNb2RlbChvcmlnaW5hbFNjb3BlKSkgJiZcclxuICAgICAgICAgICAgbmdNb2RlbE9wdGlvbnMgJiYgbmdNb2RlbE9wdGlvbnMuJG9wdGlvbnMgJiYgbmdNb2RlbE9wdGlvbnMuJG9wdGlvbnMuZ2V0dGVyU2V0dGVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpbnZva2VNb2RlbFNldHRlcihzY29wZSwgeyQkJHA6IG5ld1ZhbHVlfSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VkTW9kZWwuYXNzaWduKHNjb3BlLCBuZXdWYWx1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9leHByZXNzaW9ucyB1c2VkIGJ5IHR5cGVhaGVhZFxyXG4gICAgICAgIHZhciBwYXJzZXJSZXN1bHQgPSB0eXBlYWhlYWRQYXJzZXIucGFyc2UoYXR0cnMudHlwZWFoZWFkKTtcclxuXHJcbiAgICAgICAgdmFyIGhhc0ZvY3VzO1xyXG5cclxuICAgICAgICAvL1VzZWQgdG8gYXZvaWQgYnVnIGluIGlPUyB3ZWJ2aWV3IHdoZXJlIGlPUyBrZXlib2FyZCBkb2VzIG5vdCBmaXJlXHJcbiAgICAgICAgLy9tb3VzZWRvd24gJiBtb3VzZXVwIGV2ZW50c1xyXG4gICAgICAgIC8vSXNzdWUgIzM2OTlcclxuICAgICAgICB2YXIgc2VsZWN0ZWQ7XHJcblxyXG4gICAgICAgIC8vY3JlYXRlIGEgY2hpbGQgc2NvcGUgZm9yIHRoZSB0eXBlYWhlYWQgZGlyZWN0aXZlIHNvIHdlIGFyZSBub3QgcG9sbHV0aW5nIG9yaWdpbmFsIHNjb3BlXHJcbiAgICAgICAgLy93aXRoIHR5cGVhaGVhZC1zcGVjaWZpYyBkYXRhIChtYXRjaGVzLCBxdWVyeSBldGMuKVxyXG4gICAgICAgIHZhciBzY29wZSA9IG9yaWdpbmFsU2NvcGUuJG5ldygpO1xyXG4gICAgICAgIHZhciBvZmZEZXN0cm95ID0gb3JpZ2luYWxTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdCAgICBzY29wZS4kZGVzdHJveSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBvZmZEZXN0cm95KTtcclxuXHJcbiAgICAgICAgLy8gV0FJLUFSSUFcclxuICAgICAgICB2YXIgcG9wdXBJZCA9ICd0eXBlYWhlYWQtJyArIHNjb3BlLiRpZCArICctJyArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTtcclxuICAgICAgICBlbGVtZW50LmF0dHIoe1xyXG4gICAgICAgICAgJ2FyaWEtYXV0b2NvbXBsZXRlJzogJ2xpc3QnLFxyXG4gICAgICAgICAgJ2FyaWEtZXhwYW5kZWQnOiBmYWxzZSxcclxuICAgICAgICAgICdhcmlhLW93bnMnOiBwb3B1cElkXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vcG9wLXVwIGVsZW1lbnQgdXNlZCB0byBkaXNwbGF5IG1hdGNoZXNcclxuICAgICAgICB2YXIgcG9wVXBFbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiB0eXBlYWhlYWQtcG9wdXA+PC9kaXY+Jyk7XHJcbiAgICAgICAgcG9wVXBFbC5hdHRyKHtcclxuICAgICAgICAgIGlkOiBwb3B1cElkLFxyXG4gICAgICAgICAgbWF0Y2hlczogJ21hdGNoZXMnLFxyXG4gICAgICAgICAgYWN0aXZlOiAnYWN0aXZlSWR4JyxcclxuICAgICAgICAgIHNlbGVjdDogJ3NlbGVjdChhY3RpdmVJZHgpJyxcclxuICAgICAgICAgICdtb3ZlLWluLXByb2dyZXNzJzogJ21vdmVJblByb2dyZXNzJyxcclxuICAgICAgICAgIHF1ZXJ5OiAncXVlcnknLFxyXG4gICAgICAgICAgcG9zaXRpb246ICdwb3NpdGlvbidcclxuICAgICAgICB9KTtcclxuICAgICAgICAvL2N1c3RvbSBpdGVtIHRlbXBsYXRlXHJcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnR5cGVhaGVhZFRlbXBsYXRlVXJsKSkge1xyXG4gICAgICAgICAgcG9wVXBFbC5hdHRyKCd0ZW1wbGF0ZS11cmwnLCBhdHRycy50eXBlYWhlYWRUZW1wbGF0ZVVybCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudHlwZWFoZWFkUG9wdXBUZW1wbGF0ZVVybCkpIHtcclxuICAgICAgICAgIHBvcFVwRWwuYXR0cigncG9wdXAtdGVtcGxhdGUtdXJsJywgYXR0cnMudHlwZWFoZWFkUG9wdXBUZW1wbGF0ZVVybCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcmVzZXRNYXRjaGVzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzY29wZS5tYXRjaGVzID0gW107XHJcbiAgICAgICAgICBzY29wZS5hY3RpdmVJZHggPSAtMTtcclxuICAgICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgZ2V0TWF0Y2hJZCA9IGZ1bmN0aW9uKGluZGV4KSB7XHJcbiAgICAgICAgICByZXR1cm4gcG9wdXBJZCArICctb3B0aW9uLScgKyBpbmRleDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBJbmRpY2F0ZSB0aGF0IHRoZSBzcGVjaWZpZWQgbWF0Y2ggaXMgdGhlIGFjdGl2ZSAocHJlLXNlbGVjdGVkKSBpdGVtIGluIHRoZSBsaXN0IG93bmVkIGJ5IHRoaXMgdHlwZWFoZWFkLlxyXG4gICAgICAgIC8vIFRoaXMgYXR0cmlidXRlIGlzIGFkZGVkIG9yIHJlbW92ZWQgYXV0b21hdGljYWxseSB3aGVuIHRoZSBgYWN0aXZlSWR4YCBjaGFuZ2VzLlxyXG4gICAgICAgIHNjb3BlLiR3YXRjaCgnYWN0aXZlSWR4JywgZnVuY3Rpb24oaW5kZXgpIHtcclxuICAgICAgICAgIGlmIChpbmRleCA8IDApIHtcclxuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyKCdhcmlhLWFjdGl2ZWRlc2NlbmRhbnQnKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1hY3RpdmVkZXNjZW5kYW50JywgZ2V0TWF0Y2hJZChpbmRleCkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgaW5wdXRJc0V4YWN0TWF0Y2ggPSBmdW5jdGlvbihpbnB1dFZhbHVlLCBpbmRleCkge1xyXG4gICAgICAgICAgaWYgKHNjb3BlLm1hdGNoZXMubGVuZ3RoID4gaW5kZXggJiYgaW5wdXRWYWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW5wdXRWYWx1ZS50b1VwcGVyQ2FzZSgpID09PSBzY29wZS5tYXRjaGVzW2luZGV4XS5sYWJlbC50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgZ2V0TWF0Y2hlc0FzeW5jID0gZnVuY3Rpb24oaW5wdXRWYWx1ZSkge1xyXG4gICAgICAgICAgdmFyIGxvY2FscyA9IHskdmlld1ZhbHVlOiBpbnB1dFZhbHVlfTtcclxuICAgICAgICAgIGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCB0cnVlKTtcclxuICAgICAgICAgIGlzTm9SZXN1bHRzU2V0dGVyKG9yaWdpbmFsU2NvcGUsIGZhbHNlKTtcclxuICAgICAgICAgICRxLndoZW4ocGFyc2VyUmVzdWx0LnNvdXJjZShvcmlnaW5hbFNjb3BlLCBsb2NhbHMpKS50aGVuKGZ1bmN0aW9uKG1hdGNoZXMpIHtcclxuICAgICAgICAgICAgLy9pdCBtaWdodCBoYXBwZW4gdGhhdCBzZXZlcmFsIGFzeW5jIHF1ZXJpZXMgd2VyZSBpbiBwcm9ncmVzcyBpZiBhIHVzZXIgd2VyZSB0eXBpbmcgZmFzdFxyXG4gICAgICAgICAgICAvL2J1dCB3ZSBhcmUgaW50ZXJlc3RlZCBvbmx5IGluIHJlc3BvbnNlcyB0aGF0IGNvcnJlc3BvbmQgdG8gdGhlIGN1cnJlbnQgdmlldyB2YWx1ZVxyXG4gICAgICAgICAgICB2YXIgb25DdXJyZW50UmVxdWVzdCA9IChpbnB1dFZhbHVlID09PSBtb2RlbEN0cmwuJHZpZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgIGlmIChvbkN1cnJlbnRSZXF1ZXN0ICYmIGhhc0ZvY3VzKSB7XHJcbiAgICAgICAgICAgICAgaWYgKG1hdGNoZXMgJiYgbWF0Y2hlcy5sZW5ndGggPiAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgc2NvcGUuYWN0aXZlSWR4ID0gZm9jdXNGaXJzdCA/IDAgOiAtMTtcclxuICAgICAgICAgICAgICAgIGlzTm9SZXN1bHRzU2V0dGVyKG9yaWdpbmFsU2NvcGUsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIHNjb3BlLm1hdGNoZXMubGVuZ3RoID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3RyYW5zZm9ybSBsYWJlbHNcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICBsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXSA9IG1hdGNoZXNbaV07XHJcbiAgICAgICAgICAgICAgICAgIHNjb3BlLm1hdGNoZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGdldE1hdGNoSWQoaSksXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHBhcnNlclJlc3VsdC52aWV3TWFwcGVyKHNjb3BlLCBsb2NhbHMpLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiBtYXRjaGVzW2ldXHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHNjb3BlLnF1ZXJ5ID0gaW5wdXRWYWx1ZTtcclxuICAgICAgICAgICAgICAgIC8vcG9zaXRpb24gcG9wLXVwIHdpdGggbWF0Y2hlcyAtIHdlIG5lZWQgdG8gcmUtY2FsY3VsYXRlIGl0cyBwb3NpdGlvbiBlYWNoIHRpbWUgd2UgYXJlIG9wZW5pbmcgYSB3aW5kb3dcclxuICAgICAgICAgICAgICAgIC8vd2l0aCBtYXRjaGVzIGFzIGEgcG9wLXVwIG1pZ2h0IGJlIGFic29sdXRlLXBvc2l0aW9uZWQgYW5kIHBvc2l0aW9uIG9mIGFuIGlucHV0IG1pZ2h0IGhhdmUgY2hhbmdlZCBvbiBhIHBhZ2VcclxuICAgICAgICAgICAgICAgIC8vZHVlIHRvIG90aGVyIGVsZW1lbnRzIGJlaW5nIHJlbmRlcmVkXHJcbiAgICAgICAgICAgICAgICByZWNhbGN1bGF0ZVBvc2l0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9TZWxlY3QgdGhlIHNpbmdsZSByZW1haW5pbmcgb3B0aW9uIGlmIHVzZXIgaW5wdXQgbWF0Y2hlc1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdE9uRXhhY3QgJiYgc2NvcGUubWF0Y2hlcy5sZW5ndGggPT09IDEgJiYgaW5wdXRJc0V4YWN0TWF0Y2goaW5wdXRWYWx1ZSwgMCkpIHtcclxuICAgICAgICAgICAgICAgICAgc2NvcGUuc2VsZWN0KDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXNldE1hdGNoZXMoKTtcclxuICAgICAgICAgICAgICAgIGlzTm9SZXN1bHRzU2V0dGVyKG9yaWdpbmFsU2NvcGUsIHRydWUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob25DdXJyZW50UmVxdWVzdCkge1xyXG4gICAgICAgICAgICAgIGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXNldE1hdGNoZXMoKTtcclxuICAgICAgICAgICAgaXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsIGZhbHNlKTtcclxuICAgICAgICAgICAgaXNOb1Jlc3VsdHNTZXR0ZXIob3JpZ2luYWxTY29wZSwgdHJ1ZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBiaW5kIGV2ZW50cyBvbmx5IGlmIGFwcGVuZFRvQm9keSBwYXJhbXMgZXhpc3QgLSBwZXJmb3JtYW5jZSBmZWF0dXJlXHJcbiAgICAgICAgaWYgKGFwcGVuZFRvQm9keSkge1xyXG4gICAgICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLmJpbmQoJ3Jlc2l6ZScsIGZpcmVSZWNhbGN1bGF0aW5nKTtcclxuICAgICAgICAgICRkb2N1bWVudC5maW5kKCdib2R5JykuYmluZCgnc2Nyb2xsJywgZmlyZVJlY2FsY3VsYXRpbmcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRGVjbGFyZSB0aGUgdGltZW91dCBwcm9taXNlIHZhciBvdXRzaWRlIHRoZSBmdW5jdGlvbiBzY29wZSBzbyB0aGF0IHN0YWNrZWQgY2FsbHMgY2FuIGJlIGNhbmNlbGxlZCBsYXRlclxyXG4gICAgICAgIHZhciB0aW1lb3V0RXZlbnRQcm9taXNlO1xyXG5cclxuICAgICAgICAvLyBEZWZhdWx0IHByb2dyZXNzIHR5cGVcclxuICAgICAgICBzY29wZS5tb3ZlSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBmaXJlUmVjYWxjdWxhdGluZygpIHtcclxuICAgICAgICAgIGlmICghc2NvcGUubW92ZUluUHJvZ3Jlc3MpIHtcclxuICAgICAgICAgICAgc2NvcGUubW92ZUluUHJvZ3Jlc3MgPSB0cnVlO1xyXG4gICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gQ2FuY2VsIHByZXZpb3VzIHRpbWVvdXRcclxuICAgICAgICAgIGlmICh0aW1lb3V0RXZlbnRQcm9taXNlKSB7XHJcbiAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lb3V0RXZlbnRQcm9taXNlKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBEZWJvdW5jZWQgZXhlY3V0aW5nIHJlY2FsY3VsYXRlIGFmdGVyIGV2ZW50cyBmaXJlZFxyXG4gICAgICAgICAgdGltZW91dEV2ZW50UHJvbWlzZSA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAvLyBpZiBwb3B1cCBpcyB2aXNpYmxlXHJcbiAgICAgICAgICAgIGlmIChzY29wZS5tYXRjaGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgIHJlY2FsY3VsYXRlUG9zaXRpb24oKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2NvcGUubW92ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcclxuICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xyXG4gICAgICAgICAgfSwgZXZlbnREZWJvdW5jZVRpbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gcmVjYWxjdWxhdGUgYWN0dWFsIHBvc2l0aW9uIGFuZCBzZXQgbmV3IHZhbHVlcyB0byBzY29wZVxyXG4gICAgICAgIC8vIGFmdGVyIGRpZ2VzdCBsb29wIGlzIHBvcHVwIGluIHJpZ2h0IHBvc2l0aW9uXHJcbiAgICAgICAgZnVuY3Rpb24gcmVjYWxjdWxhdGVQb3NpdGlvbigpIHtcclxuICAgICAgICAgIHNjb3BlLnBvc2l0aW9uID0gYXBwZW5kVG9Cb2R5ID8gJHBvc2l0aW9uLm9mZnNldChlbGVtZW50KSA6ICRwb3NpdGlvbi5wb3NpdGlvbihlbGVtZW50KTtcclxuICAgICAgICAgIHNjb3BlLnBvc2l0aW9uLnRvcCArPSBlbGVtZW50LnByb3AoJ29mZnNldEhlaWdodCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVzZXRNYXRjaGVzKCk7XHJcblxyXG4gICAgICAgIC8vd2UgbmVlZCB0byBwcm9wYWdhdGUgdXNlcidzIHF1ZXJ5IHNvIHdlIGNhbiBoaWdsaWdodCBtYXRjaGVzXHJcbiAgICAgICAgc2NvcGUucXVlcnkgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIC8vRGVjbGFyZSB0aGUgdGltZW91dCBwcm9taXNlIHZhciBvdXRzaWRlIHRoZSBmdW5jdGlvbiBzY29wZSBzbyB0aGF0IHN0YWNrZWQgY2FsbHMgY2FuIGJlIGNhbmNlbGxlZCBsYXRlclxyXG4gICAgICAgIHZhciB0aW1lb3V0UHJvbWlzZTtcclxuXHJcbiAgICAgICAgdmFyIHNjaGVkdWxlU2VhcmNoV2l0aFRpbWVvdXQgPSBmdW5jdGlvbihpbnB1dFZhbHVlKSB7XHJcbiAgICAgICAgICB0aW1lb3V0UHJvbWlzZSA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBnZXRNYXRjaGVzQXN5bmMoaW5wdXRWYWx1ZSk7XHJcbiAgICAgICAgICB9LCB3YWl0VGltZSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIGNhbmNlbFByZXZpb3VzVGltZW91dCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaWYgKHRpbWVvdXRQcm9taXNlKSB7XHJcbiAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lb3V0UHJvbWlzZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9wbHVnIGludG8gJHBhcnNlcnMgcGlwZWxpbmUgdG8gb3BlbiBhIHR5cGVhaGVhZCBvbiB2aWV3IGNoYW5nZXMgaW5pdGlhdGVkIGZyb20gRE9NXHJcbiAgICAgICAgLy8kcGFyc2VycyBraWNrLWluIG9uIGFsbCB0aGUgY2hhbmdlcyBjb21pbmcgZnJvbSB0aGUgdmlldyBhcyB3ZWxsIGFzIG1hbnVhbGx5IHRyaWdnZXJlZCBieSAkc2V0Vmlld1ZhbHVlXHJcbiAgICAgICAgbW9kZWxDdHJsLiRwYXJzZXJzLnVuc2hpZnQoZnVuY3Rpb24oaW5wdXRWYWx1ZSkge1xyXG4gICAgICAgICAgaGFzRm9jdXMgPSB0cnVlO1xyXG5cclxuICAgICAgICAgIGlmIChtaW5MZW5ndGggPT09IDAgfHwgaW5wdXRWYWx1ZSAmJiBpbnB1dFZhbHVlLmxlbmd0aCA+PSBtaW5MZW5ndGgpIHtcclxuICAgICAgICAgICAgaWYgKHdhaXRUaW1lID4gMCkge1xyXG4gICAgICAgICAgICAgIGNhbmNlbFByZXZpb3VzVGltZW91dCgpO1xyXG4gICAgICAgICAgICAgIHNjaGVkdWxlU2VhcmNoV2l0aFRpbWVvdXQoaW5wdXRWYWx1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgZ2V0TWF0Y2hlc0FzeW5jKGlucHV0VmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpc0xvYWRpbmdTZXR0ZXIob3JpZ2luYWxTY29wZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICBjYW5jZWxQcmV2aW91c1RpbWVvdXQoKTtcclxuICAgICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKGlzRWRpdGFibGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlucHV0VmFsdWU7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoIWlucHV0VmFsdWUpIHtcclxuICAgICAgICAgICAgICAvLyBSZXNldCBpbiBjYXNlIHVzZXIgaGFkIHR5cGVkIHNvbWV0aGluZyBwcmV2aW91c2x5LlxyXG4gICAgICAgICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgbW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZWRpdGFibGUnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihtb2RlbFZhbHVlKSB7XHJcbiAgICAgICAgICB2YXIgY2FuZGlkYXRlVmlld1ZhbHVlLCBlbXB0eVZpZXdWYWx1ZTtcclxuICAgICAgICAgIHZhciBsb2NhbHMgPSB7fTtcclxuXHJcbiAgICAgICAgICAvLyBUaGUgdmFsaWRpdHkgbWF5IGJlIHNldCB0byBmYWxzZSB2aWEgJHBhcnNlcnMgKHNlZSBhYm92ZSkgaWZcclxuICAgICAgICAgIC8vIHRoZSBtb2RlbCBpcyByZXN0cmljdGVkIHRvIHNlbGVjdGVkIHZhbHVlcy4gSWYgdGhlIG1vZGVsXHJcbiAgICAgICAgICAvLyBpcyBzZXQgbWFudWFsbHkgaXQgaXMgY29uc2lkZXJlZCB0byBiZSB2YWxpZC5cclxuICAgICAgICAgIGlmICghaXNFZGl0YWJsZSkge1xyXG4gICAgICAgICAgICBtb2RlbEN0cmwuJHNldFZhbGlkaXR5KCdlZGl0YWJsZScsIHRydWUpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChpbnB1dEZvcm1hdHRlcikge1xyXG4gICAgICAgICAgICBsb2NhbHMuJG1vZGVsID0gbW9kZWxWYWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIGlucHV0Rm9ybWF0dGVyKG9yaWdpbmFsU2NvcGUsIGxvY2Fscyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvL2l0IG1pZ2h0IGhhcHBlbiB0aGF0IHdlIGRvbid0IGhhdmUgZW5vdWdoIGluZm8gdG8gcHJvcGVybHkgcmVuZGVyIGlucHV0IHZhbHVlXHJcbiAgICAgICAgICAgIC8vd2UgbmVlZCB0byBjaGVjayBmb3IgdGhpcyBzaXR1YXRpb24gYW5kIHNpbXBseSByZXR1cm4gbW9kZWwgdmFsdWUgaWYgd2UgY2FuJ3QgYXBwbHkgY3VzdG9tIGZvcm1hdHRpbmdcclxuICAgICAgICAgICAgbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV0gPSBtb2RlbFZhbHVlO1xyXG4gICAgICAgICAgICBjYW5kaWRhdGVWaWV3VmFsdWUgPSBwYXJzZXJSZXN1bHQudmlld01hcHBlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpO1xyXG4gICAgICAgICAgICBsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgZW1wdHlWaWV3VmFsdWUgPSBwYXJzZXJSZXN1bHQudmlld01hcHBlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZVZpZXdWYWx1ZSE9PSBlbXB0eVZpZXdWYWx1ZSA/IGNhbmRpZGF0ZVZpZXdWYWx1ZSA6IG1vZGVsVmFsdWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKGFjdGl2ZUlkeCkge1xyXG4gICAgICAgICAgLy9jYWxsZWQgZnJvbSB3aXRoaW4gdGhlICRkaWdlc3QoKSBjeWNsZVxyXG4gICAgICAgICAgdmFyIGxvY2FscyA9IHt9O1xyXG4gICAgICAgICAgdmFyIG1vZGVsLCBpdGVtO1xyXG5cclxuICAgICAgICAgIHNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgIGxvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdID0gaXRlbSA9IHNjb3BlLm1hdGNoZXNbYWN0aXZlSWR4XS5tb2RlbDtcclxuICAgICAgICAgIG1vZGVsID0gcGFyc2VyUmVzdWx0Lm1vZGVsTWFwcGVyKG9yaWdpbmFsU2NvcGUsIGxvY2Fscyk7XHJcbiAgICAgICAgICAkc2V0TW9kZWxWYWx1ZShvcmlnaW5hbFNjb3BlLCBtb2RlbCk7XHJcbiAgICAgICAgICBtb2RlbEN0cmwuJHNldFZhbGlkaXR5KCdlZGl0YWJsZScsIHRydWUpO1xyXG4gICAgICAgICAgbW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgncGFyc2UnLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICBvblNlbGVjdENhbGxiYWNrKG9yaWdpbmFsU2NvcGUsIHtcclxuICAgICAgICAgICAgJGl0ZW06IGl0ZW0sXHJcbiAgICAgICAgICAgICRtb2RlbDogbW9kZWwsXHJcbiAgICAgICAgICAgICRsYWJlbDogcGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIob3JpZ2luYWxTY29wZSwgbG9jYWxzKVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XHJcblxyXG4gICAgICAgICAgLy9yZXR1cm4gZm9jdXMgdG8gdGhlIGlucHV0IGVsZW1lbnQgaWYgYSBtYXRjaCB3YXMgc2VsZWN0ZWQgdmlhIGEgbW91c2UgY2xpY2sgZXZlbnRcclxuICAgICAgICAgIC8vIHVzZSB0aW1lb3V0IHRvIGF2b2lkICRyb290U2NvcGU6aW5wcm9nIGVycm9yXHJcbiAgICAgICAgICBpZiAoc2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkRm9jdXNPblNlbGVjdCkgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkgeyBlbGVtZW50WzBdLmZvY3VzKCk7IH0sIDAsIGZhbHNlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL2JpbmQga2V5Ym9hcmQgZXZlbnRzOiBhcnJvd3MgdXAoMzgpIC8gZG93big0MCksIGVudGVyKDEzKSBhbmQgdGFiKDkpLCBlc2MoMjcpXHJcbiAgICAgICAgZWxlbWVudC5iaW5kKCdrZXlkb3duJywgZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgICAvL3R5cGVhaGVhZCBpcyBvcGVuIGFuZCBhbiBcImludGVyZXN0aW5nXCIga2V5IHdhcyBwcmVzc2VkXHJcbiAgICAgICAgICBpZiAoc2NvcGUubWF0Y2hlcy5sZW5ndGggPT09IDAgfHwgSE9UX0tFWVMuaW5kZXhPZihldnQud2hpY2gpID09PSAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gaWYgdGhlcmUncyBub3RoaW5nIHNlbGVjdGVkIChpLmUuIGZvY3VzRmlyc3QpIGFuZCBlbnRlciBvciB0YWIgaXMgaGl0LCBjbGVhciB0aGUgcmVzdWx0c1xyXG4gICAgICAgICAgaWYgKHNjb3BlLmFjdGl2ZUlkeCA9PT0gLTEgJiYgKGV2dC53aGljaCA9PT0gOSB8fCBldnQud2hpY2ggPT09IDEzKSkge1xyXG4gICAgICAgICAgICByZXNldE1hdGNoZXMoKTtcclxuICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgaWYgKGV2dC53aGljaCA9PT0gNDApIHtcclxuICAgICAgICAgICAgc2NvcGUuYWN0aXZlSWR4ID0gKHNjb3BlLmFjdGl2ZUlkeCArIDEpICUgc2NvcGUubWF0Y2hlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcclxuXHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGV2dC53aGljaCA9PT0gMzgpIHtcclxuICAgICAgICAgICAgc2NvcGUuYWN0aXZlSWR4ID0gKHNjb3BlLmFjdGl2ZUlkeCA+IDAgPyBzY29wZS5hY3RpdmVJZHggOiBzY29wZS5tYXRjaGVzLmxlbmd0aCkgLSAxO1xyXG4gICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XHJcblxyXG4gICAgICAgICAgfSBlbHNlIGlmIChldnQud2hpY2ggPT09IDEzIHx8IGV2dC53aGljaCA9PT0gOSkge1xyXG4gICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgIHNjb3BlLnNlbGVjdChzY29wZS5hY3RpdmVJZHgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGV2dC53aGljaCA9PT0gMjcpIHtcclxuICAgICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XHJcbiAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZWxlbWVudC5iaW5kKCdibHVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoaXNTZWxlY3RPbkJsdXIgJiYgc2NvcGUubWF0Y2hlcy5sZW5ndGggJiYgc2NvcGUuYWN0aXZlSWR4ICE9PSAtMSAmJiAhc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgc2NvcGUuc2VsZWN0KHNjb3BlLmFjdGl2ZUlkeCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaGFzRm9jdXMgPSBmYWxzZTtcclxuICAgICAgICAgIHNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEtlZXAgcmVmZXJlbmNlIHRvIGNsaWNrIGhhbmRsZXIgdG8gdW5iaW5kIGl0LlxyXG4gICAgICAgIHZhciBkaXNtaXNzQ2xpY2tIYW5kbGVyID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgICAvLyBJc3N1ZSAjMzk3M1xyXG4gICAgICAgICAgLy8gRmlyZWZveCB0cmVhdHMgcmlnaHQgY2xpY2sgYXMgYSBjbGljayBvbiBkb2N1bWVudFxyXG4gICAgICAgICAgaWYgKGVsZW1lbnRbMF0gIT09IGV2dC50YXJnZXQgJiYgZXZ0LndoaWNoICE9PSAzICYmIHNjb3BlLm1hdGNoZXMubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xyXG4gICAgICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xyXG4gICAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRkb2N1bWVudC5iaW5kKCdjbGljaycsIGRpc21pc3NDbGlja0hhbmRsZXIpO1xyXG5cclxuICAgICAgICBvcmlnaW5hbFNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICRkb2N1bWVudC51bmJpbmQoJ2NsaWNrJywgZGlzbWlzc0NsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgICBpZiAoYXBwZW5kVG9Cb2R5KSB7XHJcbiAgICAgICAgICAgICRwb3B1cC5yZW1vdmUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIFByZXZlbnQgalF1ZXJ5IGNhY2hlIG1lbW9yeSBsZWFrXHJcbiAgICAgICAgICBwb3BVcEVsLnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgJHBvcHVwID0gJGNvbXBpbGUocG9wVXBFbCkoc2NvcGUpO1xyXG5cclxuICAgICAgICBpZiAoYXBwZW5kVG9Cb2R5KSB7XHJcbiAgICAgICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmFwcGVuZCgkcG9wdXApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBlbGVtZW50LmFmdGVyKCRwb3B1cCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICB9XSlcclxuXHJcbiAgLmRpcmVjdGl2ZSgndHlwZWFoZWFkUG9wdXAnLCBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgICBzY29wZToge1xyXG4gICAgICAgIG1hdGNoZXM6ICc9JyxcclxuICAgICAgICBxdWVyeTogJz0nLFxyXG4gICAgICAgIGFjdGl2ZTogJz0nLFxyXG4gICAgICAgIHBvc2l0aW9uOiAnJicsXHJcbiAgICAgICAgbW92ZUluUHJvZ3Jlc3M6ICc9JyxcclxuICAgICAgICBzZWxlY3Q6ICcmJ1xyXG4gICAgICB9LFxyXG4gICAgICByZXBsYWNlOiB0cnVlLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICByZXR1cm4gYXR0cnMucG9wdXBUZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sJztcclxuICAgICAgfSxcclxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgc2NvcGUudGVtcGxhdGVVcmwgPSBhdHRycy50ZW1wbGF0ZVVybDtcclxuXHJcbiAgICAgICAgc2NvcGUuaXNPcGVuID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICByZXR1cm4gc2NvcGUubWF0Y2hlcy5sZW5ndGggPiAwO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNjb3BlLmlzQWN0aXZlID0gZnVuY3Rpb24obWF0Y2hJZHgpIHtcclxuICAgICAgICAgIHJldHVybiBzY29wZS5hY3RpdmUgPT0gbWF0Y2hJZHg7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2NvcGUuc2VsZWN0QWN0aXZlID0gZnVuY3Rpb24obWF0Y2hJZHgpIHtcclxuICAgICAgICAgIHNjb3BlLmFjdGl2ZSA9IG1hdGNoSWR4O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNjb3BlLnNlbGVjdE1hdGNoID0gZnVuY3Rpb24oYWN0aXZlSWR4KSB7XHJcbiAgICAgICAgICBzY29wZS5zZWxlY3Qoe2FjdGl2ZUlkeDphY3RpdmVJZHh9KTtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0pXHJcblxyXG4gIC5kaXJlY3RpdmUoJ3R5cGVhaGVhZE1hdGNoJywgWyckdGVtcGxhdGVSZXF1ZXN0JywgJyRjb21waWxlJywgJyRwYXJzZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZVJlcXVlc3QsICRjb21waWxlLCAkcGFyc2UpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgICBzY29wZToge1xyXG4gICAgICAgIGluZGV4OiAnPScsXHJcbiAgICAgICAgbWF0Y2g6ICc9JyxcclxuICAgICAgICBxdWVyeTogJz0nXHJcbiAgICAgIH0sXHJcbiAgICAgIGxpbms6ZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgdmFyIHRwbFVybCA9ICRwYXJzZShhdHRycy50ZW1wbGF0ZVVybCkoc2NvcGUuJHBhcmVudCkgfHwgJ3RlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbCc7XHJcbiAgICAgICAgJHRlbXBsYXRlUmVxdWVzdCh0cGxVcmwpLnRoZW4oZnVuY3Rpb24odHBsQ29udGVudCkge1xyXG4gICAgICAgICAgJGNvbXBpbGUodHBsQ29udGVudC50cmltKCkpKHNjb3BlLCBmdW5jdGlvbihjbG9uZWRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQucmVwbGFjZVdpdGgoY2xvbmVkRWxlbWVudCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XSlcclxuXHJcbiAgLmZpbHRlcigndHlwZWFoZWFkSGlnaGxpZ2h0JywgWyckc2NlJywgJyRpbmplY3RvcicsICckbG9nJywgZnVuY3Rpb24oJHNjZSwgJGluamVjdG9yLCAkbG9nKSB7XHJcbiAgICB2YXIgaXNTYW5pdGl6ZVByZXNlbnQ7XHJcbiAgICBpc1Nhbml0aXplUHJlc2VudCA9ICRpbmplY3Rvci5oYXMoJyRzYW5pdGl6ZScpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGVzY2FwZVJlZ2V4cChxdWVyeVRvRXNjYXBlKSB7XHJcbiAgICAgIC8vIFJlZ2V4OiBjYXB0dXJlIHRoZSB3aG9sZSBxdWVyeSBzdHJpbmcgYW5kIHJlcGxhY2UgaXQgd2l0aCB0aGUgc3RyaW5nIHRoYXQgd2lsbCBiZSB1c2VkIHRvIG1hdGNoXHJcbiAgICAgIC8vIHRoZSByZXN1bHRzLCBmb3IgZXhhbXBsZSBpZiB0aGUgY2FwdHVyZSBpcyBcImFcIiB0aGUgcmVzdWx0IHdpbGwgYmUgXFxhXHJcbiAgICAgIHJldHVybiBxdWVyeVRvRXNjYXBlLnJlcGxhY2UoLyhbLj8qK14kW1xcXVxcXFwoKXt9fC1dKS9nLCAnXFxcXCQxJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29udGFpbnNIdG1sKG1hdGNoSXRlbSkge1xyXG4gICAgICByZXR1cm4gLzwuKj4vZy50ZXN0KG1hdGNoSXRlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKG1hdGNoSXRlbSwgcXVlcnkpIHtcclxuICAgICAgaWYgKCFpc1Nhbml0aXplUHJlc2VudCAmJiBjb250YWluc0h0bWwobWF0Y2hJdGVtKSkge1xyXG4gICAgICAgICRsb2cud2FybignVW5zYWZlIHVzZSBvZiB0eXBlYWhlYWQgcGxlYXNlIHVzZSBuZ1Nhbml0aXplJyk7IC8vIFdhcm4gdGhlIHVzZXIgYWJvdXQgdGhlIGRhbmdlclxyXG4gICAgICB9XHJcbiAgICAgIG1hdGNoSXRlbSA9IHF1ZXJ5PyAoJycgKyBtYXRjaEl0ZW0pLnJlcGxhY2UobmV3IFJlZ0V4cChlc2NhcGVSZWdleHAocXVlcnkpLCAnZ2knKSwgJzxzdHJvbmc+JCY8L3N0cm9uZz4nKSA6IG1hdGNoSXRlbTsgLy8gUmVwbGFjZXMgdGhlIGNhcHR1cmUgc3RyaW5nIHdpdGggYSB0aGUgc2FtZSBzdHJpbmcgaW5zaWRlIG9mIGEgXCJzdHJvbmdcIiB0YWdcclxuICAgICAgaWYgKCFpc1Nhbml0aXplUHJlc2VudCkge1xyXG4gICAgICAgIG1hdGNoSXRlbSA9ICRzY2UudHJ1c3RBc0h0bWwobWF0Y2hJdGVtKTsgLy8gSWYgJHNhbml0aXplIGlzIG5vdCBwcmVzZW50IHdlIHBhY2sgdGhlIHN0cmluZyBpbiBhICRzY2Ugb2JqZWN0IGZvciB0aGUgbmctYmluZC1odG1sIGRpcmVjdGl2ZVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBtYXRjaEl0ZW07XHJcbiAgICB9O1xyXG4gIH1dKTtcclxuXHJcbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi1ncm91cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcclxuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWxcIixcclxuICAgIFwiPGRpdiBjbGFzcz1cXFwicGFuZWwge3twYW5lbENsYXNzIHx8ICdwYW5lbC1kZWZhdWx0J319XFxcIj5cXG5cIiArXHJcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicGFuZWwtaGVhZGluZ1xcXCIgbmcta2V5cHJlc3M9XFxcInRvZ2dsZU9wZW4oJGV2ZW50KVxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgPGg0IGNsYXNzPVxcXCJwYW5lbC10aXRsZVxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgICA8YSBocmVmIHRhYmluZGV4PVxcXCIwXFxcIiBjbGFzcz1cXFwiYWNjb3JkaW9uLXRvZ2dsZVxcXCIgbmctY2xpY2s9XFxcInRvZ2dsZU9wZW4oKVxcXCIgYWNjb3JkaW9uLXRyYW5zY2x1ZGU9XFxcImhlYWRpbmdcXFwiPjxzcGFuIG5nLWNsYXNzPVxcXCJ7J3RleHQtbXV0ZWQnOiBpc0Rpc2FibGVkfVxcXCI+e3toZWFkaW5nfX08L3NwYW4+PC9hPlxcblwiICtcclxuICAgIFwiICAgIDwvaDQ+XFxuXCIgK1xyXG4gICAgXCIgIDwvZGl2PlxcblwiICtcclxuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1jb2xsYXBzZSBjb2xsYXBzZVxcXCIgY29sbGFwc2U9XFxcIiFpc09wZW5cXFwiPlxcblwiICtcclxuICAgIFwiXHQgIDxkaXYgY2xhc3M9XFxcInBhbmVsLWJvZHlcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XFxuXCIgK1xyXG4gICAgXCIgIDwvZGl2PlxcblwiICtcclxuICAgIFwiPC9kaXY+XFxuXCIgK1xyXG4gICAgXCJcIik7XHJcbn1dKTtcclxuXHJcbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcclxuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLmh0bWxcIixcclxuICAgIFwiPGRpdiBjbGFzcz1cXFwicGFuZWwtZ3JvdXBcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XCIpO1xyXG59XSk7XHJcblxyXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xyXG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWxcIixcclxuICAgIFwiPGRpdiBjbGFzcz1cXFwiYWxlcnRcXFwiIG5nLWNsYXNzPVxcXCJbJ2FsZXJ0LScgKyAodHlwZSB8fCAnd2FybmluZycpLCBjbG9zZWFibGUgPyAnYWxlcnQtZGlzbWlzc2libGUnIDogbnVsbF1cXFwiIHJvbGU9XFxcImFsZXJ0XFxcIj5cXG5cIiArXHJcbiAgICBcIiAgICA8YnV0dG9uIG5nLXNob3c9XFxcImNsb3NlYWJsZVxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiY2xvc2VcXFwiIG5nLWNsaWNrPVxcXCJjbG9zZSgkZXZlbnQpXFxcIj5cXG5cIiArXHJcbiAgICBcIiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPiZ0aW1lczs8L3NwYW4+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzci1vbmx5XFxcIj5DbG9zZTwvc3Bhbj5cXG5cIiArXHJcbiAgICBcIiAgICA8L2J1dHRvbj5cXG5cIiArXHJcbiAgICBcIiAgICA8ZGl2IG5nLXRyYW5zY2x1ZGU+PC9kaXY+XFxuXCIgK1xyXG4gICAgXCI8L2Rpdj5cXG5cIiArXHJcbiAgICBcIlwiKTtcclxufV0pO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcclxuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sXCIsXHJcbiAgICBcIjxkaXYgbmctbW91c2VlbnRlcj1cXFwicGF1c2UoKVxcXCIgbmctbW91c2VsZWF2ZT1cXFwicGxheSgpXFxcIiBjbGFzcz1cXFwiY2Fyb3VzZWxcXFwiIG5nLXN3aXBlLXJpZ2h0PVxcXCJwcmV2KClcXFwiIG5nLXN3aXBlLWxlZnQ9XFxcIm5leHQoKVxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgPG9sIGNsYXNzPVxcXCJjYXJvdXNlbC1pbmRpY2F0b3JzXFxcIiBuZy1zaG93PVxcXCJzbGlkZXMubGVuZ3RoID4gMVxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgIDxsaSBuZy1yZXBlYXQ9XFxcInNsaWRlIGluIHNsaWRlcyB8IG9yZGVyQnk6aW5kZXhPZlNsaWRlIHRyYWNrIGJ5ICRpbmRleFxcXCIgbmctY2xhc3M9XFxcInthY3RpdmU6IGlzQWN0aXZlKHNsaWRlKX1cXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3Qoc2xpZGUpXFxcIj48L2xpPlxcblwiICtcclxuICAgIFwiICAgIDwvb2w+XFxuXCIgK1xyXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiY2Fyb3VzZWwtaW5uZXJcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XFxuXCIgK1xyXG4gICAgXCIgICAgPGEgY2xhc3M9XFxcImxlZnQgY2Fyb3VzZWwtY29udHJvbFxcXCIgbmctY2xpY2s9XFxcInByZXYoKVxcXCIgbmctc2hvdz1cXFwic2xpZGVzLmxlbmd0aCA+IDFcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdFxcXCI+PC9zcGFuPjwvYT5cXG5cIiArXHJcbiAgICBcIiAgICA8YSBjbGFzcz1cXFwicmlnaHQgY2Fyb3VzZWwtY29udHJvbFxcXCIgbmctY2xpY2s9XFxcIm5leHQoKVxcXCIgbmctc2hvdz1cXFwic2xpZGVzLmxlbmd0aCA+IDFcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvc3Bhbj48L2E+XFxuXCIgK1xyXG4gICAgXCI8L2Rpdj5cXG5cIiArXHJcbiAgICBcIlwiKTtcclxufV0pO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcclxuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sXCIsXHJcbiAgICBcIjxkaXYgbmctY2xhc3M9XFxcIntcXG5cIiArXHJcbiAgICBcIiAgICAnYWN0aXZlJzogYWN0aXZlXFxuXCIgK1xyXG4gICAgXCIgIH1cXFwiIGNsYXNzPVxcXCJpdGVtIHRleHQtY2VudGVyXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcclxuICAgIFwiXCIpO1xyXG59XSk7XHJcblxyXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcclxuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbFwiLFxyXG4gICAgXCI8ZGl2IG5nLXN3aXRjaD1cXFwiZGF0ZXBpY2tlck1vZGVcXFwiIHJvbGU9XFxcImFwcGxpY2F0aW9uXFxcIiBuZy1rZXlkb3duPVxcXCJrZXlkb3duKCRldmVudClcXFwiPlxcblwiICtcclxuICAgIFwiICA8ZGF5cGlja2VyIG5nLXN3aXRjaC13aGVuPVxcXCJkYXlcXFwiIHRhYmluZGV4PVxcXCIwXFxcIj48L2RheXBpY2tlcj5cXG5cIiArXHJcbiAgICBcIiAgPG1vbnRocGlja2VyIG5nLXN3aXRjaC13aGVuPVxcXCJtb250aFxcXCIgdGFiaW5kZXg9XFxcIjBcXFwiPjwvbW9udGhwaWNrZXI+XFxuXCIgK1xyXG4gICAgXCIgIDx5ZWFycGlja2VyIG5nLXN3aXRjaC13aGVuPVxcXCJ5ZWFyXFxcIiB0YWJpbmRleD1cXFwiMFxcXCI+PC95ZWFycGlja2VyPlxcblwiICtcclxuICAgIFwiPC9kaXY+XCIpO1xyXG59XSk7XHJcblxyXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xyXG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWxcIixcclxuICAgIFwiPHRhYmxlIHJvbGU9XFxcImdyaWRcXFwiIGFyaWEtbGFiZWxsZWRieT1cXFwie3s6OnVuaXF1ZUlkfX0tdGl0bGVcXFwiIGFyaWEtYWN0aXZlZGVzY2VuZGFudD1cXFwie3thY3RpdmVEYXRlSWR9fVxcXCI+XFxuXCIgK1xyXG4gICAgXCIgIDx0aGVhZD5cXG5cIiArXHJcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xyXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFxcXCIgbmctY2xpY2s9XFxcIm1vdmUoLTEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdFxcXCI+PC9pPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xyXG4gICAgXCIgICAgICA8dGggY29sc3Bhbj1cXFwie3s6OjUgKyBzaG93V2Vla3N9fVxcXCI+PGJ1dHRvbiBpZD1cXFwie3s6OnVuaXF1ZUlkfX0tdGl0bGVcXFwiIHJvbGU9XFxcImhlYWRpbmdcXFwiIGFyaWEtbGl2ZT1cXFwiYXNzZXJ0aXZlXFxcIiBhcmlhLWF0b21pYz1cXFwidHJ1ZVxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInRvZ2dsZU1vZGUoKVxcXCIgbmctZGlzYWJsZWQ9XFxcImRhdGVwaWNrZXJNb2RlID09PSBtYXhNb2RlXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiIHN0eWxlPVxcXCJ3aWR0aDoxMDAlO1xcXCI+PHN0cm9uZz57e3RpdGxlfX08L3N0cm9uZz48L2J1dHRvbj48L3RoPlxcblwiICtcclxuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0XFxcIiBuZy1jbGljaz1cXFwibW92ZSgxKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXJpZ2h0XFxcIj48L2k+PC9idXR0b24+PC90aD5cXG5cIiArXHJcbiAgICBcIiAgICA8L3RyPlxcblwiICtcclxuICAgIFwiICAgIDx0cj5cXG5cIiArXHJcbiAgICBcIiAgICAgIDx0aCBuZy1pZj1cXFwic2hvd1dlZWtzXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiPjwvdGg+XFxuXCIgK1xyXG4gICAgXCIgICAgICA8dGggbmctcmVwZWF0PVxcXCJsYWJlbCBpbiA6OmxhYmVscyB0cmFjayBieSAkaW5kZXhcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCI+PHNtYWxsIGFyaWEtbGFiZWw9XFxcInt7OjpsYWJlbC5mdWxsfX1cXFwiPnt7OjpsYWJlbC5hYmJyfX08L3NtYWxsPjwvdGg+XFxuXCIgK1xyXG4gICAgXCIgICAgPC90cj5cXG5cIiArXHJcbiAgICBcIiAgPC90aGVhZD5cXG5cIiArXHJcbiAgICBcIiAgPHRib2R5PlxcblwiICtcclxuICAgIFwiICAgIDx0ciBuZy1yZXBlYXQ9XFxcInJvdyBpbiByb3dzIHRyYWNrIGJ5ICRpbmRleFxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgICA8dGQgbmctaWY9XFxcInNob3dXZWVrc1xcXCIgY2xhc3M9XFxcInRleHQtY2VudGVyIGg2XFxcIj48ZW0+e3sgd2Vla051bWJlcnNbJGluZGV4XSB9fTwvZW0+PC90ZD5cXG5cIiArXHJcbiAgICBcIiAgICAgIDx0ZCBuZy1yZXBlYXQ9XFxcImR0IGluIHJvdyB0cmFjayBieSBkdC5kYXRlXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiIHJvbGU9XFxcImdyaWRjZWxsXFxcIiBpZD1cXFwie3s6OmR0LnVpZH19XFxcIiBuZy1jbGFzcz1cXFwiOjpkdC5jdXN0b21DbGFzc1xcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOjEwMCU7XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgbmctY2xhc3M9XFxcInsnYnRuLWluZm8nOiBkdC5zZWxlY3RlZCwgYWN0aXZlOiBpc0FjdGl2ZShkdCl9XFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KGR0LmRhdGUpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZHQuZGlzYWJsZWRcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PHNwYW4gbmctY2xhc3M9XFxcIjo6eyd0ZXh0LW11dGVkJzogZHQuc2Vjb25kYXJ5LCAndGV4dC1pbmZvJzogZHQuY3VycmVudH1cXFwiPnt7OjpkdC5sYWJlbH19PC9zcGFuPjwvYnV0dG9uPlxcblwiICtcclxuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXHJcbiAgICBcIiAgICA8L3RyPlxcblwiICtcclxuICAgIFwiICA8L3Rib2R5PlxcblwiICtcclxuICAgIFwiPC90YWJsZT5cXG5cIiArXHJcbiAgICBcIlwiKTtcclxufV0pO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xyXG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2RhdGVwaWNrZXIvbW9udGguaHRtbFwiLFxyXG4gICAgXCI8dGFibGUgcm9sZT1cXFwiZ3JpZFxcXCIgYXJpYS1sYWJlbGxlZGJ5PVxcXCJ7ezo6dW5pcXVlSWR9fS10aXRsZVxcXCIgYXJpYS1hY3RpdmVkZXNjZW5kYW50PVxcXCJ7e2FjdGl2ZURhdGVJZH19XFxcIj5cXG5cIiArXHJcbiAgICBcIiAgPHRoZWFkPlxcblwiICtcclxuICAgIFwiICAgIDx0cj5cXG5cIiArXHJcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XFxcIiBuZy1jbGljaz1cXFwibW92ZSgtMSlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PGkgY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0XFxcIj48L2k+PC9idXR0b24+PC90aD5cXG5cIiArXHJcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIGlkPVxcXCJ7ezo6dW5pcXVlSWR9fS10aXRsZVxcXCIgcm9sZT1cXFwiaGVhZGluZ1xcXCIgYXJpYS1saXZlPVxcXCJhc3NlcnRpdmVcXFwiIGFyaWEtYXRvbWljPVxcXCJ0cnVlXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlTW9kZSgpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZGF0ZXBpY2tlck1vZGUgPT09IG1heE1vZGVcXFwiIHRhYmluZGV4PVxcXCItMVxcXCIgc3R5bGU9XFxcIndpZHRoOjEwMCU7XFxcIj48c3Ryb25nPnt7dGl0bGV9fTwvc3Ryb25nPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xyXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKDEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcclxuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xyXG4gICAgXCIgIDwvdGhlYWQ+XFxuXCIgK1xyXG4gICAgXCIgIDx0Ym9keT5cXG5cIiArXHJcbiAgICBcIiAgICA8dHIgbmctcmVwZWF0PVxcXCJyb3cgaW4gcm93cyB0cmFjayBieSAkaW5kZXhcXFwiPlxcblwiICtcclxuICAgIFwiICAgICAgPHRkIG5nLXJlcGVhdD1cXFwiZHQgaW4gcm93IHRyYWNrIGJ5IGR0LmRhdGVcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCIgcm9sZT1cXFwiZ3JpZGNlbGxcXFwiIGlkPVxcXCJ7ezo6ZHQudWlkfX1cXFwiIG5nLWNsYXNzPVxcXCI6OmR0LmN1c3RvbUNsYXNzXFxcIj5cXG5cIiArXHJcbiAgICBcIiAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIHN0eWxlPVxcXCJtaW4td2lkdGg6MTAwJTtcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIG5nLWNsYXNzPVxcXCJ7J2J0bi1pbmZvJzogZHQuc2VsZWN0ZWQsIGFjdGl2ZTogaXNBY3RpdmUoZHQpfVxcXCIgbmctY2xpY2s9XFxcInNlbGVjdChkdC5kYXRlKVxcXCIgbmctZGlzYWJsZWQ9XFxcImR0LmRpc2FibGVkXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxzcGFuIG5nLWNsYXNzPVxcXCI6OnsndGV4dC1pbmZvJzogZHQuY3VycmVudH1cXFwiPnt7OjpkdC5sYWJlbH19PC9zcGFuPjwvYnV0dG9uPlxcblwiICtcclxuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXHJcbiAgICBcIiAgICA8L3RyPlxcblwiICtcclxuICAgIFwiICA8L3Rib2R5PlxcblwiICtcclxuICAgIFwiPC90YWJsZT5cXG5cIiArXHJcbiAgICBcIlwiKTtcclxufV0pO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xyXG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbFwiLFxyXG4gICAgXCI8dWwgY2xhc3M9XFxcImRyb3Bkb3duLW1lbnVcXFwiIG5nLWlmPVxcXCJpc09wZW5cXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBibG9ja1xcXCIgbmctc3R5bGU9XFxcInt0b3A6IHBvc2l0aW9uLnRvcCsncHgnLCBsZWZ0OiBwb3NpdGlvbi5sZWZ0KydweCd9XFxcIiBuZy1rZXlkb3duPVxcXCJrZXlkb3duKCRldmVudClcXFwiIG5nLWNsaWNrPVxcXCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcXFwiPlxcblwiICtcclxuICAgIFwiXHQ8bGkgbmctdHJhbnNjbHVkZT48L2xpPlxcblwiICtcclxuICAgIFwiXHQ8bGkgbmctaWY9XFxcInNob3dCdXR0b25CYXJcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOjEwcHggOXB4IDJweFxcXCI+XFxuXCIgK1xyXG4gICAgXCJcdFx0PHNwYW4gY2xhc3M9XFxcImJ0bi1ncm91cCBwdWxsLWxlZnRcXFwiPlxcblwiICtcclxuICAgIFwiXHRcdFx0PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXNtIGJ0bi1pbmZvXFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KCd0b2RheScpXFxcIiBuZy1kaXNhYmxlZD1cXFwiaXNEaXNhYmxlZCgndG9kYXknKVxcXCI+e3sgZ2V0VGV4dCgnY3VycmVudCcpIH19PC9idXR0b24+XFxuXCIgK1xyXG4gICAgXCJcdFx0XHQ8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc20gYnRuLWRhbmdlclxcXCIgbmctY2xpY2s9XFxcInNlbGVjdChudWxsKVxcXCI+e3sgZ2V0VGV4dCgnY2xlYXInKSB9fTwvYnV0dG9uPlxcblwiICtcclxuICAgIFwiXHRcdDwvc3Bhbj5cXG5cIiArXHJcbiAgICBcIlx0XHQ8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc20gYnRuLXN1Y2Nlc3MgcHVsbC1yaWdodFxcXCIgbmctY2xpY2s9XFxcImNsb3NlKClcXFwiPnt7IGdldFRleHQoJ2Nsb3NlJykgfX08L2J1dHRvbj5cXG5cIiArXHJcbiAgICBcIlx0PC9saT5cXG5cIiArXHJcbiAgICBcIjwvdWw+XFxuXCIgK1xyXG4gICAgXCJcIik7XHJcbn1dKTtcclxuXHJcbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvZGF0ZXBpY2tlci95ZWFyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xyXG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sXCIsXHJcbiAgICBcIjx0YWJsZSByb2xlPVxcXCJncmlkXFxcIiBhcmlhLWxhYmVsbGVkYnk9XFxcInt7Ojp1bmlxdWVJZH19LXRpdGxlXFxcIiBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9XFxcInt7YWN0aXZlRGF0ZUlkfX1cXFwiPlxcblwiICtcclxuICAgIFwiICA8dGhlYWQ+XFxuXCIgK1xyXG4gICAgXCIgICAgPHRyPlxcblwiICtcclxuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKC0xKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcclxuICAgIFwiICAgICAgPHRoIGNvbHNwYW49XFxcIjNcXFwiPjxidXR0b24gaWQ9XFxcInt7Ojp1bmlxdWVJZH19LXRpdGxlXFxcIiByb2xlPVxcXCJoZWFkaW5nXFxcIiBhcmlhLWxpdmU9XFxcImFzc2VydGl2ZVxcXCIgYXJpYS1hdG9taWM9XFxcInRydWVcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ0b2dnbGVNb2RlKClcXFwiIG5nLWRpc2FibGVkPVxcXCJkYXRlcGlja2VyTW9kZSA9PT0gbWF4TW9kZVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiBzdHlsZT1cXFwid2lkdGg6MTAwJTtcXFwiPjxzdHJvbmc+e3t0aXRsZX19PC9zdHJvbmc+PC9idXR0b24+PC90aD5cXG5cIiArXHJcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodFxcXCIgbmctY2xpY2s9XFxcIm1vdmUoMSlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PGkgY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodFxcXCI+PC9pPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xyXG4gICAgXCIgICAgPC90cj5cXG5cIiArXHJcbiAgICBcIiAgPC90aGVhZD5cXG5cIiArXHJcbiAgICBcIiAgPHRib2R5PlxcblwiICtcclxuICAgIFwiICAgIDx0ciBuZy1yZXBlYXQ9XFxcInJvdyBpbiByb3dzIHRyYWNrIGJ5ICRpbmRleFxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgICA8dGQgbmctcmVwZWF0PVxcXCJkdCBpbiByb3cgdHJhY2sgYnkgZHQuZGF0ZVxcXCIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIiByb2xlPVxcXCJncmlkY2VsbFxcXCIgaWQ9XFxcInt7OjpkdC51aWR9fVxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOjEwMCU7XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIiBuZy1jbGFzcz1cXFwieydidG4taW5mbyc6IGR0LnNlbGVjdGVkLCBhY3RpdmU6IGlzQWN0aXZlKGR0KX1cXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3QoZHQuZGF0ZSlcXFwiIG5nLWRpc2FibGVkPVxcXCJkdC5kaXNhYmxlZFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48c3BhbiBuZy1jbGFzcz1cXFwiOjp7J3RleHQtaW5mbyc6IGR0LmN1cnJlbnR9XFxcIj57ezo6ZHQubGFiZWx9fTwvc3Bhbj48L2J1dHRvbj5cXG5cIiArXHJcbiAgICBcIiAgICAgIDwvdGQ+XFxuXCIgK1xyXG4gICAgXCIgICAgPC90cj5cXG5cIiArXHJcbiAgICBcIiAgPC90Ym9keT5cXG5cIiArXHJcbiAgICBcIjwvdGFibGU+XFxuXCIgK1xyXG4gICAgXCJcIik7XHJcbn1dKTtcclxuXHJcbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XHJcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbFwiLFxyXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1iYWNrZHJvcFxcXCJcXG5cIiArXHJcbiAgICBcIiAgICAgbW9kYWwtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcclxuICAgIFwiICAgICBtb2RhbC1pbi1jbGFzcz1cXFwiaW5cXFwiXFxuXCIgK1xyXG4gICAgXCIgICAgIG5nLXN0eWxlPVxcXCJ7J3otaW5kZXgnOiAxMDQwICsgKGluZGV4ICYmIDEgfHwgMCkgKyBpbmRleCoxMH1cXFwiXFxuXCIgK1xyXG4gICAgXCI+PC9kaXY+XFxuXCIgK1xyXG4gICAgXCJcIik7XHJcbn1dKTtcclxuXHJcbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xyXG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sXCIsXHJcbiAgICBcIjxkaXYgbW9kYWwtcmVuZGVyPVxcXCJ7eyRpc1JlbmRlcmVkfX1cXFwiIHRhYmluZGV4PVxcXCItMVxcXCIgcm9sZT1cXFwiZGlhbG9nXFxcIiBjbGFzcz1cXFwibW9kYWxcXFwiXFxuXCIgK1xyXG4gICAgXCIgICAgbW9kYWwtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcclxuICAgIFwiICAgIG1vZGFsLWluLWNsYXNzPVxcXCJpblxcXCJcXG5cIiArXHJcbiAgICBcIlx0bmctc3R5bGU9XFxcInsnei1pbmRleCc6IDEwNTAgKyBpbmRleCoxMCwgZGlzcGxheTogJ2Jsb2NrJ31cXFwiIG5nLWNsaWNrPVxcXCJjbG9zZSgkZXZlbnQpXFxcIj5cXG5cIiArXHJcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1kaWFsb2dcXFwiIG5nLWNsYXNzPVxcXCJzaXplID8gJ21vZGFsLScgKyBzaXplIDogJydcXFwiPjxkaXYgY2xhc3M9XFxcIm1vZGFsLWNvbnRlbnRcXFwiIG1vZGFsLXRyYW5zY2x1ZGU+PC9kaXY+PC9kaXY+XFxuXCIgK1xyXG4gICAgXCI8L2Rpdj5cXG5cIiArXHJcbiAgICBcIlwiKTtcclxufV0pO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xyXG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnZXIuaHRtbFwiLFxyXG4gICAgXCI8dWwgY2xhc3M9XFxcInBhZ2VyXFxcIj5cXG5cIiArXHJcbiAgICBcIiAgPGxpIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vUHJldmlvdXMoKXx8bmdEaXNhYmxlZCwgcHJldmlvdXM6IGFsaWdufVxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlIC0gMSwgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ3ByZXZpb3VzJyl9fTwvYT48L2xpPlxcblwiICtcclxuICAgIFwiICA8bGkgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9OZXh0KCl8fG5nRGlzYWJsZWQsIG5leHQ6IGFsaWdufVxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlICsgMSwgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ25leHQnKX19PC9hPjwvbGk+XFxuXCIgK1xyXG4gICAgXCI8L3VsPlxcblwiICtcclxuICAgIFwiXCIpO1xyXG59XSk7XHJcblxyXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcclxuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbFwiLFxyXG4gICAgXCI8dWwgY2xhc3M9XFxcInBhZ2luYXRpb25cXFwiPlxcblwiICtcclxuICAgIFwiICA8bGkgbmctaWY9XFxcIjo6Ym91bmRhcnlMaW5rc1xcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9QcmV2aW91cygpfHxuZ0Rpc2FibGVkfVxcXCIgY2xhc3M9XFxcInBhZ2luYXRpb24tZmlyc3RcXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UoMSwgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ2ZpcnN0Jyl9fTwvYT48L2xpPlxcblwiICtcclxuICAgIFwiICA8bGkgbmctaWY9XFxcIjo6ZGlyZWN0aW9uTGlua3NcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vUHJldmlvdXMoKXx8bmdEaXNhYmxlZH1cXFwiIGNsYXNzPVxcXCJwYWdpbmF0aW9uLXByZXZcXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UocGFnZSAtIDEsICRldmVudClcXFwiPnt7OjpnZXRUZXh0KCdwcmV2aW91cycpfX08L2E+PC9saT5cXG5cIiArXHJcbiAgICBcIiAgPGxpIG5nLXJlcGVhdD1cXFwicGFnZSBpbiBwYWdlcyB0cmFjayBieSAkaW5kZXhcXFwiIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiBwYWdlLmFjdGl2ZSxkaXNhYmxlZDogbmdEaXNhYmxlZCYmIXBhZ2UuYWN0aXZlfVxcXCIgY2xhc3M9XFxcInBhZ2luYXRpb24tcGFnZVxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlLm51bWJlciwgJGV2ZW50KVxcXCI+e3twYWdlLnRleHR9fTwvYT48L2xpPlxcblwiICtcclxuICAgIFwiICA8bGkgbmctaWY9XFxcIjo6ZGlyZWN0aW9uTGlua3NcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vTmV4dCgpfHxuZ0Rpc2FibGVkfVxcXCIgY2xhc3M9XFxcInBhZ2luYXRpb24tbmV4dFxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlICsgMSwgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ25leHQnKX19PC9hPjwvbGk+XFxuXCIgK1xyXG4gICAgXCIgIDxsaSBuZy1pZj1cXFwiOjpib3VuZGFyeUxpbmtzXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub05leHQoKXx8bmdEaXNhYmxlZH1cXFwiIGNsYXNzPVxcXCJwYWdpbmF0aW9uLWxhc3RcXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UodG90YWxQYWdlcywgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ2xhc3QnKX19PC9hPjwvbGk+XFxuXCIgK1xyXG4gICAgXCI8L3VsPlxcblwiICtcclxuICAgIFwiXCIpO1xyXG59XSk7XHJcblxyXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXBvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xyXG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXBvcHVwLmh0bWxcIixcclxuICAgIFwiPGRpdiBjbGFzcz1cXFwidG9vbHRpcFxcXCJcXG5cIiArXHJcbiAgICBcIiAgdG9vbHRpcC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xyXG4gICAgXCIgIHRvb2x0aXAtY2xhc3Nlc1xcblwiICtcclxuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xyXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcclxuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWlubmVyXFxcIiBuZy1iaW5kLWh0bWw9XFxcImNvbnRlbnRFeHAoKVxcXCI+PC9kaXY+XFxuXCIgK1xyXG4gICAgXCI8L2Rpdj5cXG5cIiArXHJcbiAgICBcIlwiKTtcclxufV0pO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC11bnNhZmUtcG9wdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XHJcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWxcIixcclxuICAgIFwiPGRpdiBjbGFzcz1cXFwidG9vbHRpcFxcXCJcXG5cIiArXHJcbiAgICBcIiAgdG9vbHRpcC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xyXG4gICAgXCIgIHRvb2x0aXAtY2xhc3Nlc1xcblwiICtcclxuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xyXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcclxuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWlubmVyXFxcIiBiaW5kLWh0bWwtdW5zYWZlPVxcXCJjb250ZW50XFxcIj48L2Rpdj5cXG5cIiArXHJcbiAgICBcIjwvZGl2PlxcblwiICtcclxuICAgIFwiXCIpO1xyXG59XSk7XHJcblxyXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcclxuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbFwiLFxyXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwXFxcIlxcblwiICtcclxuICAgIFwiICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXHJcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xyXG4gICAgXCIgIG5nLWNsYXNzPVxcXCJ7IGluOiBpc09wZW4oKSB9XFxcIj5cXG5cIiArXHJcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1hcnJvd1xcXCI+PC9kaXY+XFxuXCIgK1xyXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtaW5uZXJcXFwiIG5nLWJpbmQ9XFxcImNvbnRlbnRcXFwiPjwvZGl2PlxcblwiICtcclxuICAgIFwiPC9kaXY+XFxuXCIgK1xyXG4gICAgXCJcIik7XHJcbn1dKTtcclxuXHJcbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXRlbXBsYXRlLXBvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xyXG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC10ZW1wbGF0ZS1wb3B1cC5odG1sXCIsXHJcbiAgICBcIjxkaXYgY2xhc3M9XFxcInRvb2x0aXBcXFwiXFxuXCIgK1xyXG4gICAgXCIgIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcclxuICAgIFwiICB0b29sdGlwLWNsYXNzZXNcXG5cIiArXHJcbiAgICBcIiAgbmctY2xhc3M9XFxcInsgaW46IGlzT3BlbigpIH1cXFwiPlxcblwiICtcclxuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWFycm93XFxcIj48L2Rpdj5cXG5cIiArXHJcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1pbm5lclxcXCJcXG5cIiArXHJcbiAgICBcIiAgICB0b29sdGlwLXRlbXBsYXRlLXRyYW5zY2x1ZGU9XFxcImNvbnRlbnRFeHAoKVxcXCJcXG5cIiArXHJcbiAgICBcIiAgICB0b29sdGlwLXRlbXBsYXRlLXRyYW5zY2x1ZGUtc2NvcGU9XFxcIm9yaWdpblNjb3BlKClcXFwiPjwvZGl2PlxcblwiICtcclxuICAgIFwiPC9kaXY+XFxuXCIgK1xyXG4gICAgXCJcIik7XHJcbn1dKTtcclxuXHJcbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLWh0bWwuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XHJcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLWh0bWwuaHRtbFwiLFxyXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyXFxcIlxcblwiICtcclxuICAgIFwiICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXHJcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xyXG4gICAgXCIgIG5nLWNsYXNzPVxcXCJ7IGluOiBpc09wZW4oKSB9XFxcIj5cXG5cIiArXHJcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcclxuICAgIFwiXFxuXCIgK1xyXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInBvcG92ZXItaW5uZXJcXFwiPlxcblwiICtcclxuICAgIFwiICAgICAgPGgzIGNsYXNzPVxcXCJwb3BvdmVyLXRpdGxlXFxcIiBuZy1iaW5kPVxcXCJ0aXRsZVxcXCIgbmctaWY9XFxcInRpdGxlXFxcIj48L2gzPlxcblwiICtcclxuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwicG9wb3Zlci1jb250ZW50XFxcIiBuZy1iaW5kLWh0bWw9XFxcImNvbnRlbnRFeHAoKVxcXCI+PC9kaXY+XFxuXCIgK1xyXG4gICAgXCIgIDwvZGl2PlxcblwiICtcclxuICAgIFwiPC9kaXY+XFxuXCIgK1xyXG4gICAgXCJcIik7XHJcbn1dKTtcclxuXHJcbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLXRlbXBsYXRlLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xyXG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci10ZW1wbGF0ZS5odG1sXCIsXHJcbiAgICBcIjxkaXYgY2xhc3M9XFxcInBvcG92ZXJcXFwiXFxuXCIgK1xyXG4gICAgXCIgIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcclxuICAgIFwiICB0b29sdGlwLWNsYXNzZXNcXG5cIiArXHJcbiAgICBcIiAgbmctY2xhc3M9XFxcInsgaW46IGlzT3BlbigpIH1cXFwiPlxcblwiICtcclxuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJhcnJvd1xcXCI+PC9kaXY+XFxuXCIgK1xyXG4gICAgXCJcXG5cIiArXHJcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicG9wb3Zlci1pbm5lclxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgICA8aDMgY2xhc3M9XFxcInBvcG92ZXItdGl0bGVcXFwiIG5nLWJpbmQ9XFxcInRpdGxlXFxcIiBuZy1pZj1cXFwidGl0bGVcXFwiPjwvaDM+XFxuXCIgK1xyXG4gICAgXCIgICAgICA8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyLWNvbnRlbnRcXFwiXFxuXCIgK1xyXG4gICAgXCIgICAgICAgIHRvb2x0aXAtdGVtcGxhdGUtdHJhbnNjbHVkZT1cXFwiY29udGVudEV4cCgpXFxcIlxcblwiICtcclxuICAgIFwiICAgICAgICB0b29sdGlwLXRlbXBsYXRlLXRyYW5zY2x1ZGUtc2NvcGU9XFxcIm9yaWdpblNjb3BlKClcXFwiPjwvZGl2PlxcblwiICtcclxuICAgIFwiICA8L2Rpdj5cXG5cIiArXHJcbiAgICBcIjwvZGl2PlxcblwiICtcclxuICAgIFwiXCIpO1xyXG59XSk7XHJcblxyXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcclxuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbFwiLFxyXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyXFxcIlxcblwiICtcclxuICAgIFwiICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXHJcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xyXG4gICAgXCIgIG5nLWNsYXNzPVxcXCJ7IGluOiBpc09wZW4oKSB9XFxcIj5cXG5cIiArXHJcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcclxuICAgIFwiXFxuXCIgK1xyXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInBvcG92ZXItaW5uZXJcXFwiPlxcblwiICtcclxuICAgIFwiICAgICAgPGgzIGNsYXNzPVxcXCJwb3BvdmVyLXRpdGxlXFxcIiBuZy1iaW5kPVxcXCJ0aXRsZVxcXCIgbmctaWY9XFxcInRpdGxlXFxcIj48L2gzPlxcblwiICtcclxuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwicG9wb3Zlci1jb250ZW50XFxcIiBuZy1iaW5kPVxcXCJjb250ZW50XFxcIj48L2Rpdj5cXG5cIiArXHJcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xyXG4gICAgXCI8L2Rpdj5cXG5cIiArXHJcbiAgICBcIlwiKTtcclxufV0pO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XHJcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWxcIixcclxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3MtYmFyXFxcIiBuZy1jbGFzcz1cXFwidHlwZSAmJiAncHJvZ3Jlc3MtYmFyLScgKyB0eXBlXFxcIiByb2xlPVxcXCJwcm9ncmVzc2JhclxcXCIgYXJpYS12YWx1ZW5vdz1cXFwie3t2YWx1ZX19XFxcIiBhcmlhLXZhbHVlbWluPVxcXCIwXFxcIiBhcmlhLXZhbHVlbWF4PVxcXCJ7e21heH19XFxcIiBuZy1zdHlsZT1cXFwie3dpZHRoOiAocGVyY2VudCA8IDEwMCA/IHBlcmNlbnQgOiAxMDApICsgJyUnfVxcXCIgYXJpYS12YWx1ZXRleHQ9XFxcInt7cGVyY2VudCB8IG51bWJlcjowfX0lXFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOiAwO1xcXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cXG5cIiArXHJcbiAgICBcIlwiKTtcclxufV0pO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcclxuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sXCIsXHJcbiAgICBcIjxkaXYgY2xhc3M9XFxcInByb2dyZXNzXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlwiKTtcclxufV0pO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcclxuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sXCIsXHJcbiAgICBcIjxkaXYgY2xhc3M9XFxcInByb2dyZXNzXFxcIj5cXG5cIiArXHJcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3MtYmFyXFxcIiBuZy1jbGFzcz1cXFwidHlwZSAmJiAncHJvZ3Jlc3MtYmFyLScgKyB0eXBlXFxcIiByb2xlPVxcXCJwcm9ncmVzc2JhclxcXCIgYXJpYS12YWx1ZW5vdz1cXFwie3t2YWx1ZX19XFxcIiBhcmlhLXZhbHVlbWluPVxcXCIwXFxcIiBhcmlhLXZhbHVlbWF4PVxcXCJ7e21heH19XFxcIiBuZy1zdHlsZT1cXFwie3dpZHRoOiAocGVyY2VudCA8IDEwMCA/IHBlcmNlbnQgOiAxMDApICsgJyUnfVxcXCIgYXJpYS12YWx1ZXRleHQ9XFxcInt7cGVyY2VudCB8IG51bWJlcjowfX0lXFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOiAwO1xcXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cXG5cIiArXHJcbiAgICBcIjwvZGl2PlxcblwiICtcclxuICAgIFwiXCIpO1xyXG59XSk7XHJcblxyXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XHJcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sXCIsXHJcbiAgICBcIjxzcGFuIG5nLW1vdXNlbGVhdmU9XFxcInJlc2V0KClcXFwiIG5nLWtleWRvd249XFxcIm9uS2V5ZG93bigkZXZlbnQpXFxcIiB0YWJpbmRleD1cXFwiMFxcXCIgcm9sZT1cXFwic2xpZGVyXFxcIiBhcmlhLXZhbHVlbWluPVxcXCIwXFxcIiBhcmlhLXZhbHVlbWF4PVxcXCJ7e3JhbmdlLmxlbmd0aH19XFxcIiBhcmlhLXZhbHVlbm93PVxcXCJ7e3ZhbHVlfX1cXFwiPlxcblwiICtcclxuICAgIFwiICAgIDxzcGFuIG5nLXJlcGVhdC1zdGFydD1cXFwiciBpbiByYW5nZSB0cmFjayBieSAkaW5kZXhcXFwiIGNsYXNzPVxcXCJzci1vbmx5XFxcIj4oe3sgJGluZGV4IDwgdmFsdWUgPyAnKicgOiAnICcgfX0pPC9zcGFuPlxcblwiICtcclxuICAgIFwiICAgIDxpIG5nLXJlcGVhdC1lbmQgbmctbW91c2VlbnRlcj1cXFwiZW50ZXIoJGluZGV4ICsgMSlcXFwiIG5nLWNsaWNrPVxcXCJyYXRlKCRpbmRleCArIDEpXFxcIiBjbGFzcz1cXFwiZ2x5cGhpY29uXFxcIiBuZy1jbGFzcz1cXFwiJGluZGV4IDwgdmFsdWUgJiYgKHIuc3RhdGVPbiB8fCAnZ2x5cGhpY29uLXN0YXInKSB8fCAoci5zdGF0ZU9mZiB8fCAnZ2x5cGhpY29uLXN0YXItZW1wdHknKVxcXCIgbmctYXR0ci10aXRsZT1cXFwie3tyLnRpdGxlfX1cXFwiID48L2k+XFxuXCIgK1xyXG4gICAgXCI8L3NwYW4+XFxuXCIgK1xyXG4gICAgXCJcIik7XHJcbn1dKTtcclxuXHJcbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdGFicy90YWIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XHJcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdGFicy90YWIuaHRtbFwiLFxyXG4gICAgXCI8bGkgbmctY2xhc3M9XFxcInthY3RpdmU6IGFjdGl2ZSwgZGlzYWJsZWQ6IGRpc2FibGVkfVxcXCI+XFxuXCIgK1xyXG4gICAgXCIgIDxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdCgpXFxcIiB0YWItaGVhZGluZy10cmFuc2NsdWRlPnt7aGVhZGluZ319PC9hPlxcblwiICtcclxuICAgIFwiPC9saT5cXG5cIiArXHJcbiAgICBcIlwiKTtcclxufV0pO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcclxuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sXCIsXHJcbiAgICBcIjxkaXY+XFxuXCIgK1xyXG4gICAgXCIgIDx1bCBjbGFzcz1cXFwibmF2IG5hdi17e3R5cGUgfHwgJ3RhYnMnfX1cXFwiIG5nLWNsYXNzPVxcXCJ7J25hdi1zdGFja2VkJzogdmVydGljYWwsICduYXYtanVzdGlmaWVkJzoganVzdGlmaWVkfVxcXCIgbmctdHJhbnNjbHVkZT48L3VsPlxcblwiICtcclxuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0YWItY29udGVudFxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwidGFiLXBhbmVcXFwiIFxcblwiICtcclxuICAgIFwiICAgICAgICAgbmctcmVwZWF0PVxcXCJ0YWIgaW4gdGFic1xcXCIgXFxuXCIgK1xyXG4gICAgXCIgICAgICAgICBuZy1jbGFzcz1cXFwie2FjdGl2ZTogdGFiLmFjdGl2ZX1cXFwiXFxuXCIgK1xyXG4gICAgXCIgICAgICAgICB0YWItY29udGVudC10cmFuc2NsdWRlPVxcXCJ0YWJcXFwiPlxcblwiICtcclxuICAgIFwiICAgIDwvZGl2PlxcblwiICtcclxuICAgIFwiICA8L2Rpdj5cXG5cIiArXHJcbiAgICBcIjwvZGl2PlxcblwiICtcclxuICAgIFwiXCIpO1xyXG59XSk7XHJcblxyXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcclxuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbFwiLFxyXG4gICAgXCI8dGFibGU+XFxuXCIgK1xyXG4gICAgXCIgIDx0Ym9keT5cXG5cIiArXHJcbiAgICBcIiAgICA8dHIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIiBuZy1zaG93PVxcXCI6OnNob3dTcGlubmVyc1xcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgICA8dGQ+PGEgbmctY2xpY2s9XFxcImluY3JlbWVudEhvdXJzKClcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vSW5jcmVtZW50SG91cnMoKX1cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tdXBcXFwiPjwvc3Bhbj48L2E+PC90ZD5cXG5cIiArXHJcbiAgICBcIiAgICAgIDx0ZD4mbmJzcDs8L3RkPlxcblwiICtcclxuICAgIFwiICAgICAgPHRkPjxhIG5nLWNsaWNrPVxcXCJpbmNyZW1lbnRNaW51dGVzKClcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vSW5jcmVtZW50TWludXRlcygpfVxcXCIgY2xhc3M9XFxcImJ0biBidG4tbGlua1xcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi11cFxcXCI+PC9zcGFuPjwvYT48L3RkPlxcblwiICtcclxuICAgIFwiICAgICAgPHRkIG5nLXNob3c9XFxcInNob3dNZXJpZGlhblxcXCI+PC90ZD5cXG5cIiArXHJcbiAgICBcIiAgICA8L3RyPlxcblwiICtcclxuICAgIFwiICAgIDx0cj5cXG5cIiArXHJcbiAgICBcIiAgICAgIDx0ZCBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCIgbmctY2xhc3M9XFxcInsnaGFzLWVycm9yJzogaW52YWxpZEhvdXJzfVxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgIDxpbnB1dCBzdHlsZT1cXFwid2lkdGg6NTBweDtcXFwiIHR5cGU9XFxcInRleHRcXFwiIG5nLW1vZGVsPVxcXCJob3Vyc1xcXCIgbmctY2hhbmdlPVxcXCJ1cGRhdGVIb3VycygpXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sIHRleHQtY2VudGVyXFxcIiBuZy1yZWFkb25seT1cXFwiOjpyZWFkb25seUlucHV0XFxcIiBtYXhsZW5ndGg9XFxcIjJcXFwiPlxcblwiICtcclxuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXHJcbiAgICBcIiAgICAgIDx0ZD46PC90ZD5cXG5cIiArXHJcbiAgICBcIiAgICAgIDx0ZCBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCIgbmctY2xhc3M9XFxcInsnaGFzLWVycm9yJzogaW52YWxpZE1pbnV0ZXN9XFxcIj5cXG5cIiArXHJcbiAgICBcIiAgICAgICAgPGlucHV0IHN0eWxlPVxcXCJ3aWR0aDo1MHB4O1xcXCIgdHlwZT1cXFwidGV4dFxcXCIgbmctbW9kZWw9XFxcIm1pbnV0ZXNcXFwiIG5nLWNoYW5nZT1cXFwidXBkYXRlTWludXRlcygpXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sIHRleHQtY2VudGVyXFxcIiBuZy1yZWFkb25seT1cXFwiOjpyZWFkb25seUlucHV0XFxcIiBtYXhsZW5ndGg9XFxcIjJcXFwiPlxcblwiICtcclxuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXHJcbiAgICBcIiAgICAgIDx0ZCBuZy1zaG93PVxcXCJzaG93TWVyaWRpYW5cXFwiPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub1RvZ2dsZU1lcmlkaWFuKCl9XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IHRleHQtY2VudGVyXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlTWVyaWRpYW4oKVxcXCI+e3ttZXJpZGlhbn19PC9idXR0b24+PC90ZD5cXG5cIiArXHJcbiAgICBcIiAgICA8L3RyPlxcblwiICtcclxuICAgIFwiICAgIDx0ciBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiIG5nLXNob3c9XFxcIjo6c2hvd1NwaW5uZXJzXFxcIj5cXG5cIiArXHJcbiAgICBcIiAgICAgIDx0ZD48YSBuZy1jbGljaz1cXFwiZGVjcmVtZW50SG91cnMoKVxcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9EZWNyZW1lbnRIb3VycygpfVxcXCIgY2xhc3M9XFxcImJ0biBidG4tbGlua1xcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1kb3duXFxcIj48L3NwYW4+PC9hPjwvdGQ+XFxuXCIgK1xyXG4gICAgXCIgICAgICA8dGQ+Jm5ic3A7PC90ZD5cXG5cIiArXHJcbiAgICBcIiAgICAgIDx0ZD48YSBuZy1jbGljaz1cXFwiZGVjcmVtZW50TWludXRlcygpXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub0RlY3JlbWVudE1pbnV0ZXMoKX1cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tZG93blxcXCI+PC9zcGFuPjwvYT48L3RkPlxcblwiICtcclxuICAgIFwiICAgICAgPHRkIG5nLXNob3c9XFxcInNob3dNZXJpZGlhblxcXCI+PC90ZD5cXG5cIiArXHJcbiAgICBcIiAgICA8L3RyPlxcblwiICtcclxuICAgIFwiICA8L3Rib2R5PlxcblwiICtcclxuICAgIFwiPC90YWJsZT5cXG5cIiArXHJcbiAgICBcIlwiKTtcclxufV0pO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xyXG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbFwiLFxyXG4gICAgXCI8YSBocmVmIHRhYmluZGV4PVxcXCItMVxcXCIgbmctYmluZC1odG1sPVxcXCJtYXRjaC5sYWJlbCB8IHR5cGVhaGVhZEhpZ2hsaWdodDpxdWVyeVxcXCI+PC9hPlxcblwiICtcclxuICAgIFwiXCIpO1xyXG59XSk7XHJcblxyXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XHJcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sXCIsXHJcbiAgICBcIjx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCIgbmctc2hvdz1cXFwiaXNPcGVuKCkgJiYgIW1vdmVJblByb2dyZXNzXFxcIiBuZy1zdHlsZT1cXFwie3RvcDogcG9zaXRpb24oKS50b3ArJ3B4JywgbGVmdDogcG9zaXRpb24oKS5sZWZ0KydweCd9XFxcIiBzdHlsZT1cXFwiZGlzcGxheTogYmxvY2s7XFxcIiByb2xlPVxcXCJsaXN0Ym94XFxcIiBhcmlhLWhpZGRlbj1cXFwie3shaXNPcGVuKCl9fVxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgPGxpIG5nLXJlcGVhdD1cXFwibWF0Y2ggaW4gbWF0Y2hlcyB0cmFjayBieSAkaW5kZXhcXFwiIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiBpc0FjdGl2ZSgkaW5kZXgpIH1cXFwiIG5nLW1vdXNlZW50ZXI9XFxcInNlbGVjdEFjdGl2ZSgkaW5kZXgpXFxcIiBuZy1jbGljaz1cXFwic2VsZWN0TWF0Y2goJGluZGV4KVxcXCIgcm9sZT1cXFwib3B0aW9uXFxcIiBpZD1cXFwie3s6Om1hdGNoLmlkfX1cXFwiPlxcblwiICtcclxuICAgIFwiICAgICAgICA8ZGl2IHR5cGVhaGVhZC1tYXRjaCBpbmRleD1cXFwiJGluZGV4XFxcIiBtYXRjaD1cXFwibWF0Y2hcXFwiIHF1ZXJ5PVxcXCJxdWVyeVxcXCIgdGVtcGxhdGUtdXJsPVxcXCJ0ZW1wbGF0ZVVybFxcXCI+PC9kaXY+XFxuXCIgK1xyXG4gICAgXCIgICAgPC9saT5cXG5cIiArXHJcbiAgICBcIjwvdWw+XFxuXCIgK1xyXG4gICAgXCJcIik7XHJcbn1dKTtcclxuIWFuZ3VsYXIuJCRjc3AoKSAmJiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLmZpbmQoJ2hlYWQnKS5wcmVwZW5kKCc8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+Lm5nLWFuaW1hdGUuaXRlbTpub3QoLmxlZnQpOm5vdCgucmlnaHQpey13ZWJraXQtdHJhbnNpdGlvbjowcyBlYXNlLWluLW91dCBsZWZ0O3RyYW5zaXRpb246MHMgZWFzZS1pbi1vdXQgbGVmdH08L3N0eWxlPicpO1xyXG5pZih0eXBlb2YgVEVNUExBVEVTID09PSAndW5kZWZpbmVkJykge3ZhciBURU1QTEFURVMgPSB7fTt9XHJcblRFTVBMQVRFU1snYWxpZ25tZW50Lmh0bWwnXSA9IFwiPGRpdiBjbGFzcz1cXFwiYnRuLWdyb3VwIGFsaWdubWVudFxcXCI+XFxuXCIgK1xyXG4gICAgXCIgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tYWxpZ25tZW50IGRyb3Bkb3duLXRvZ2dsZVxcXCJcXG5cIiArXHJcbiAgICBcIiAgICBkYXRhLXRvZ2dsZT1cXFwiZHJvcGRvd25cXFwiIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQtdmFsdWU9XFxcImxlZnRcXFwiPlxcblwiICtcclxuICAgIFwiICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1hbGlnbi1sZWZ0XFxcIj48L2k+XFxuXCIgK1xyXG4gICAgXCIgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuXCIgK1xyXG4gICAgXCIgIDwvYnV0dG9uPlxcblwiICtcclxuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJkcm9wZG93bi1tZW51XFxcIiByb2xlPVxcXCJtZW51XFxcIj5cXG5cIiArXHJcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJidG4tZ3JvdXBcXFwiPlxcblwiICtcclxuICAgIFwiICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBkYXRhLXd5c2lodG1sNS1jb21tYW5kPVxcXCJhbGlnbm1lbnRcXFwiXFxuXCIgK1xyXG4gICAgXCIgICAgICAgIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQtdmFsdWU9XFxcImxlZnRcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1hbGlnbi1sZWZ0XFxcIj48L2k+XFxuXCIgK1xyXG4gICAgXCIgICAgICA8L2J1dHRvbj5cXG5cIiArXHJcbiAgICBcIiAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgZGF0YS13eXNpaHRtbDUtY29tbWFuZD1cXFwiYWxpZ25tZW50XFxcIlxcblwiICtcclxuICAgIFwiICAgICAgICBkYXRhLXd5c2lodG1sNS1jb21tYW5kLXZhbHVlPVxcXCJjZW50ZXJcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1hbGlnbi1jZW50ZXJcXFwiPjwvaT5cXG5cIiArXHJcbiAgICBcIiAgICAgIDwvYnV0dG9uPlxcblwiICtcclxuICAgIFwiICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBkYXRhLXd5c2lodG1sNS1jb21tYW5kPVxcXCJhbGlnbm1lbnRcXFwiXFxuXCIgK1xyXG4gICAgXCIgICAgICAgIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQtdmFsdWU9XFxcInJpZ2h0XFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPlxcblwiICtcclxuICAgIFwiICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtYWxpZ24tcmlnaHRcXFwiPjwvaT5cXG5cIiArXHJcbiAgICBcIiAgICAgIDwvYnV0dG9uPlxcblwiICtcclxuICAgIFwiICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBkYXRhLXd5c2lodG1sNS1jb21tYW5kPVxcXCJhbGlnbm1lbnRcXFwiXFxuXCIgK1xyXG4gICAgXCIgICAgICAgIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQtdmFsdWU9XFxcImp1c3RpZnlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1hbGlnbi1qdXN0aWZ5XFxcIj48L2k+XFxuXCIgK1xyXG4gICAgXCIgICAgICA8L2J1dHRvbj5cXG5cIiArXHJcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXHJcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xyXG4gICAgXCI8L2Rpdj5cXG5cIiArXHJcbiAgICBcIlwiOyBcclxuLyogIENvcHlyaWdodCDCqSAyMDE0IFJpc2UgVmlzaW9uIEluY29ycG9yYXRlZC5cclxuICogIFVzZSBvZiB0aGlzIHNvZnR3YXJlIGlzIGdvdmVybmVkIGJ5IHRoZSBHUEx2MyBsaWNlbnNlXHJcbiAqICAocmVwcm9kdWNlZCBpbiB0aGUgTElDRU5TRSBmaWxlKS5cclxuICovXHJcblxyXG4vKiBnbG9iYWwgVEVNUExBVEVTICovXHJcbjsoZnVuY3Rpb24gKCQsIHdpbmRvdywgZG9jdW1lbnQsIFRFTVBMQVRFUywgdW5kZWZpbmVkKSB7XHJcbiAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gIHZhciBfcGx1Z2luTmFtZSA9IFwiYWxpZ25tZW50XCI7XHJcblxyXG4gIGZ1bmN0aW9uIFBsdWdpbihlbGVtZW50LCBvcHRpb25zKSB7XHJcbiAgICB2YXIgJGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xyXG4gICAgdmFyICRidG5BbGlnbm1lbnQgPSBudWxsO1xyXG4gICAgdmFyIGRlZmF1bHRBbGlnbm1lbnQgPSBcImxlZnRcIjtcclxuXHJcbiAgICBvcHRpb25zID0gJC5leHRlbmQoe30sIHsgXCJhbGlnblwiOiBkZWZhdWx0QWxpZ25tZW50IH0sIG9wdGlvbnMpO1xyXG5cclxuICAgIC8qXHJcbiAgICAgKiAgUHJpdmF0ZSBNZXRob2RzXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIF9pbml0KCkge1xyXG4gICAgICAvLyBHZXQgdGhlIEhUTUwgbWFya3VwIGZyb20gdGhlIHRlbXBsYXRlLlxyXG4gICAgICAkZWxlbWVudC5hcHBlbmQoVEVNUExBVEVTW1wiYWxpZ25tZW50Lmh0bWxcIl0pO1xyXG4gICAgICAkYnRuQWxpZ25tZW50ID0gJGVsZW1lbnQuZmluZChcIi5idG4tYWxpZ25tZW50XCIpO1xyXG5cclxuICAgICAgc2V0QWxpZ25tZW50KG9wdGlvbnMuYWxpZ24pO1xyXG5cclxuICAgICAgJGVsZW1lbnQuZmluZChcIi5kcm9wZG93bi1tZW51IGJ1dHRvblwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBhbGlnbm1lbnQgPSAkKHRoaXMpLmRhdGEoXCJ3eXNpaHRtbDUtY29tbWFuZC12YWx1ZVwiKTtcclxuXHJcbiAgICAgICAgc2V0QWxpZ25tZW50KGFsaWdubWVudCk7XHJcbiAgICAgICAgJGVsZW1lbnQudHJpZ2dlcihcImFsaWdubWVudENoYW5nZWRcIiwgYWxpZ25tZW50KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLypcclxuICAgICAqICBQdWJsaWMgTWV0aG9kc1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRBbGlnbm1lbnQoKSB7XHJcbiAgICAgcmV0dXJuICRidG5BbGlnbm1lbnQuZGF0YShcInd5c2lodG1sNS1jb21tYW5kLXZhbHVlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldEFsaWdubWVudChhbGlnbm1lbnQpIHtcclxuICAgICAgdmFyICRwcmltYXJ5SWNvbiA9ICRlbGVtZW50LmZpbmQoXCIuYnRuLWFsaWdubWVudCAuZmFcIik7XHJcbiAgICAgIHZhciBjdXJyZW50Q2xhc3MgPSAkcHJpbWFyeUljb24uYXR0cihcImNsYXNzXCIpLm1hdGNoKC9mYS1hbGlnbi1bYS16XSsvZyk7XHJcbiAgICAgIHZhciBuZXdDbGFzcyA9IFwiZmEtYWxpZ24tXCIgKyBhbGlnbm1lbnQ7XHJcblxyXG4gICAgICAvLyBSZW1vdmUgY3VycmVudCBhbGlnbm1lbnQgaWNvbi5cclxuICAgICAgaWYgKGN1cnJlbnRDbGFzcyAmJiBjdXJyZW50Q2xhc3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICRwcmltYXJ5SWNvbi5yZW1vdmVDbGFzcyhjdXJyZW50Q2xhc3NbMF0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBBZGQgbmV3IGFsaWdubWVudCBpY29uLlxyXG4gICAgICAkcHJpbWFyeUljb24uYWRkQ2xhc3MobmV3Q2xhc3MpO1xyXG4gICAgICAkYnRuQWxpZ25tZW50LmRhdGEoXCJ3eXNpaHRtbDUtY29tbWFuZC12YWx1ZVwiLCBhbGlnbm1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc2V0KCkge1xyXG4gICAgICBzZXRBbGlnbm1lbnQoZGVmYXVsdEFsaWdubWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXQoKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBnZXRBbGlnbm1lbnQ6IGdldEFsaWdubWVudCxcclxuICAgICAgc2V0QWxpZ25tZW50OiBzZXRBbGlnbm1lbnQsXHJcbiAgICAgIHJlc2V0OiAgICAgICAgcmVzZXRcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKlxyXG4gICAqICBBIGxpZ2h0d2VpZ2h0IHBsdWdpbiB3cmFwcGVyIGFyb3VuZCB0aGUgY29uc3RydWN0b3IgdGhhdCBwcmV2ZW50c1xyXG4gICAqICBtdWx0aXBsZSBpbnN0YW50aWF0aW9ucy5cclxuICAgKi9cclxuICAkLmZuLmFsaWdubWVudCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmICghJC5kYXRhKHRoaXMsIFwicGx1Z2luX1wiICsgX3BsdWdpbk5hbWUpKSB7XHJcbiAgICAgICAgJC5kYXRhKHRoaXMsIFwicGx1Z2luX1wiICsgX3BsdWdpbk5hbWUsIG5ldyBQbHVnaW4odGhpcywgb3B0aW9ucykpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG59KShqUXVlcnksIHdpbmRvdywgZG9jdW1lbnQsIFRFTVBMQVRFUyk7XHJcblxyXG4vKiBleHBvcnRlZCBXSURHRVRfU0VUVElOR1NfVUlfQ09ORklHICovXHJcbnZhciBXSURHRVRfU0VUVElOR1NfVUlfQ09ORklHID0ge1xyXG4gIFwiZmFtaWxpZXNcIjogXCJBbmRhbGUgTW9ubz1hbmRhbGUgbW9ubyxtb25vc3BhY2U7XCIgK1xyXG4gICAgICBcIkFyaWFsPWFyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmO1wiICtcclxuICAgICAgXCJBcmlhbCBCbGFjaz1hcmlhbCBibGFjayxzYW5zLXNlcmlmO1wiICtcclxuICAgICAgXCJCb29rIEFudGlxdWE9Ym9vayBhbnRpcXVhLHBhbGF0aW5vLHNlcmlmO1wiICtcclxuICAgICAgXCJDb21pYyBTYW5zIE1TPWNvbWljIHNhbnMgbXMsc2Fucy1zZXJpZjtcIiArXHJcbiAgICAgIFwiQ291cmllciBOZXc9Y291cmllciBuZXcsY291cmllcixtb25vc3BhY2U7XCIgK1xyXG4gICAgICBcIkdlb3JnaWE9Z2VvcmdpYSxwYWxhdGlubyxzZXJpZjtcIiArXHJcbiAgICAgIFwiSGVsdmV0aWNhPWhlbHZldGljYSxhcmlhbCxzYW5zLXNlcmlmO1wiICtcclxuICAgICAgXCJJbXBhY3Q9aW1wYWN0LHNhbnMtc2VyaWY7XCIgK1xyXG4gICAgICBcIlN5bWJvbD1zeW1ib2w7XCIgK1xyXG4gICAgICBcIlRhaG9tYT10YWhvbWEsYXJpYWwsaGVsdmV0aWNhLHNhbnMtc2VyaWY7XCIgK1xyXG4gICAgICBcIlRlcm1pbmFsPXRlcm1pbmFsLG1vbmFjbyxtb25vc3BhY2U7XCIgK1xyXG4gICAgICBcIlRpbWVzIE5ldyBSb21hbj10aW1lcyBuZXcgcm9tYW4sdGltZXMsc2VyaWY7XCIgK1xyXG4gICAgICBcIlRyZWJ1Y2hldCBNUz10cmVidWNoZXQgbXMsZ2VuZXZhLHNhbnMtc2VyaWY7XCIgK1xyXG4gICAgICBcIlZlcmRhbmE9dmVyZGFuYSxnZW5ldmEsc2Fucy1zZXJpZjtcIixcclxuICBcInNpemVzXCI6IFwiOHB4IDlweCAxMHB4IDExcHggMTJweCAxNHB4IDE4cHggMjRweCAzMHB4IDM2cHggNDhweCA2MHB4IDcycHggOTZweFwiXHJcbn07XHJcblxyXG4oZnVuY3Rpb24gKCkge1xyXG4gIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi51cmwtZmllbGRcIiwgW1xyXG4gICAgXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuXCIsXHJcbiAgICBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi50b29sdGlwXCJcclxuICBdKVxyXG4gICAgLmRpcmVjdGl2ZShcInVybEZpZWxkXCIsIFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIFwiJGxvZ1wiLCBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUsICRsb2cpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICByZXN0cmljdDogXCJFXCIsXHJcbiAgICAgICAgcmVxdWlyZTogXCI/bmdNb2RlbFwiLFxyXG4gICAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgICB1cmw6IFwiPVwiLFxyXG4gICAgICAgICAgaGlkZUxhYmVsOiBcIkBcIixcclxuICAgICAgICAgIGZpbGVUeXBlOiBcIkBcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldChcIl9hbmd1bGFyL3VybC1maWVsZC91cmwtZmllbGQuaHRtbFwiKSxcclxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsKSB7XHJcblxyXG4gICAgICAgICAgZnVuY3Rpb24gaGFzVmFsaWRFeHRlbnNpb24odXJsLCBmaWxlVHlwZSkge1xyXG4gICAgICAgICAgICB2YXIgdGVzdFVybCA9IHVybC50b0xvd2VyQ2FzZSgpLFxyXG4gICAgICAgICAgICAgIGV4dGVuc2lvbnM7XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2goZmlsZVR5cGUpIHtcclxuICAgICAgICAgICAgICBjYXNlIFwiaW1hZ2VcIjpcclxuICAgICAgICAgICAgICAgIGV4dGVuc2lvbnMgPSBbXCIuanBnXCIsIFwiLmpwZWdcIiwgXCIucG5nXCIsIFwiLmJtcFwiLCBcIi5zdmdcIiwgXCIuZ2lmXCJdO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgY2FzZSBcInZpZGVvXCI6XHJcbiAgICAgICAgICAgICAgICBleHRlbnNpb25zID0gW1wiLndlYm1cIiwgXCIubXA0XCIsIFwiLm9ndlwiLCBcIi5vZ2dcIl07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9ucyA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZXh0ZW5zaW9ucy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgIGlmICh0ZXN0VXJsLmluZGV4T2YoZXh0ZW5zaW9uc1tpXSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBDaGVjayB0aGF0IHRoZSBVUkwgcG9pbnRzIHRvIGEgdmFsaWQgaW1hZ2UgZmlsZS5cclxuICAgICAgICAgIGZ1bmN0aW9uIHRlc3RJbWFnZSgpIHtcclxuICAgICAgICAgICAgaWYgKChzY29wZS5maWxlVHlwZSAhPT0gXCJ1bmRlZmluZWRcIikgJiYgKHNjb3BlLnVybCAhPT0gXCJ1bmRlZmluZWRcIikpIHtcclxuICAgICAgICAgICAgICBpZiAoc2NvcGUuZmlsZVR5cGUgPT09IFwiaW1hZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgIHNjb3BlLnZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgc2NvcGUudmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgc2NvcGUuaW52YWxpZFR5cGUgPSBzY29wZS5maWxlVHlwZTtcclxuICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGltYWdlLnNyYyA9IHNjb3BlLnVybDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBmdW5jdGlvbiB0ZXN0VXJsKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhciB1cmxSZWdFeHAsXHJcbiAgICAgICAgICAgICAgaXNWYWxpZDtcclxuXHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICBEaXNjdXNzaW9uXHJcbiAgICAgICAgICAgICBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM3Njg0L2hvdy10by1yZXBsYWNlLXBsYWluLXVybHMtd2l0aC1saW5rcyMyMTkyNTQ5MVxyXG5cclxuICAgICAgICAgICAgIFVzaW5nXHJcbiAgICAgICAgICAgICBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9kcGVyaW5pLzcyOTI5NFxyXG4gICAgICAgICAgICAgUmVhc29uaW5nXHJcbiAgICAgICAgICAgICBodHRwOi8vbWF0aGlhc2J5bmVucy5iZS9kZW1vL3VybC1yZWdleCAqL1xyXG5cclxuICAgICAgICAgICAgdXJsUmVnRXhwID0gL14oPzooPzpodHRwcz98ZnRwKTpcXC9cXC8pKD86XFxTKyg/OjpcXFMqKT9AKT8oPzooPyEoPzoxMHwxMjcpKD86XFwuXFxkezEsM30pezN9KSg/ISg/OjE2OVxcLjI1NHwxOTJcXC4xNjgpKD86XFwuXFxkezEsM30pezJ9KSg/ITE3MlxcLig/OjFbNi05XXwyXFxkfDNbMC0xXSkoPzpcXC5cXGR7MSwzfSl7Mn0pKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswMV1cXGR8MjJbMC0zXSkoPzpcXC4oPzoxP1xcZHsxLDJ9fDJbMC00XVxcZHwyNVswLTVdKSl7Mn0oPzpcXC4oPzpbMS05XVxcZD98MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC00XSkpfCg/Oig/OlthLXpcXHUwMGExLVxcdWZmZmYwLTldKy0/KSpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSspKD86XFwuKD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rLT8pKlthLXpcXHUwMGExLVxcdWZmZmYwLTldKykqKD86XFwuKD86W2EtelxcdTAwYTEtXFx1ZmZmZl17Mix9KSkpKD86OlxcZHsyLDV9KT8oPzpcXC9bXlxcc10qKT8kL2k7IC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cclxuICAgICAgICAgICAgLy8gQWRkIGh0dHA6Ly8gaWYgbm8gcHJvdG9jb2wgcGFyYW1ldGVyIGV4aXN0c1xyXG4gICAgICAgICAgICBpZiAodmFsdWUuaW5kZXhPZihcIjovL1wiKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICB2YWx1ZSA9IFwiaHR0cDovL1wiICsgdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlzVmFsaWQgPSB1cmxSZWdFeHAudGVzdCh2YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaXNWYWxpZCAmJiB0eXBlb2Ygc2NvcGUuZmlsZVR5cGUgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICBpc1ZhbGlkID0gaGFzVmFsaWRFeHRlbnNpb24odmFsdWUsIHNjb3BlLmZpbGVUeXBlKTtcclxuICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIHNjb3BlLmludmFsaWRUeXBlID0gc2NvcGUuZmlsZVR5cGU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHNjb3BlLmludmFsaWRUeXBlID0gXCJ1cmxcIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICB0ZXN0SW1hZ2UoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gQnkgZGVmYXVsdCBlbmZvcmNlIHZhbGlkYXRpb25cclxuICAgICAgICAgIHNjb3BlLmRvVmFsaWRhdGlvbiA9IHRydWU7XHJcbiAgICAgICAgICAvLyBBIGZsYWcgdG8gc2V0IGlmIHRoZSB1c2VyIHR1cm5lZCBvZmYgdmFsaWRhdGlvblxyXG4gICAgICAgICAgc2NvcGUuZm9yY2VkVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgIC8vIFZhbGlkYXRpb24gc3RhdGVcclxuICAgICAgICAgIHNjb3BlLnZhbGlkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICBzY29wZS5pbnZhbGlkVHlwZSA9IFwidXJsXCI7XHJcblxyXG4gICAgICAgICAgc2NvcGUuYWxsb3dJbml0RW1wdHkgPSAodHlwZW9mIGF0dHJzLmluaXRFbXB0eSAhPT0gXCJ1bmRlZmluZWRcIik7XHJcblxyXG4gICAgICAgICAgc2NvcGUuYmx1ciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzY29wZS4kZW1pdChcInVybEZpZWxkQmx1clwiKTtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgc2NvcGUuJHdhdGNoKFwidXJsXCIsIGZ1bmN0aW9uICh1cmwpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXJsICE9PSBcInVuZGVmaW5lZFwiICYmIHVybCAhPT0gbnVsbCkge1xyXG5cclxuICAgICAgICAgICAgICBpZiAodXJsICE9PSBcIlwiICYmIHNjb3BlLmFsbG93SW5pdEVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBlbnN1cmUgYW4gZW1wdHkgXCJcIiB2YWx1ZSBub3cgZ2V0cyB2YWxpZGF0ZWRcclxuICAgICAgICAgICAgICAgIHNjb3BlLmFsbG93SW5pdEVtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBpZiAoc2NvcGUuZG9WYWxpZGF0aW9uICYmICFzY29wZS5hbGxvd0luaXRFbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgc2NvcGUudmFsaWQgPSB0ZXN0VXJsKHNjb3BlLnVybCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBzY29wZS4kd2F0Y2goXCJ2YWxpZFwiLCBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgaWYgKGN0cmwpIHtcclxuICAgICAgICAgICAgICAkbG9nLmluZm8oXCJDYWxsaW5nICRzZXRWYWxpZGl0eSgpIG9uIHBhcmVudCBjb250cm9sbGVyXCIpO1xyXG4gICAgICAgICAgICAgIGN0cmwuJHNldFZhbGlkaXR5KFwidmFsaWRcIiwgdmFsaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBzY29wZS4kd2F0Y2goXCJkb1ZhbGlkYXRpb25cIiwgZnVuY3Rpb24gKGRvVmFsaWRhdGlvbikge1xyXG4gICAgICAgICAgICBpZih0eXBlb2Ygc2NvcGUudXJsICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGRvVmFsaWRhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgc2NvcGUuZm9yY2VkVmFsaWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXNjb3BlLmFsbG93SW5pdEVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgIHNjb3BlLnZhbGlkID0gdGVzdFVybChzY29wZS51cmwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzY29wZS5mb3JjZWRWYWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzY29wZS52YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfV0pO1xyXG59KCkpO1xyXG5cclxuKGZ1bmN0aW9uKG1vZHVsZSkge1xyXG50cnkgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi51cmwtZmllbGRcIik7IH1cclxuY2F0Y2goZXJyKSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnVybC1maWVsZFwiLCBbXSk7IH1cclxubW9kdWxlLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xyXG4gIFwidXNlIHN0cmljdFwiO1xyXG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcIl9hbmd1bGFyL3VybC1maWVsZC91cmwtZmllbGQuaHRtbFwiLFxyXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIiA+XFxuXCIgK1xyXG4gICAgXCIgIDxsYWJlbCBuZy1pZj1cXFwiIWhpZGVMYWJlbFxcXCI+e3sgXFxcInVybC5sYWJlbFxcXCIgfCB0cmFuc2xhdGUgfX08L2xhYmVsPlxcblwiICtcclxuICAgIFwiICA8ZGl2PlxcblwiICtcclxuICAgIFwiICAgIDxpbnB1dCBuYW1lPVxcXCJ1cmxcXFwiIHR5cGU9XFxcInRleHRcXFwiIG5nLW1vZGVsPVxcXCJ1cmxcXFwiIG5nLWJsdXI9XFxcImJsdXIoKVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgcGxhY2Vob2xkZXI9XFxcImh0dHA6Ly9cXFwiPlxcblwiICtcclxuICAgIFwiICA8L2Rpdj5cXG5cIiArXHJcbiAgICBcIiAgPHAgbmctaWY9XFxcIiF2YWxpZCAmJiBpbnZhbGlkVHlwZSA9PT0gJ3VybCdcXFwiIGNsYXNzPVxcXCJ0ZXh0LWRhbmdlclxcXCI+e3sgXFxcInVybC5lcnJvcnMudXJsXFxcIiB8IHRyYW5zbGF0ZSB9fTwvcD5cXG5cIiArXHJcbiAgICBcIiAgPHAgbmctaWY9XFxcIiF2YWxpZCAmJiBpbnZhbGlkVHlwZSA9PT0gJ2ltYWdlJ1xcXCIgY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIj57eyBcXFwidXJsLmVycm9ycy5pbWFnZVxcXCIgfCB0cmFuc2xhdGUgfX08L3A+XFxuXCIgK1xyXG4gICAgXCIgIDxwIG5nLWlmPVxcXCIhdmFsaWQgJiYgaW52YWxpZFR5cGUgPT09ICd2aWRlbydcXFwiIGNsYXNzPVxcXCJ0ZXh0LWRhbmdlclxcXCI+e3sgXFxcInVybC5lcnJvcnMudmlkZW9cXFwiIHwgdHJhbnNsYXRlIH19PC9wPlxcblwiICtcclxuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJjaGVja2JveFxcXCIgbmctc2hvdz1cXFwiZm9yY2VkVmFsaWQgfHwgIXZhbGlkXFxcIj5cXG5cIiArXHJcbiAgICBcIiAgICA8bGFiZWw+XFxuXCIgK1xyXG4gICAgXCIgICAgICA8aW5wdXQgbmFtZT1cXFwidmFsaWRhdGUtdXJsXFxcIiBuZy1jbGljaz1cXFwiZG9WYWxpZGF0aW9uID0gIWRvVmFsaWRhdGlvblxcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiXFxuXCIgK1xyXG4gICAgXCIgICAgICAgICAgICAgdmFsdWU9XFxcInZhbGlkYXRlLXVybFxcXCI+IHt7XFxcInVybC52YWxpZGF0ZS5sYWJlbFxcXCIgfCB0cmFuc2xhdGV9fVxcblwiICtcclxuICAgIFwiICAgIDwvbGFiZWw+XFxuXCIgK1xyXG4gICAgXCIgIDwvZGl2PlxcblwiICtcclxuICAgIFwiPC9kaXY+XFxuXCIgK1xyXG4gICAgXCJcIik7XHJcbn1dKTtcclxufSkoKTtcclxuXHJcbi8qIGdsb2JhbCBXSURHRVRfU0VUVElOR1NfVUlfQ09ORklHICovXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmZvbnQtc2V0dGluZ1wiLCBbXHJcbiAgICAgIFwiYW5ndWxhckxvYWRcIixcclxuICAgICAgXCJ1aS50aW55bWNlXCIsXHJcbiAgICAgIFwicmlzZXZpc2lvbi5jb21tb24uaTE4blwiLFxyXG4gICAgICBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi51cmwtZmllbGRcIlxyXG4gICAgXSlcclxuICAgIC5kaXJlY3RpdmUoXCJmb250U2V0dGluZ1wiLCBbXCIkdGVtcGxhdGVDYWNoZVwiLCBcIiRsb2dcIiwgXCIkd2luZG93XCIsIFwiZ29vZ2xlRm9udExvYWRlclwiLFxyXG4gICAgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlLCAkbG9nLCAkd2luZG93LCBnb29nbGVGb250TG9hZGVyKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgcmVzdHJpY3Q6IFwiQUVcIixcclxuICAgICAgICBzY29wZToge1xyXG4gICAgICAgICAgZm9udERhdGE6IFwiPVwiLFxyXG4gICAgICAgICAgcHJldmlld1RleHQ6IFwiQFwiLFxyXG4gICAgICAgICAgdmVydGljYWxBbGlnbjogXCJAXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoXCJfYW5ndWxhci9mb250LXNldHRpbmcvZm9udC1zZXR0aW5nLmh0bWxcIiksXHJcbiAgICAgICAgdHJhbnNjbHVkZTogZmFsc2UsXHJcbiAgICAgICAgbGluazogZnVuY3Rpb24gKCRzY29wZSwgZWxlbWVudCkge1xyXG4gICAgICAgICAgdmFyICRlbGVtZW50ID0gJChlbGVtZW50KSxcclxuICAgICAgICAgICAgJGN1c3RvbUZvbnQgPSAkZWxlbWVudC5maW5kKFwiLmN1c3RvbS1mb250XCIpLFxyXG4gICAgICAgICAgICAkY3VzdG9tRm9udFNpemUgPSAkZWxlbWVudC5maW5kKFwiLmN1c3RvbS1mb250LXNpemVcIiksXHJcbiAgICAgICAgICAgIF9pc0xvYWRpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICRzY29wZS5nb29nbGVGb250TGlzdCA9IFwiXCI7XHJcblxyXG4gICAgICAgICAgJHNjb3BlLmRlZmF1bHRGb250ID0ge1xyXG4gICAgICAgICAgICBmb250OiB7XHJcbiAgICAgICAgICAgICAgZmFtaWx5OiBcInZlcmRhbmEsZ2VuZXZhLHNhbnMtc2VyaWZcIixcclxuICAgICAgICAgICAgICB0eXBlOiBcInN0YW5kYXJkXCIsXHJcbiAgICAgICAgICAgICAgdXJsOiBcIlwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNpemU6IFwiMjRweFwiLFxyXG4gICAgICAgICAgICBjdXN0b21TaXplOiBcIlwiLFxyXG4gICAgICAgICAgICBhbGlnbjogXCJsZWZ0XCIsXHJcbiAgICAgICAgICAgIHZlcnRpY2FsQWxpZ246IFwibWlkZGxlXCIsXHJcbiAgICAgICAgICAgIGJvbGQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBpdGFsaWM6IGZhbHNlLFxyXG4gICAgICAgICAgICB1bmRlcmxpbmU6IGZhbHNlLFxyXG4gICAgICAgICAgICBmb3JlY29sb3I6IFwiYmxhY2tcIixcclxuICAgICAgICAgICAgYmFja2NvbG9yOiBcInRyYW5zcGFyZW50XCJcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgLy8gTG9hZCBHb29nbGUgZm9udHMuXHJcbiAgICAgICAgICBnb29nbGVGb250TG9hZGVyLmdldEZvbnRzKCkudGhlbihmdW5jdGlvbihmb250cykge1xyXG4gICAgICAgICAgICAkc2NvcGUuZ29vZ2xlRm9udExpc3QgPSBmb250cztcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICRzY29wZS5jdXN0b21Gb250U2l6ZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgLy8gQXBwbHkgY3VzdG9tIGZvbnQgdG8gcHJldmlldyB0ZXh0LlxyXG4gICAgICAgICAgJHNjb3BlLmFwcGx5Q3VzdG9tRm9udCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgZmFtaWx5ID0gZ2V0Q3VzdG9tRm9udEZhbWlseSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGZhbWlseSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgIGxvYWRDdXN0b21Gb250KGZhbWlseSk7XHJcblxyXG4gICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5mb250LmZhbWlseSA9IGZhbWlseTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuZm9udC50eXBlID0gXCJjdXN0b21cIjtcclxuXHJcbiAgICAgICAgICAgICAgdXBkYXRlUHJldmlldygkc2NvcGUuZm9udERhdGEpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkY3VzdG9tRm9udC5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICRzY29wZS5hcHBseUN1c3RvbUZvbnRTaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICRjdXN0b21Gb250U2l6ZS5tb2RhbChcImhpZGVcIik7XHJcblxyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLmN1c3RvbUZvbnRTaXplICE9PSBudWxsICYmICRzY29wZS5jdXN0b21Gb250U2l6ZSA+PSA4KSB7XHJcblxyXG4gICAgICAgICAgICAgIGlmICgoJHNjb3BlLmN1c3RvbUZvbnRTaXplICsgXCJweFwiKSAhPT0gJHNjb3BlLmZvbnREYXRhLnNpemUpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5zaXplID0gJHNjb3BlLmN1c3RvbUZvbnRTaXplICsgXCJweFwiO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChXSURHRVRfU0VUVElOR1NfVUlfQ09ORklHLnNpemVzLmluZGV4T2YoJHNjb3BlLmZvbnREYXRhLnNpemUpICE9PSAtMSB8fFxyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuY3VzdG9tU2l6ZSA9PT0gJHNjb3BlLmZvbnREYXRhLnNpemUpIHtcclxuICAgICAgICAgICAgICAgICAgLy8gdGVsbCBlZGl0b3IgdG8gc2VsZWN0IHRoaXMgc2l6ZVxyXG4gICAgICAgICAgICAgICAgICAkd2luZG93LnRpbnltY2UuYWN0aXZlRWRpdG9yLmV4ZWNDb21tYW5kKFwiRm9udFNpemVcIiwgZmFsc2UsICRzY29wZS5mb250RGF0YS5zaXplKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAvLyBuZXcgY3VzdG9tIGZvbnQgc2l6ZSB0byBhZGRcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmN1c3RvbVNpemUgPSAkc2NvcGUuY3VzdG9tRm9udFNpemUgKyBcInB4XCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdmFsdWUgb2YgZm9udF9mb3JtYXRzXHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS50aW55bWNlT3B0aW9ucy5mb250c2l6ZV9mb3JtYXRzID0gXCJDdXN0b20gXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICgoJHNjb3BlLmZvbnREYXRhLmN1c3RvbVNpemUgIT09IFwiXCIpID8gJHNjb3BlLmZvbnREYXRhLmN1c3RvbVNpemUgKyBcIiBcIiA6IFwiXCIpICArXHJcbiAgICAgICAgICAgICAgICAgICAgV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRy5zaXplcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyByZXNldCBtb2RhbCBpbnB1dCBzaXplIHZhbHVlXHJcbiAgICAgICAgICAgICRzY29wZS5jdXN0b21Gb250U2l6ZSA9IG51bGw7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICRzY29wZS5kZWZhdWx0cyA9IGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgICAgICBpZiAob2JqKSB7XHJcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDEsIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgICBpZiAob2JqW3Byb3BdID09PSB2b2lkIDApIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmpbcHJvcF0gPSBzb3VyY2VbcHJvcF07XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgdmFyIHdhdGNoID0gJHNjb3BlLiR3YXRjaEdyb3VwKFtcImZvbnREYXRhXCIsXCJnb29nbGVGb250TGlzdFwiXSwgZnVuY3Rpb24obmV3VmFsdWVzKSB7XHJcbiAgICAgICAgICAgIHZhciBmYW1pbHkgPSBudWxsO1xyXG4gICAgICAgICAgICB2YXIgZm9udERhdGEgPSBuZXdWYWx1ZXNbMF07XHJcbiAgICAgICAgICAgIHZhciBnb29nbGVGb250TGlzdCA9IG5ld1ZhbHVlc1sxXTtcclxuICAgICAgICAgICAgaWYgKGZvbnREYXRhICYmIGdvb2dsZUZvbnRMaXN0KSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmRlZmF1bHRzKGZvbnREYXRhLCAkc2NvcGUuZGVmYXVsdEZvbnQpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBMb2FkIGN1c3RvbSBmb250LlxyXG4gICAgICAgICAgICAgIGlmICgkc2NvcGUuZm9udERhdGEuZm9udC51cmwpIHtcclxuICAgICAgICAgICAgICAgIGZhbWlseSA9IGdldEN1c3RvbUZvbnRGYW1pbHkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZmFtaWx5ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgIGxvYWRDdXN0b21Gb250KGZhbWlseSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICB1cGRhdGVQcmV2aWV3KGZvbnREYXRhKTtcclxuICAgICAgICAgICAgICBpbml0VGlueU1DRSgpO1xyXG4gICAgICAgICAgICAgIHdhdGNoKCk7XHJcblxyXG4gICAgICAgICAgICAgIGlmICgkc2NvcGUucHJldmlld1RleHQpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goXCJmb250RGF0YVwiLCB1cGRhdGVQcmV2aWV3LCB0cnVlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICRzY29wZS4kd2F0Y2goXCJ0aW55bWNlT3B0aW9ucy5mb250c2l6ZV9mb3JtYXRzXCIsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiICYmICFfaXNMb2FkaW5nKSB7XHJcbiAgICAgICAgICAgICAgLy8gbGV2ZXJhZ2UgdWktdGlueW1jZSB3b3JrYXJvdW5kIG9mIHJlZnJlc2hpbmcgZWRpdG9yXHJcbiAgICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoXCIkdGlueW1jZTpyZWZyZXNoXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAvLyBJbml0aWFsaXplIFRpbnlNQ0UuXHJcbiAgICAgICAgICBmdW5jdGlvbiBpbml0VGlueU1DRSgpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnRpbnltY2VPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgIGZvbnRfZm9ybWF0czogXCJVc2UgQ3VzdG9tIEZvbnQ9Y3VzdG9tO1wiICsgV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRy5mYW1pbGllcyArICRzY29wZS5nb29nbGVGb250TGlzdCxcclxuICAgICAgICAgICAgICBmb250c2l6ZV9mb3JtYXRzOiBcIkN1c3RvbSBcIiArXHJcbiAgICAgICAgICAgICAgICAoKCRzY29wZS5mb250RGF0YS5jdXN0b21TaXplICE9PSBcIlwiKSA/ICRzY29wZS5mb250RGF0YS5jdXN0b21TaXplICsgXCIgXCIgOiBcIlwiKSAgK1xyXG4gICAgICAgICAgICAgICAgV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRy5zaXplcyxcclxuICAgICAgICAgICAgICBtZW51YmFyOiBmYWxzZSxcclxuICAgICAgICAgICAgICBwbHVnaW5zOiBcInRleHRjb2xvciBjb2xvcnBpY2tlclwiLFxyXG4gICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgIFdoZW4gdGVzdGluZyB0aGlzIHZpYSBsb2NhbCBzZXJ2ZXIsIENPUlMgd2lsbCBiZSByZXF1aXJlZC4gSGFuZHkgQ09SUyBDaHJvbWUgZXh0ZW5zaW9uIGNhbiBiZSBmb3VuZCBoZXJlXHJcbiAgICAgICAgICAgICAgIGh0dHBzOi8vY2hyb21lLmdvb2dsZS5jb20vd2Vic3RvcmUvZGV0YWlsL2FsbG93LWNvbnRyb2wtYWxsb3ctb3JpZ2kvbmxmYm1ib2pwZWFjZmdoa3BiamhkZGlobGtraWxqYmk/aGw9ZW5cclxuICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICBza2luX3VybDogXCIvL3MzLmFtYXpvbmF3cy5jb20vcmlzZS1jb21tb24vc3R5bGVzL3RpbnltY2UvcmlzZVwiLFxyXG4gICAgICAgICAgICAgIHN0YXR1c2JhcjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgdG9vbGJhcjogXCJmb250c2VsZWN0IGZvbnRzaXplc2VsZWN0IHwgYWxpZ25sZWZ0IGFsaWduY2VudGVyIGFsaWducmlnaHQgYWxpZ25qdXN0aWZ5XCIgK1xyXG4gICAgICAgICAgICAgICgkc2NvcGUudmVydGljYWxBbGlnbiA/IFwiIGFsaWdudG9wIGFsaWdubWlkZGxlIGFsaWduYm90dG9tXCIgOiBcIlwiKSArXHJcbiAgICAgICAgICAgICAgXCIgfCBmb3JlY29sb3IgYmFja2NvbG9yIHwgYm9sZCBpdGFsaWMgdW5kZXJsaW5lXCIsXHJcbiAgICAgICAgICAgICAgc2V0dXA6IGZ1bmN0aW9uKGVkaXRvcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS52ZXJ0aWNhbEFsaWduKSB7XHJcbiAgICAgICAgICAgICAgICAgIGFkZFZlcnRpY2FsQWxpZ25CdXR0b25zKGVkaXRvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZWRpdG9yLm9uKFwiaW5pdFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgaW5pdFRvb2xiYXIoZWRpdG9yKTtcclxuICAgICAgICAgICAgICAgICAgX2lzTG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZWRpdG9yLm9uKFwiRXhlY0NvbW1hbmRcIiwgZnVuY3Rpb24oYXJncykge1xyXG4gICAgICAgICAgICAgICAgICBpbml0Q29tbWFuZHMoZWRpdG9yLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgaW5pdF9pbnN0YW5jZV9jYWxsYmFjazogZnVuY3Rpb24oZWRpdG9yKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2xkQXBwbHkgPSBlZGl0b3IuZm9ybWF0dGVyLmFwcGx5LFxyXG4gICAgICAgICAgICAgICAgICBvbGRSZW1vdmUgPSBlZGl0b3IuZm9ybWF0dGVyLnJlbW92ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBSZWZlcmVuY2UgLSBodHRwOi8vZ29vLmdsLzU1SWhXSVxyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmZvcm1hdHRlci5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5KG5hbWUsIHZhcnMsIG5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tbWFuZDogbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFycy52YWx1ZVxyXG4gICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgb2xkQXBwbHkobmFtZSwgdmFycywgbm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgIGVkaXRvci5maXJlKFwiRXhlY0NvbW1hbmRcIiwgYXJncyk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGVkaXRvci5mb3JtYXR0ZXIucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKG5hbWUsIHZhcnMsIG5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tbWFuZDogbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogKHZhcnMgJiYgdmFycy52YWx1ZSkgPyB2YXJzLnZhbHVlIDogbnVsbFxyXG4gICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgb2xkUmVtb3ZlKG5hbWUsIHZhcnMsIG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICBlZGl0b3IuZmlyZShcIkV4ZWNDb21tYW5kXCIsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gSW5pdGlhbGl6ZSBUaW55TUNFIHRvb2xiYXIuXHJcbiAgICAgICAgICBmdW5jdGlvbiBpbml0VG9vbGJhcihlZGl0b3IpIHtcclxuICAgICAgICAgICAgaWYgKCRzY29wZS5mb250RGF0YSkge1xyXG4gICAgICAgICAgICAgIC8vIEZvbnQgRmFtaWx5XHJcbiAgICAgICAgICAgICAgaWYgKCgkc2NvcGUuZm9udERhdGEuZm9udC50eXBlID09PSBcImN1c3RvbVwiKSAmJiAkc2NvcGUuZm9udERhdGEuZm9udC51cmwpIHtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZChcIkZvbnROYW1lXCIsIGZhbHNlLCBcImN1c3RvbVwiKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJGb250TmFtZVwiLCBmYWxzZSwgJHNjb3BlLmZvbnREYXRhLmZvbnQuZmFtaWx5KTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIC8vIEZvbnQgU2l6ZXNcclxuICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJGb250U2l6ZVwiLCBmYWxzZSwgJHNjb3BlLmZvbnREYXRhLnNpemUpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBBbGlnbm1lbnRcclxuICAgICAgICAgICAgICBzd2l0Y2goJHNjb3BlLmZvbnREYXRhLmFsaWduKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibGVmdFwiOlxyXG4gICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJKdXN0aWZ5TGVmdFwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImNlbnRlclwiOlxyXG4gICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJKdXN0aWZ5Q2VudGVyXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwicmlnaHRcIjpcclxuICAgICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKFwiSnVzdGlmeVJpZ2h0XCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwianVzdGlmeVwiOlxyXG4gICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJKdXN0aWZ5RnVsbFwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAvLyBWZXJ0aWNhbCBBbGlnbm1lbnRcclxuICAgICAgICAgICAgICBpZiAoJHNjb3BlLnZlcnRpY2FsQWxpZ24pIHtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZChcIm1jZVRvZ2dsZVZlcnRpY2FsXCIsIGZhbHNlLCAkc2NvcGUuZm9udERhdGEudmVydGljYWxBbGlnbik7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAvLyBDb2xvcnNcclxuICAgICAgICAgICAgICAkZWxlbWVudC5maW5kKFwiLm1jZS1jb2xvcmJ1dHRvblthcmlhLWxhYmVsPSdUZXh0IGNvbG9yJ10gc3BhblwiKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsICRzY29wZS5mb250RGF0YS5mb3JlY29sb3IpO1xyXG4gICAgICAgICAgICAgICRlbGVtZW50LmZpbmQoXCIubWNlLWNvbG9yYnV0dG9uW2FyaWEtbGFiZWw9J0JhY2tncm91bmQgY29sb3InXSBzcGFuXCIpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgJHNjb3BlLmZvbnREYXRhLmJhY2tjb2xvcik7XHJcblxyXG4gICAgICAgICAgICAgIC8vIEZvbnQgU3R5bGVcclxuICAgICAgICAgICAgICBpZiAoJHNjb3BlLmZvbnREYXRhLmJvbGQpIHtcclxuICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbigkZWxlbWVudC5maW5kKFwiLm1jZS1idG5bYXJpYS1sYWJlbD0nQm9sZCddXCIpKTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGlmICgkc2NvcGUuZm9udERhdGEuaXRhbGljKSB7XHJcbiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24oJGVsZW1lbnQuZmluZChcIi5tY2UtYnRuW2FyaWEtbGFiZWw9J0l0YWxpYyddXCIpKTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGlmICgkc2NvcGUuZm9udERhdGEudW5kZXJsaW5lKSB7XHJcbiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24oJGVsZW1lbnQuZmluZChcIi5tY2UtYnRuW2FyaWEtbGFiZWw9J1VuZGVybGluZSddXCIpKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBIYW5kbGUgdG9vbGJhciBpbnRlcmFjdGlvbnMuXHJcbiAgICAgICAgICBmdW5jdGlvbiBpbml0Q29tbWFuZHMoZWRpdG9yLCBhcmdzKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaChhcmdzLmNvbW1hbmQpIHtcclxuICAgICAgICAgICAgICBjYXNlIFwiRm9udE5hbWVcIjpcclxuICAgICAgICAgICAgICAgIGlmIChfaXNMb2FkaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFyZ3MudmFsdWUgPT09IFwiY3VzdG9tXCIpIHtcclxuICAgICAgICAgICAgICAgICAgJGN1c3RvbUZvbnQubW9kYWwoXCJzaG93XCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5mb250LmZhbWlseSA9IGFyZ3MudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5mb250LnR5cGUgPSBnZXRGb250VHlwZShhcmdzLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgY2FzZSBcIkZvbnRTaXplXCI6XHJcbiAgICAgICAgICAgICAgICBpZiAoX2lzTG9hZGluZykge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmdzLnZhbHVlID09PSBcIkN1c3RvbVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICRjdXN0b21Gb250U2l6ZS5tb2RhbChcInNob3dcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLnNpemUgPSBhcmdzLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICBjYXNlIFwiSnVzdGlmeUxlZnRcIjpcclxuICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5hbGlnbiA9IFwibGVmdFwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgIGNhc2UgXCJKdXN0aWZ5Q2VudGVyXCI6XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuYWxpZ24gPSBcImNlbnRlclwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgIGNhc2UgXCJKdXN0aWZ5UmlnaHRcIjpcclxuICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5hbGlnbiA9IFwicmlnaHRcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICBjYXNlIFwiSnVzdGlmeUZ1bGxcIjpcclxuICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5hbGlnbiA9IFwianVzdGlmeVwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgIGNhc2UgXCJtY2VUb2dnbGVWZXJ0aWNhbFwiOlxyXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgdG9nZ2xlVmVydGljYWxCdXR0b25zKGFyZ3MudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmZvbnREYXRhLnZlcnRpY2FsQWxpZ24gIT09IGFyZ3MudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b2dnbGVWZXJ0aWNhbEJ1dHRvbnMoJHNjb3BlLmZvbnREYXRhLnZlcnRpY2FsQWxpZ24pO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICB0b2dnbGVWZXJ0aWNhbEJ1dHRvbnMoJHNjb3BlLmRlZmF1bHRGb250LnZlcnRpY2FsQWxpZ24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS52ZXJ0aWNhbEFsaWduID0gKGFyZ3MudmFsdWUpID8gYXJncy52YWx1ZSA6ICRzY29wZS5kZWZhdWx0Rm9udC52ZXJ0aWNhbEFsaWduO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICBjYXNlIFwiZm9yZWNvbG9yXCI6XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuZm9yZWNvbG9yID0gKGFyZ3MudmFsdWUpID8gYXJncy52YWx1ZSA6ICRzY29wZS5kZWZhdWx0Rm9udC5mb3JlY29sb3I7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgY2FzZSBcImhpbGl0ZWNvbG9yXCI6XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuYmFja2NvbG9yID0gKGFyZ3MudmFsdWUpID8gYXJncy52YWx1ZSA6ICRzY29wZS5kZWZhdWx0Rm9udC5iYWNrY29sb3I7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgY2FzZSBcIm1jZVRvZ2dsZUZvcm1hdFwiOlxyXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MudmFsdWUgPT09IFwiYm9sZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5ib2xkID0gISRzY29wZS5mb250RGF0YS5ib2xkO1xyXG4gICAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24oJGVsZW1lbnQuZmluZChcIi5tY2UtYnRuW2FyaWEtbGFiZWw9J0JvbGQnXVwiKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmdzLnZhbHVlID09PSBcIml0YWxpY1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5pdGFsaWMgPSAhJHNjb3BlLmZvbnREYXRhLml0YWxpYztcclxuICAgICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uKCRlbGVtZW50LmZpbmQoXCIubWNlLWJ0blthcmlhLWxhYmVsPSdJdGFsaWMnXVwiKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmdzLnZhbHVlID09PSBcInVuZGVybGluZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS51bmRlcmxpbmUgPSAhJHNjb3BlLmZvbnREYXRhLnVuZGVybGluZTtcclxuICAgICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uKCRlbGVtZW50LmZpbmQoXCIubWNlLWJ0blthcmlhLWxhYmVsPSdVbmRlcmxpbmUnXVwiKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB1cGRhdGVQcmV2aWV3KCRzY29wZS5mb250RGF0YSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZnVuY3Rpb24gdG9nZ2xlQnV0dG9uKCRidG4pIHtcclxuICAgICAgICAgICAgJGJ0bi50b2dnbGVDbGFzcyhcIm1jZS1hY3RpdmVcIik7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gU3R5bGUgdGhlIHByZXZpZXcgdGV4dC5cclxuICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVByZXZpZXcoZm9udERhdGEpIHtcclxuICAgICAgICAgICAgdmFyICR0ZXh0Q29udGFpbmVyID0gJGVsZW1lbnQuZmluZChcIi50ZXh0LWNvbnRhaW5lclwiKSxcclxuICAgICAgICAgICAgICAkdGV4dCA9ICRlbGVtZW50LmZpbmQoXCIudGV4dFwiKTtcclxuXHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUucHJldmlld1RleHQgJiYgZm9udERhdGEpIHtcclxuICAgICAgICAgICAgICAkdGV4dC5jc3MoXCJmb250RmFtaWx5XCIsIGZvbnREYXRhLmZvbnQuZmFtaWx5KTtcclxuICAgICAgICAgICAgICAkdGV4dC5jc3MoXCJmb250U2l6ZVwiLCBmb250RGF0YS5zaXplKTtcclxuICAgICAgICAgICAgICAkdGV4dC5jc3MoXCJmb250V2VpZ2h0XCIsIGZvbnREYXRhLmJvbGQgPyBcImJvbGRcIiA6IFwibm9ybWFsXCIpO1xyXG4gICAgICAgICAgICAgICR0ZXh0LmNzcyhcImZvbnRTdHlsZVwiLCBmb250RGF0YS5pdGFsaWMgPyBcIml0YWxpY1wiIDogXCJub3JtYWxcIik7XHJcbiAgICAgICAgICAgICAgJHRleHQuY3NzKFwidGV4dERlY29yYXRpb25cIiwgZm9udERhdGEudW5kZXJsaW5lID8gXCJ1bmRlcmxpbmVcIiA6IFwibm9uZVwiKTtcclxuICAgICAgICAgICAgICAkdGV4dC5jc3MoXCJjb2xvclwiLCBmb250RGF0YS5mb3JlY29sb3IpO1xyXG4gICAgICAgICAgICAgICR0ZXh0LmNzcyhcImJhY2tncm91bmRDb2xvclwiLCBmb250RGF0YS5iYWNrY29sb3IpO1xyXG4gICAgICAgICAgICAgICR0ZXh0Q29udGFpbmVyLmNzcyhcInRleHRBbGlnblwiLCBmb250RGF0YS5hbGlnbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBEZXRlcm1pbmUgd2hhdCB0eXBlIG9mIGZvbnQgdGhpcyBpcyAoc3RhbmRhcmQgb3IgZ29vZ2xlKS5cclxuICAgICAgICAgIGZ1bmN0aW9uIGdldEZvbnRUeXBlKGZhbWlseSkge1xyXG4gICAgICAgICAgICBpZiAoV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRy5mYW1pbGllcy5pbmRleE9mKGZhbWlseSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIFwic3RhbmRhcmRcIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCRzY29wZS5nb29nbGVGb250TGlzdC5pbmRleE9mKGZhbWlseSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIFwiZ29vZ2xlXCI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBcImN1c3RvbVwiO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIEV4dHJhY3QgZm9udCBuYW1lIGZyb20gZm9udCBVUkwuXHJcbiAgICAgICAgICBmdW5jdGlvbiBnZXRDdXN0b21Gb250RmFtaWx5KCkge1xyXG4gICAgICAgICAgICB2YXIgZmFtaWx5ID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuZm9udERhdGEuZm9udC51cmwpIHtcclxuICAgICAgICAgICAgICAvLyBkZWNvZGUgZXNjYXBlIHNlcXVlbmNlcyB0byBhY2NvdW50IGZvciBzcGFjZXMgaW4gZm9udCBuYW1lXHJcbiAgICAgICAgICAgICAgZmFtaWx5ID0gZGVjb2RlVVJJKCRzY29wZS5mb250RGF0YS5mb250LnVybC50cmltKCkpO1xyXG4gICAgICAgICAgICAgIHJldHVybiBmYW1pbHkuc3BsaXQoXCIvXCIpLnBvcCgpLnNwbGl0KFwiLlwiKVswXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gTG9hZCBhIGN1c3RvbSBmb250LlxyXG4gICAgICAgICAgZnVuY3Rpb24gbG9hZEN1c3RvbUZvbnQoZmFtaWx5KSB7XHJcbiAgICAgICAgICAgIHZhciBzaGVldCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgdXJsID0gJC50cmltKCRzY29wZS5mb250RGF0YS5mb250LnVybCksXHJcbiAgICAgICAgICAgICAgcnVsZSA9IFwiZm9udC1mYW1pbHk6IFwiICsgZmFtaWx5ICsgXCI7IFwiICsgXCJzcmM6IHVybCgnXCIgKyB1cmwgKyBcIicpO1wiO1xyXG5cclxuICAgICAgICAgICAgc2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzaGVldCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgIHNoZWV0LmFkZFJ1bGUoXCJAZm9udC1mYWNlXCIsIHJ1bGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZnVuY3Rpb24gYWRkVmVydGljYWxBbGlnbkJ1dHRvbnMoZWRpdG9yKSB7XHJcbiAgICAgICAgICAgIGVkaXRvci5hZGRCdXR0b24oXCJhbGlnbnRvcFwiLCB7XHJcbiAgICAgICAgICAgICAgaW1hZ2U6IFwiLy9zMy5hbWF6b25hd3MuY29tL1Jpc2UtSW1hZ2VzL0ljb25zL2FsaWduLXRvcC5zdmdcIixcclxuICAgICAgICAgICAgICB0b29sdGlwOiBcIkFsaWduIFRvcFwiLFxyXG4gICAgICAgICAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZChcIm1jZVRvZ2dsZVZlcnRpY2FsXCIsIGZhbHNlLCBcInRvcFwiKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZWRpdG9yLmFkZEJ1dHRvbihcImFsaWdubWlkZGxlXCIsIHtcclxuICAgICAgICAgICAgICBpbWFnZTogXCIvL3MzLmFtYXpvbmF3cy5jb20vUmlzZS1JbWFnZXMvSWNvbnMvYWxpZ24tdmVydGljYWwtbWlkZGxlLnN2Z1wiLFxyXG4gICAgICAgICAgICAgIHRvb2x0aXA6IFwiQWxpZ24gTWlkZGxlXCIsXHJcbiAgICAgICAgICAgICAgb25jbGljazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKFwibWNlVG9nZ2xlVmVydGljYWxcIiwgZmFsc2UsIFwibWlkZGxlXCIpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBlZGl0b3IuYWRkQnV0dG9uKFwiYWxpZ25ib3R0b21cIiwge1xyXG4gICAgICAgICAgICAgIGltYWdlOiBcIi8vczMuYW1hem9uYXdzLmNvbS9SaXNlLUltYWdlcy9JY29ucy9hbGlnbi1ib3R0b20uc3ZnXCIsXHJcbiAgICAgICAgICAgICAgdG9vbHRpcDogXCJBbGlnbiBCb3R0b21cIixcclxuICAgICAgICAgICAgICBvbmNsaWNrOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJtY2VUb2dnbGVWZXJ0aWNhbFwiLCBmYWxzZSwgXCJib3R0b21cIik7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGVkaXRvci5hZGRDb21tYW5kKFwibWNlVG9nZ2xlVmVydGljYWxcIiwgZnVuY3Rpb24gKCkge30pO1xyXG5cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBmdW5jdGlvbiB0b2dnbGVWZXJ0aWNhbEJ1dHRvbnModmFsdWUpIHtcclxuICAgICAgICAgICAgc3dpdGNoKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgY2FzZSBcInRvcFwiOlxyXG4gICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uKCRlbGVtZW50LmZpbmQoXCIubWNlLWJ0blthcmlhLWxhYmVsPSdBbGlnbiBUb3AnXVwiKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICBjYXNlIFwibWlkZGxlXCI6XHJcbiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24oJGVsZW1lbnQuZmluZChcIi5tY2UtYnRuW2FyaWEtbGFiZWw9J0FsaWduIE1pZGRsZSddXCIpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgIGNhc2UgXCJib3R0b21cIjpcclxuICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbigkZWxlbWVudC5maW5kKFwiLm1jZS1idG5bYXJpYS1sYWJlbD0nQWxpZ24gQm90dG9tJ11cIikpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfV0pO1xyXG59KCkpO1xyXG5cclxuKGZ1bmN0aW9uICgpIHtcclxuICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZm9udC1zZXR0aW5nXCIpXHJcbiAgICAuZmFjdG9yeShcImdvb2dsZUZvbnRMb2FkZXJcIiwgW1wiJGh0dHBcIiwgXCJhbmd1bGFyTG9hZFwiLCBmdW5jdGlvbigkaHR0cCwgYW5ndWxhckxvYWQpIHtcclxuXHJcbiAgICB2YXIgZm9udHNBcGkgPSBcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3dlYmZvbnRzL3YxL3dlYmZvbnRzP2tleT1BSXphU3lCWHhWS19JT1Y3TE5RTXVWVm9fbDdadk41M2VqTjg2ellcIixcclxuICAgICAgZm9udEJhc2VVcmwgPSBcIi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1cIixcclxuICAgICAgZXhjbHVkZSA9IFtcIkJ1ZGFcIiwgXCJDb2RhIENhcHRpb25cIiwgXCJPcGVuIFNhbnMgQ29uZGVuc2VkXCIsIFwiVW5pZnJha3R1ckNvb2tcIiwgXCJNb2xsZVwiXSxcclxuICAgICAgZmFsbGJhY2sgPSBcIixzYW5zLXNlcmlmO1wiLFxyXG4gICAgICBmYWN0b3J5ID0ge307XHJcblxyXG4gICAgZmFjdG9yeS5nZXRGb250cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGZvbnRzQXBpLCB7IGNhY2hlOiB0cnVlIH0pXHJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgIHZhciBmYW1pbHkgPSBcIlwiLCBmb250cyA9IFwiXCIsIHNwYWNlcyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEuaXRlbXMpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLml0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgZmFtaWx5ID0gcmVzcG9uc2UuZGF0YS5pdGVtc1tpXS5mYW1pbHk7XHJcblxyXG4gICAgICAgICAgICAgIGlmIChleGNsdWRlLmluZGV4T2YoZmFtaWx5KSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXJMb2FkLmxvYWRDU1MoZm9udEJhc2VVcmwgKyBmYW1pbHkpLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIEZvbnQgbG9hZGVkLlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgZm9yIHNwYWNlcyBpbiBmYW1pbHkgbmFtZVxyXG4gICAgICAgICAgICAgICAgaWYgKC9cXHMvLnRlc3QoZmFtaWx5KSkge1xyXG4gICAgICAgICAgICAgICAgICBzcGFjZXMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzcGFjZXMpIHtcclxuICAgICAgICAgICAgICAgICAgLy8gd3JhcCBmYW1pbHkgbmFtZSBpbiBzaW5nbGUgcXVvdGVzXHJcbiAgICAgICAgICAgICAgICAgIGZvbnRzICs9IGZhbWlseSArIFwiPSdcIiArIGZhbWlseSArIFwiJ1wiICsgZmFsbGJhY2s7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgZm9udHMgKz0gZmFtaWx5ICsgXCI9XCIgKyBmYW1pbHkgKyBmYWxsYmFjaztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIGZvbnRzO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gZmFjdG9yeTtcclxuICB9XSk7XHJcbn0oKSk7XHJcblxyXG4oZnVuY3Rpb24obW9kdWxlKSB7XHJcbnRyeSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmZvbnQtc2V0dGluZ1wiKTsgfVxyXG5jYXRjaChlcnIpIHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZm9udC1zZXR0aW5nXCIsIFtdKTsgfVxyXG5tb2R1bGUucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XHJcbiAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwiX2FuZ3VsYXIvZm9udC1zZXR0aW5nL2ZvbnQtc2V0dGluZy5odG1sXCIsXHJcbiAgICBcIjxkaXYgY2xhc3M9XFxcImZvbnQtc2V0dGluZ1xcXCI+XFxuXCIgK1xyXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyXFxcIj5cXG5cIiArXHJcbiAgICBcIiAgICAgIDxkaXYgbmctY2xhc3M9XFxcInsnZm9ybS1ncm91cCc6ICFwcmV2aWV3VGV4dH1cXFwiPlxcblwiICtcclxuICAgIFwiICAgICAgICA8dGV4dGFyZWEgdWktdGlueW1jZT1cXFwidGlueW1jZU9wdGlvbnNcXFwiIG5nLW1vZGVsPVxcXCJ0aW55bWNlTW9kZWxcXFwiIG5nLWlmPVxcXCJ0aW55bWNlT3B0aW9uc1xcXCI+PC90ZXh0YXJlYT5cXG5cIiArXHJcbiAgICBcIiAgICAgIDwvZGl2PlxcblwiICtcclxuICAgIFwiICAgIDwvZGl2PlxcblwiICtcclxuICAgIFwiICA8L2Rpdj5cXG5cIiArXHJcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicm93XFxcIiBuZy1pZj1cXFwicHJldmlld1RleHRcXFwiPlxcblwiICtcclxuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgICA8ZGl2IGNsYXNzPVxcXCJ0ZXh0LWNvbnRhaW5lciBmb3JtLWdyb3VwXFxcIj5cXG5cIiArXHJcbiAgICBcIiAgICAgICAgPHNwYW4gY2xhc3M9XFxcInRleHRcXFwiPnt7cHJldmlld1RleHR9fTwvc3Bhbj5cXG5cIiArXHJcbiAgICBcIiAgICAgIDwvZGl2PlxcblwiICtcclxuICAgIFwiICAgIDwvZGl2PlxcblwiICtcclxuICAgIFwiICA8L2Rpdj5cXG5cIiArXHJcbiAgICBcIlxcblwiICtcclxuICAgIFwiICA8IS0tIEN1c3RvbSBGb250IC0tPlxcblwiICtcclxuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJjdXN0b20tZm9udCBtb2RhbFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiByb2xlPVxcXCJkaWFsb2dcXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBkYXRhLWJhY2tkcm9wPVxcXCJmYWxzZVxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtZGlhbG9nXFxcIj5cXG5cIiArXHJcbiAgICBcIiAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWNvbnRlbnRcXFwiPlxcblwiICtcclxuICAgIFwiXFxuXCIgK1xyXG4gICAgXCIgICAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWhlYWRlclxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtdGltZXMgaGFsZi10b3BcXFwiPjwvaT5cXG5cIiArXHJcbiAgICBcIiAgICAgICAgICA8L2J1dHRvbj5cXG5cIiArXHJcbiAgICBcIiAgICAgICAgICA8aDIgY2xhc3M9XFxcIm1vZGFsLXRpdGxlXFxcIj57e1xcXCJmb250LXNldHRpbmcuY3VzdG9tLWZvbnRcXFwiIHwgdHJhbnNsYXRlfX08L2gyPlxcblwiICtcclxuICAgIFwiICAgICAgICA8L2Rpdj5cXG5cIiArXHJcbiAgICBcIlxcblwiICtcclxuICAgIFwiICAgICAgICA8Zm9ybSByb2xlPVxcXCJmb3JtXFxcIiBuYW1lPVxcXCJjdXN0b21Gb250Rm9ybVxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtYm9keVxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgICAgICA8dXJsLWZpZWxkIHVybD1cXFwiZm9udERhdGEuZm9udC51cmxcXFwiIG5nLW1vZGVsPVxcXCJjdXN0b21Gb250XFxcIiBpbml0LWVtcHR5PjwvdXJsLWZpZWxkPlxcblwiICtcclxuICAgIFwiICAgICAgICAgIDwvZGl2PlxcblwiICtcclxuICAgIFwiXFxuXCIgK1xyXG4gICAgXCIgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtZm9vdGVyXFxcIj5cXG5cIiArXHJcbiAgICBcIiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwic2VsZWN0IGJ0biBidG4tcHJpbWFyeSBidG4tZml4ZWQtd2lkdGhcXFwiIG5nLWNsaWNrPVxcXCJhcHBseUN1c3RvbUZvbnQoKVxcXCIgbmctZGlzYWJsZWQ9XFxcImN1c3RvbUZvbnRGb3JtLiRpbnZhbGlkXFxcIj5cXG5cIiArXHJcbiAgICBcIiAgICAgICAgICAgICAgPHNwYW4+e3tcXFwiY29tbW9uLnNlbGVjdFxcXCIgfCB0cmFuc2xhdGV9fTwvc3Bhbj5cXG5cIiArXHJcbiAgICBcIiAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXdoaXRlIGZhLWNoZWNrIGljb24tcmlnaHRcXFwiPjwvaT5cXG5cIiArXHJcbiAgICBcIiAgICAgICAgICAgIDwvYnV0dG9uPlxcblwiICtcclxuICAgIFwiICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjYW5jZWwgYnRuIGJ0bi1kZWZhdWx0IGJ0bi1maXhlZC13aWR0aFxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgICAgICAgIDxzcGFuPnt7XFxcImNvbW1vbi5jYW5jZWxcXFwiIHwgdHJhbnNsYXRlfX08L3NwYW4+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS13aGl0ZSBmYS10aW1lcyBpY29uLXJpZ2h0XFxcIj48L2k+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgICAgICA8L2J1dHRvbj5cXG5cIiArXHJcbiAgICBcIiAgICAgICAgICA8L2Rpdj5cXG5cIiArXHJcbiAgICBcIiAgICAgICAgPC9mb3JtPlxcblwiICtcclxuICAgIFwiXFxuXCIgK1xyXG4gICAgXCIgICAgICA8L2Rpdj5cXG5cIiArXHJcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXHJcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xyXG4gICAgXCJcXG5cIiArXHJcbiAgICBcIiAgPCEtLSBDdXN0b20gRm9udCBTaXplIC0tPlxcblwiICtcclxuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJjdXN0b20tZm9udC1zaXplIG1vZGFsXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiIHJvbGU9XFxcImRpYWxvZ1xcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGRhdGEtYmFja2Ryb3A9XFxcImZhbHNlXFxcIj5cXG5cIiArXHJcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1kaWFsb2dcXFwiPlxcblwiICtcclxuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtY29udGVudFxcXCI+XFxuXCIgK1xyXG4gICAgXCJcXG5cIiArXHJcbiAgICBcIiAgICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtaGVhZGVyXFxcIj5cXG5cIiArXHJcbiAgICBcIiAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIj5cXG5cIiArXHJcbiAgICBcIiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS10aW1lcyBoYWxmLXRvcFxcXCI+PC9pPlxcblwiICtcclxuICAgIFwiICAgICAgICAgIDwvYnV0dG9uPlxcblwiICtcclxuICAgIFwiICAgICAgICAgIDxoMiBjbGFzcz1cXFwibW9kYWwtdGl0bGVcXFwiPnt7XFxcImZvbnQtc2V0dGluZy5jdXN0b20tZm9udC1zaXplXFxcIiB8IHRyYW5zbGF0ZX19PC9oMj5cXG5cIiArXHJcbiAgICBcIiAgICAgICAgPC9kaXY+XFxuXCIgK1xyXG4gICAgXCJcXG5cIiArXHJcbiAgICBcIiAgICAgICAgPGZvcm0gcm9sZT1cXFwiZm9ybVxcXCIgbmFtZT1cXFwiY3VzdG9tRm9udFNpemVGb3JtXFxcIj5cXG5cIiArXHJcbiAgICBcIiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG5cIiArXHJcbiAgICBcIiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0zXFxcIj5cXG5cIiArXHJcbiAgICBcIiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cFxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwibnVtYmVyXFxcIiBuZy1tb2RlbD1cXFwiY3VzdG9tRm9udFNpemVcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIC8+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYWRkb25cXFwiPnt7J2NvbW1vbi51bml0cy5waXhlbHMnIHwgdHJhbnNsYXRlfX08L3NwYW4+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgICAgICAgICAgPC9kaXY+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgICAgICAgIDwvZGl2PlxcblwiICtcclxuICAgIFwiICAgICAgICAgICAgPC9kaXY+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgICAgPC9kaXY+XFxuXCIgK1xyXG4gICAgXCJcXG5cIiArXHJcbiAgICBcIiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPlxcblwiICtcclxuICAgIFwiICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJzZWxlY3QgYnRuIGJ0bi1wcmltYXJ5IGJ0bi1maXhlZC13aWR0aFxcXCIgbmctY2xpY2s9XFxcImFwcGx5Q3VzdG9tRm9udFNpemUoKVxcXCIgbmctZGlzYWJsZWQ9XFxcImN1c3RvbUZvbnRTaXplRm9ybS4kaW52YWxpZFxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgICAgICAgIDxzcGFuPnt7XFxcImNvbW1vbi5zZWxlY3RcXFwiIHwgdHJhbnNsYXRlfX08L3NwYW4+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS13aGl0ZSBmYS1jaGVjayBpY29uLXJpZ2h0XFxcIj48L2k+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgICAgICA8L2J1dHRvbj5cXG5cIiArXHJcbiAgICBcIiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiY2FuY2VsIGJ0biBidG4tZGVmYXVsdCBidG4tZml4ZWQtd2lkdGhcXFwiIGRhdGEtZGlzbWlzcz1cXFwibW9kYWxcXFwiPlxcblwiICtcclxuICAgIFwiICAgICAgICAgICAgICA8c3Bhbj57e1xcXCJjb21tb24uY2FuY2VsXFxcIiB8IHRyYW5zbGF0ZX19PC9zcGFuPlxcblwiICtcclxuICAgIFwiICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtd2hpdGUgZmEtdGltZXMgaWNvbi1yaWdodFxcXCI+PC9pPlxcblwiICtcclxuICAgIFwiICAgICAgICAgICAgPC9idXR0b24+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgICAgPC9kaXY+XFxuXCIgK1xyXG4gICAgXCIgICAgICAgIDwvZm9ybT5cXG5cIiArXHJcbiAgICBcIlxcblwiICtcclxuICAgIFwiICAgICAgPC9kaXY+XFxuXCIgK1xyXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xyXG4gICAgXCIgIDwvZGl2PlxcblwiICtcclxuICAgIFwiPC9kaXY+XFxuXCIgK1xyXG4gICAgXCJcIik7XHJcbn1dKTtcclxufSkoKTtcclxuXHJcbi8qKlxyXG4gKiBCaW5kcyBhIFRpbnlNQ0Ugd2lkZ2V0IHRvIDx0ZXh0YXJlYT4gZWxlbWVudHMuXHJcbiAqL1xyXG5hbmd1bGFyLm1vZHVsZSgndWkudGlueW1jZScsIFtdKVxyXG4gIC52YWx1ZSgndWlUaW55bWNlQ29uZmlnJywge30pXHJcbiAgLmRpcmVjdGl2ZSgndWlUaW55bWNlJywgWyckcm9vdFNjb3BlJywgJyRjb21waWxlJywgJyR0aW1lb3V0JywgJyR3aW5kb3cnLCAnJHNjZScsICd1aVRpbnltY2VDb25maWcnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkY29tcGlsZSwgJHRpbWVvdXQsICR3aW5kb3csICRzY2UsIHVpVGlueW1jZUNvbmZpZykge1xyXG4gICAgdWlUaW55bWNlQ29uZmlnID0gdWlUaW55bWNlQ29uZmlnIHx8IHt9O1xyXG4gICAgdmFyIGdlbmVyYXRlZElkcyA9IDA7XHJcbiAgICB2YXIgSURfQVRUUiA9ICd1aS10aW55bWNlJztcclxuICAgIGlmICh1aVRpbnltY2VDb25maWcuYmFzZVVybCkge1xyXG4gICAgICB0aW55bWNlLmJhc2VVUkwgPSB1aVRpbnltY2VDb25maWcuYmFzZVVybDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXF1aXJlOiBbJ25nTW9kZWwnLCAnXj9mb3JtJ10sXHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcclxuICAgICAgICBpZiAoISR3aW5kb3cudGlueW1jZSkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG5nTW9kZWwgPSBjdHJsc1swXSxcclxuICAgICAgICAgIGZvcm0gPSBjdHJsc1sxXSB8fCBudWxsO1xyXG5cclxuICAgICAgICB2YXIgZXhwcmVzc2lvbiwgb3B0aW9ucyA9IHt9LCB0aW55SW5zdGFuY2UsXHJcbiAgICAgICAgICB1cGRhdGVWaWV3ID0gZnVuY3Rpb24oZWRpdG9yKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gZWRpdG9yLmdldENvbnRlbnQoe2Zvcm1hdDogb3B0aW9ucy5mb3JtYXR9KS50cmltKCk7XHJcbiAgICAgICAgICAgIGNvbnRlbnQgPSAkc2NlLnRydXN0QXNIdG1sKGNvbnRlbnQpO1xyXG5cclxuICAgICAgICAgICAgbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xyXG4gICAgICAgICAgICAgIHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiB0b2dnbGVEaXNhYmxlKGRpc2FibGVkKSB7XHJcbiAgICAgICAgICBpZiAoZGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgZW5zdXJlSW5zdGFuY2UoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aW55SW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICB0aW55SW5zdGFuY2UuZ2V0Qm9keSgpLnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlbnN1cmVJbnN0YW5jZSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRpbnlJbnN0YW5jZSAmJiAhdGlueUluc3RhbmNlLnNldHRpbmdzLnJlYWRvbmx5KSB7XHJcbiAgICAgICAgICAgICAgdGlueUluc3RhbmNlLmdldEJvZHkoKS5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBnZW5lcmF0ZSBhbiBJRFxyXG4gICAgICAgIGF0dHJzLiRzZXQoJ2lkJywgSURfQVRUUiArICctJyArIGdlbmVyYXRlZElkcysrKTtcclxuXHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IHt9O1xyXG5cclxuICAgICAgICBhbmd1bGFyLmV4dGVuZChleHByZXNzaW9uLCBzY29wZS4kZXZhbChhdHRycy51aVRpbnltY2UpKTtcclxuXHJcbiAgICAgICAgdmFyIHNldHVwT3B0aW9ucyA9IHtcclxuICAgICAgICAgIC8vIFVwZGF0ZSBtb2RlbCB3aGVuIGNhbGxpbmcgc2V0Q29udGVudFxyXG4gICAgICAgICAgLy8gKHN1Y2ggYXMgZnJvbSB0aGUgc291cmNlIGVkaXRvciBwb3B1cClcclxuICAgICAgICAgIHNldHVwOiBmdW5jdGlvbihlZCkge1xyXG4gICAgICAgICAgICBlZC5vbignaW5pdCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIG5nTW9kZWwuJHJlbmRlcigpO1xyXG4gICAgICAgICAgICAgIG5nTW9kZWwuJHNldFByaXN0aW5lKCk7XHJcbiAgICAgICAgICAgICAgaWYgKGZvcm0pIHtcclxuICAgICAgICAgICAgICAgIGZvcm0uJHNldFByaXN0aW5lKCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBtb2RlbCBvbiBidXR0b24gY2xpY2tcclxuICAgICAgICAgICAgZWQub24oJ0V4ZWNDb21tYW5kJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgZWQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgIHVwZGF0ZVZpZXcoZWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBtb2RlbCBvbiBjaGFuZ2VcclxuICAgICAgICAgICAgZWQub24oJ2NoYW5nZSBOb2RlQ2hhbmdlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgZWQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgIHVwZGF0ZVZpZXcoZWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGVkLm9uKCdibHVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgZWxlbWVudFswXS5ibHVyKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIG1vZGVsIHdoZW4gYW4gb2JqZWN0IGhhcyBiZWVuIHJlc2l6ZWQgKHRhYmxlLCBpbWFnZSlcclxuICAgICAgICAgICAgZWQub24oJ09iamVjdFJlc2l6ZWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBlZC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgdXBkYXRlVmlldyhlZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZWQub24oJ3JlbW92ZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKGV4cHJlc3Npb24uc2V0dXApIHtcclxuICAgICAgICAgICAgICBleHByZXNzaW9uLnNldHVwKGVkLCB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVWaWV3OiB1cGRhdGVWaWV3XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBmb3JtYXQ6IGV4cHJlc3Npb24uZm9ybWF0IHx8ICdodG1sJyxcclxuICAgICAgICAgIHNlbGVjdG9yOiAnIycgKyBhdHRycy5pZFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gZXh0ZW5kIG9wdGlvbnMgd2l0aCBpbml0aWFsIHVpVGlueW1jZUNvbmZpZyBhbmRcclxuICAgICAgICAvLyBvcHRpb25zIGZyb20gZGlyZWN0aXZlIGF0dHJpYnV0ZSB2YWx1ZVxyXG4gICAgICAgIGFuZ3VsYXIuZXh0ZW5kKG9wdGlvbnMsIHVpVGlueW1jZUNvbmZpZywgZXhwcmVzc2lvbiwgc2V0dXBPcHRpb25zKTtcclxuICAgICAgICAvLyBXcmFwcGVkIGluICR0aW1lb3V0IGR1ZSB0byAkdGlueW1jZTpyZWZyZXNoIGltcGxlbWVudGF0aW9uLCByZXF1aXJlc1xyXG4gICAgICAgIC8vIGVsZW1lbnQgdG8gYmUgcHJlc2VudCBpbiBET00gYmVmb3JlIGluc3RhbnRpYXRpbmcgZWRpdG9yIHdoZW5cclxuICAgICAgICAvLyByZS1yZW5kZXJpbmcgZGlyZWN0aXZlXHJcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAob3B0aW9ucy5iYXNlVVJMKXtcclxuICAgICAgICAgICAgdGlueW1jZS5iYXNlVVJMID0gb3B0aW9ucy5iYXNlVVJMOyAgICAgICAgICAgIFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGlueW1jZS5pbml0KG9wdGlvbnMpO1xyXG4gICAgICAgICAgdG9nZ2xlRGlzYWJsZShzY29wZS4kZXZhbChhdHRycy5uZ0Rpc2FibGVkKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG5nTW9kZWwuJGZvcm1hdHRlcnMudW5zaGlmdChmdW5jdGlvbihtb2RlbFZhbHVlKSB7XHJcbiAgICAgICAgICByZXR1cm4gbW9kZWxWYWx1ZSA/ICRzY2UudHJ1c3RBc0h0bWwobW9kZWxWYWx1ZSkgOiAnJztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbmdNb2RlbC4kcGFyc2Vycy51bnNoaWZ0KGZ1bmN0aW9uKHZpZXdWYWx1ZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHZpZXdWYWx1ZSA/ICRzY2UuZ2V0VHJ1c3RlZEh0bWwodmlld1ZhbHVlKSA6ICcnO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBuZ01vZGVsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGVuc3VyZUluc3RhbmNlKCk7XHJcblxyXG4gICAgICAgICAgdmFyIHZpZXdWYWx1ZSA9IG5nTW9kZWwuJHZpZXdWYWx1ZSA/XHJcbiAgICAgICAgICAgICRzY2UuZ2V0VHJ1c3RlZEh0bWwobmdNb2RlbC4kdmlld1ZhbHVlKSA6ICcnO1xyXG5cclxuICAgICAgICAgIC8vIGluc3RhbmNlLmdldERvYygpIGNoZWNrIGlzIGEgZ3VhcmQgYWdhaW5zdCBudWxsIHZhbHVlXHJcbiAgICAgICAgICAvLyB3aGVuIGRlc3RydWN0aW9uICYgcmVjcmVhdGlvbiBvZiBpbnN0YW5jZXMgaGFwcGVuXHJcbiAgICAgICAgICBpZiAodGlueUluc3RhbmNlICYmXHJcbiAgICAgICAgICAgIHRpbnlJbnN0YW5jZS5nZXREb2MoKVxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHRpbnlJbnN0YW5jZS5zZXRDb250ZW50KHZpZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgIC8vIFRyaWdnZXJpbmcgY2hhbmdlIGV2ZW50IGR1ZSB0byBUaW55TUNFIG5vdCBmaXJpbmcgZXZlbnQgJlxyXG4gICAgICAgICAgICAvLyBiZWNvbWluZyBvdXQgb2Ygc3luYyBmb3IgY2hhbmdlIGNhbGxiYWNrc1xyXG4gICAgICAgICAgICB0aW55SW5zdGFuY2UuZmlyZSgnY2hhbmdlJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYXR0cnMuJG9ic2VydmUoJ2Rpc2FibGVkJywgdG9nZ2xlRGlzYWJsZSk7XHJcblxyXG4gICAgICAgIC8vIFRoaXMgYmxvY2sgaXMgYmVjYXVzZSBvZiBUaW55TUNFIG5vdCBwbGF5aW5nIHdlbGwgd2l0aCByZW1vdmFsIGFuZFxyXG4gICAgICAgIC8vIHJlY3JlYXRpb24gb2YgaW5zdGFuY2VzLCByZXF1aXJpbmcgaW5zdGFuY2VzIHRvIGhhdmUgZGlmZmVyZW50XHJcbiAgICAgICAgLy8gc2VsZWN0b3JzIGluIG9yZGVyIHRvIHJlbmRlciBuZXcgaW5zdGFuY2VzIHByb3Blcmx5XHJcbiAgICAgICAgc2NvcGUuJG9uKCckdGlueW1jZTpyZWZyZXNoJywgZnVuY3Rpb24oZSwgaWQpIHtcclxuICAgICAgICAgIHZhciBlaWQgPSBhdHRycy5pZDtcclxuICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKGlkKSB8fCBpZCA9PT0gZWlkKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJlbnRFbGVtZW50ID0gZWxlbWVudC5wYXJlbnQoKTtcclxuICAgICAgICAgICAgdmFyIGNsb25lZEVsZW1lbnQgPSBlbGVtZW50LmNsb25lKCk7XHJcbiAgICAgICAgICAgIGNsb25lZEVsZW1lbnQucmVtb3ZlQXR0cignaWQnKTtcclxuICAgICAgICAgICAgY2xvbmVkRWxlbWVudC5yZW1vdmVBdHRyKCdzdHlsZScpO1xyXG4gICAgICAgICAgICBjbG9uZWRFbGVtZW50LnJlbW92ZUF0dHIoJ2FyaWEtaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIHRpbnltY2UuZXhlY0NvbW1hbmQoJ21jZVJlbW92ZUVkaXRvcicsIGZhbHNlLCBlaWQpO1xyXG4gICAgICAgICAgICBwYXJlbnRFbGVtZW50LmFwcGVuZCgkY29tcGlsZShjbG9uZWRFbGVtZW50KShzY29wZSkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBlbnN1cmVJbnN0YW5jZSgpO1xyXG5cclxuICAgICAgICAgIGlmICh0aW55SW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgdGlueUluc3RhbmNlLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB0aW55SW5zdGFuY2UgPSBudWxsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBlbnN1cmVJbnN0YW5jZSgpIHtcclxuICAgICAgICAgIGlmICghdGlueUluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHRpbnlJbnN0YW5jZSA9IHRpbnltY2UuZ2V0KGF0dHJzLmlkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfV0pO1xyXG5cclxuKGZ1bmN0aW9uICgpIHtcclxuICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24ud2lkZ2V0LWJ1dHRvbi10b29sYmFyXCIsIFtcInJpc2V2aXNpb24uY29tbW9uLmkxOG5cIl0pXHJcbiAgICAuZGlyZWN0aXZlKFwid2lkZ2V0QnV0dG9uVG9vbGJhclwiLCBbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICByZXN0cmljdDogXCJFXCIsXHJcbiAgICAgICAgc2NvcGU6IHtcclxuICAgICAgICAgIHNhdmU6IFwiJlwiLFxyXG4gICAgICAgICAgY2FuY2VsOiBcIiZcIixcclxuICAgICAgICAgIGRpc2FibGVTYXZlOiBcIiZcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldChcIl9hbmd1bGFyL3dpZGdldC1idXR0b24tdG9vbGJhci93aWRnZXQtYnV0dG9uLXRvb2xiYXIuaHRtbFwiKVxyXG4gICAgICB9O1xyXG4gICAgfV0pO1xyXG59KCkpO1xyXG5cclxuKGZ1bmN0aW9uKG1vZHVsZSkge1xyXG50cnkgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi53aWRnZXQtYnV0dG9uLXRvb2xiYXJcIik7IH1cclxuY2F0Y2goZXJyKSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLndpZGdldC1idXR0b24tdG9vbGJhclwiLCBbXSk7IH1cclxubW9kdWxlLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xyXG4gIFwidXNlIHN0cmljdFwiO1xyXG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcIl9hbmd1bGFyL3dpZGdldC1idXR0b24tdG9vbGJhci93aWRnZXQtYnV0dG9uLXRvb2xiYXIuaHRtbFwiLFxyXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwdWxsLXJpZ2h0XFxcIj5cXG5cIiArXHJcbiAgICBcIiAgPGJ1dHRvbiBpZD1cXFwic2F2ZVxcXCIgY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeSBidG4tZml4ZWQtd2lkdGhcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgbmctY2xpY2s9XFxcInNhdmUoKVxcXCIgbmctZGlzYWJsZWQ9XFxcImRpc2FibGVTYXZlKClcXFwiPlxcblwiICtcclxuICAgIFwiICAgIDxzcGFuPnt7XFxcImNvbW1vbi5zYXZlXFxcIiB8IHRyYW5zbGF0ZX19PC9zcGFuPlxcblwiICtcclxuICAgIFwiICAgIDxpIGNsYXNzPVxcXCJmYSBmYS13aGl0ZSBmYS1jaGVjayBpY29uLXJpZ2h0XFxcIj48L2k+XFxuXCIgK1xyXG4gICAgXCIgIDwvYnV0dG9uPlxcblwiICtcclxuICAgIFwiICA8YnV0dG9uIGlkPVxcXCJjYW5jZWxcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLWZpeGVkLXdpZHRoXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIG5nLWNsaWNrPVxcXCJjYW5jZWwoKVxcXCI+XFxuXCIgK1xyXG4gICAgXCIgICAgPHNwYW4+e3tcXFwiY29tbW9uLmNhbmNlbFxcXCIgfCB0cmFuc2xhdGV9fTwvc3Bhbj5cXG5cIiArXHJcbiAgICBcIiAgICA8aSBjbGFzcz1cXFwiZmEgZmEtd2hpdGUgZmEtdGltZXMgaWNvbi1yaWdodFxcXCI+PC9pPlxcblwiICtcclxuICAgIFwiICA8L2J1dHRvbj5cXG5cIiArXHJcbiAgICBcIjwvZGl2PlxcblwiICtcclxuICAgIFwiXCIpO1xyXG59XSk7XHJcbn0pKCk7XHJcblxyXG4oZnVuY3Rpb24gKCkge1xyXG4gIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi50b29sdGlwXCIsIFtcInVpLmJvb3RzdHJhcFwiXSlcclxuICAgIC5kaXJlY3RpdmUoXCJydlRvb2x0aXBcIiwgW2Z1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICByZXN0cmljdDogXCJBXCIsXHJcbiAgICAgICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCBlbGVtZW50KSB7XHJcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKFwiZmFcIik7XHJcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKFwiZmEtcXVlc3Rpb24tY2lyY2xlXCIpO1xyXG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhcImZhLWxnXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH1dKTtcclxufSgpKTtcclxuXHJcbi8qIGV4cG9ydGVkIGNvbmZpZyAqL1xuaWYgKHR5cGVvZiBhbmd1bGFyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi5jb21tb24uaTE4bi5jb25maWdcIiwgW10pXG4gICAgLmNvbnN0YW50KFwiTE9DQUxFU19QUkVGSVhcIiwgXCJsb2NhbGVzL3RyYW5zbGF0aW9uX1wiKVxuICAgIC5jb25zdGFudChcIkxPQ0FMRVNfU1VGSVhcIiwgXCIuanNvblwiKTtcbn1cblxudmFyIGNvbmZpZyA9IHt9O1xuXHJcbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQudGltZWRhdGUuc2V0dGluZ3NcIiwgW1xuICBcInJpc2V2aXNpb24uY29tbW9uLmkxOG5cIixcbiAgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb25cIixcbiAgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24ud2lkZ2V0LWJ1dHRvbi10b29sYmFyXCIsXG4gIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnRvb2x0aXBcIixcbiAgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZm9udC1zZXR0aW5nXCJcbl0pO1xuXG5cclxuXHJcbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIsIFtdKTtcclxuXHJcbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXHJcbiAgLmNvbnRyb2xsZXIoXCJzZXR0aW5nc0NvbnRyb2xsZXJcIiwgW1wiJHNjb3BlXCIsIFwic2V0dGluZ3NTYXZlclwiLCBcInNldHRpbmdzR2V0dGVyXCIsIFwic2V0dGluZ3NDbG9zZXJcIixcclxuICAgIGZ1bmN0aW9uICgkc2NvcGUsIHNldHRpbmdzU2F2ZXIsIHNldHRpbmdzR2V0dGVyLCBzZXR0aW5nc0Nsb3Nlcikge1xyXG5cclxuICAgICRzY29wZS5zZXR0aW5ncyA9IHsgcGFyYW1zOiB7fSwgYWRkaXRpb25hbFBhcmFtczoge319O1xyXG4gICAgJHNjb3BlLmFsZXJ0cyA9IFtdO1xyXG5cclxuICAgICRzY29wZS5nZXRBZGRpdGlvbmFsUGFyYW0gPSBmdW5jdGlvbiAobmFtZSwgZGVmYXVsdFZhbCkge1xyXG4gICAgICB2YXIgdmFsID0gJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXNbbmFtZV07XHJcbiAgICAgIGlmKGFuZ3VsYXIuaXNVbmRlZmluZWQodmFsKSkge1xyXG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB2YWw7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLnNldEFkZGl0aW9uYWxQYXJhbSA9IGZ1bmN0aW9uIChuYW1lLCB2YWwpIHtcclxuICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXNbbmFtZV0gPSB2YWw7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5sb2FkQWRkaXRpb25hbFBhcmFtcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgc2V0dGluZ3NHZXR0ZXIuZ2V0QWRkaXRpb25hbFBhcmFtcygpLnRoZW4oZnVuY3Rpb24gKGFkZGl0aW9uYWxQYXJhbXMpIHtcclxuICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcyA9IGFkZGl0aW9uYWxQYXJhbXM7XHJcbiAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoXCJsb2FkQWRkaXRpb25hbFBhcmFtc1wiLCBhZGRpdGlvbmFsUGFyYW1zKTtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gKGVycikge2FsZXJ0IChlcnIpOyB9KTtcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLnNldEFkZGl0aW9uYWxQYXJhbXMgPSBmdW5jdGlvbiAobmFtZSwgdmFsKSB7XHJcbiAgICAgICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zW25hbWVdID0gdmFsO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUuc2F2ZVNldHRpbmdzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAvL2NsZWFyIG91dCBwcmV2aW91cyBhbGVydHMsIGlmIGFueVxyXG4gICAgICAkc2NvcGUuYWxlcnRzID0gW107XHJcblxyXG4gICAgICAkc2NvcGUuJGJyb2FkY2FzdChcImNvbGxlY3RBZGRpdGlvbmFsUGFyYW1zXCIpO1xyXG5cclxuICAgICAgc2V0dGluZ3NTYXZlci5zYXZlU2V0dGluZ3MoJHNjb3BlLnNldHRpbmdzKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvL1RPRE86IHBlcmhhcHMgc2hvdyBzb21lIGluZGljYXRvciBpbiBVST9cclxuICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgICRzY29wZS5hbGVydHMgPSBlcnIuYWxlcnRzO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5jbG9zZVNldHRpbmdzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHNldHRpbmdzQ2xvc2VyLmNsb3NlU2V0dGluZ3MoKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvL1RPRE86XHJcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAkc2NvcGUuYWxlcnRzID0gZXJyLmFsZXJ0cztcclxuICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUuc2V0dGluZ3MucGFyYW1zID0gc2V0dGluZ3NHZXR0ZXIuZ2V0UGFyYW1zKCk7XHJcbiAgICAkc2NvcGUubG9hZEFkZGl0aW9uYWxQYXJhbXMoKTtcclxuICB9XSlcclxuXHJcbiAgLmRpcmVjdGl2ZShcInNjcm9sbE9uQWxlcnRzXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6IFwiQVwiLCAvL3Jlc3RyaWN0cyB0byBhdHRyaWJ1dGVzXHJcbiAgICAgIHNjb3BlOiBmYWxzZSxcclxuICAgICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxtKSB7XHJcbiAgICAgICAgJHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oXCJhbGVydHNcIiwgZnVuY3Rpb24gKG5ld0FsZXJ0cywgb2xkQWxlcnRzKSB7XHJcbiAgICAgICAgICBpZihuZXdBbGVydHMubGVuZ3RoID4gMCAmJiBvbGRBbGVydHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICQoXCJib2R5XCIpLmFuaW1hdGUoe3Njcm9sbFRvcDogJGVsbS5vZmZzZXQoKS50b3B9LCBcImZhc3RcIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbn0pO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb25cIilcclxuICAuY29uc3RhbnQoXCJTVE9SQUdFX0ZJTEVfVVJMX0JBU0VcIiwgXCJzdG9yYWdlLmdvb2dsZWFwaXMuY29tL3Jpc2VtZWRpYWxpYnJhcnktXCIpXHJcbiAgLmNvbnN0YW50KFwiU1RPUkFHRV9GT0xERVJfVVJMX0JBU0VcIiwgXCJnb29nbGVhcGlzLmNvbS9zdG9yYWdlL1wiKVxyXG4gIC5mYWN0b3J5KFwiY29tbW9uU2V0dGluZ3NcIiwgW1wiJGxvZ1wiLCBcIlNUT1JBR0VfRklMRV9VUkxfQkFTRVwiLCBcIlNUT1JBR0VfRk9MREVSX1VSTF9CQVNFXCIsXHJcbiAgICBmdW5jdGlvbiAoJGxvZywgU1RPUkFHRV9GSUxFX1VSTF9CQVNFLCBTVE9SQUdFX0ZPTERFUl9VUkxfQkFTRSkge1xyXG5cclxuICAgIHZhciBmYWN0b3J5ID0ge1xyXG4gICAgICBnZXRTdG9yYWdlVXJsRGF0YTogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgIHZhciBzdG9yYWdlID0ge30sXHJcbiAgICAgICAgICBzdHIsIGFyciwgcGFyYW1zLCBwYWlyO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRTdG9yYWdlVHlwZShzdG9yYWdlVXJsKSB7XHJcbiAgICAgICAgICBpZiAoc3RvcmFnZVVybC5pbmRleE9mKFNUT1JBR0VfRklMRV9VUkxfQkFTRSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcImZpbGVcIjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoc3RvcmFnZVVybC5pbmRleE9mKFNUT1JBR0VfRk9MREVSX1VSTF9CQVNFKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiZm9sZGVyXCI7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRDb21wYW55SWQoc3RvcmFnZVVybCkge1xyXG4gICAgICAgICAgdmFyIHAgPSBzdG9yYWdlVXJsLnNwbGl0KFwicmlzZW1lZGlhbGlicmFyeS1cIik7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHBbMV0uc2xpY2UoMCwgcFsxXS5pbmRleE9mKFwiL1wiKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZ2V0U3RvcmFnZVR5cGUodXJsKSA9PT0gXCJmaWxlXCIpIHtcclxuICAgICAgICAgIHN0ciA9IHVybC5zcGxpdChTVE9SQUdFX0ZJTEVfVVJMX0JBU0UpWzFdO1xyXG4gICAgICAgICAgc3RyID0gZGVjb2RlVVJJQ29tcG9uZW50KHN0ci5zbGljZShzdHIuaW5kZXhPZihcIi9cIikgKyAxKSk7XHJcbiAgICAgICAgICBhcnIgPSBzdHIuc3BsaXQoXCIvXCIpO1xyXG5cclxuICAgICAgICAgIHN0b3JhZ2UuY29tcGFueUlkID0gZ2V0Q29tcGFueUlkKHVybCk7XHJcbiAgICAgICAgICBzdG9yYWdlLmZpbGVOYW1lID0gYXJyLnBvcCgpO1xyXG4gICAgICAgICAgc3RvcmFnZS5mb2xkZXIgPSBhcnIubGVuZ3RoID4gMCA/IGFyci5qb2luKFwiL1wiKSA6IFwiXCI7XHJcblxyXG4gICAgICAgICAgaWYgKHN0b3JhZ2UuZm9sZGVyICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIC8vIGFkZCBlbmRpbmcgXCIvXCIgdG8gdGhlIGZvbGRlciBwYXRoXHJcbiAgICAgICAgICAgIHN0b3JhZ2UuZm9sZGVyICs9IFwiL1wiO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChnZXRTdG9yYWdlVHlwZSh1cmwpID09PSBcImZvbGRlclwiKSB7XHJcbiAgICAgICAgICBwYXJhbXMgPSB1cmwuc3BsaXQoXCI/XCIpO1xyXG5cclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHBhaXIgPSBwYXJhbXNbaV0uc3BsaXQoXCI9XCIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHBhaXJbMF0gPT09IFwicHJlZml4XCIgJiYgdHlwZW9mIHBhaXJbMV0gIT09IFwidW5kZWZpbmVkXCIgJiYgcGFpclsxXSAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgIHN0b3JhZ2UuY29tcGFueUlkID0gZ2V0Q29tcGFueUlkKHVybCk7XHJcbiAgICAgICAgICAgICAgc3RvcmFnZS5mb2xkZXIgPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XHJcbiAgICAgICAgICAgICAgc3RvcmFnZS5maWxlTmFtZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzdG9yYWdlO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBmYWN0b3J5O1xyXG4gIH1dKTtcclxuXHJcbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXHJcbiAgLmZhY3RvcnkoXCJnYWRnZXRzQXBpXCIsIFtcIiR3aW5kb3dcIiwgZnVuY3Rpb24gKCR3aW5kb3cpIHtcclxuICAgIHJldHVybiAkd2luZG93LmdhZGdldHM7XHJcbiAgfV0pO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb25cIilcclxuICAuZmFjdG9yeShcImdvb2dsZUZvbnRMb2FkZXJcIiwgW1wiJGh0dHBcIiwgXCJhbmd1bGFyTG9hZFwiLCBmdW5jdGlvbiAoJGh0dHAsIGFuZ3VsYXJMb2FkKSB7XHJcblxyXG4gICAgdmFyIGZhY3RvcnkgPSB7fSxcclxuICAgICAgYWxsRm9udHMgPSBbXTtcclxuXHJcbiAgICBmYWN0b3J5LmdldEdvb2dsZUZvbnRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmIChhbGxGb250cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAvLyBHZXQgbGlzdCBvZiBHb29nbGUgZm9udHMgc29ydGVkIGFscGhhYmV0aWNhbGx5LlxyXG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS93ZWJmb250cy92MS93ZWJmb250cz9rZXk9QUl6YVN5Qlh4VktfSU9WN0xOUU11VlZvX2w3WnZONTNlak44NnpZJnNvcnQ9YWxwaGFcIiwgeyBjYWNoZTogdHJ1ZSB9KVxyXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xyXG4gICAgICAgICAgICBpZiAocmVzcC5kYXRhICYmIHJlc3AuZGF0YS5pdGVtcykge1xyXG4gICAgICAgICAgICAgIC8vIFNhdmUgYWxsIEdvb2dsZSBmb250cy5cclxuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gcmVzcC5kYXRhLml0ZW1zLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBhbGxGb250cy5wdXNoKHJlc3AuZGF0YS5pdGVtc1tpXS5mYW1pbHkpO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgcmV0dXJuIGxvYWRGb250cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbG9hZEZvbnRzKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyogRmlsdGVyIGxpc3Qgb2YgZm9udHMgdG8gb25seSByZXR1cm4gdGhvc2UgdGhhdCBhcmUgR29vZ2xlIGZvbnRzLiAqL1xyXG4gICAgZmFjdG9yeS5nZXRGb250c1VzZWQgPSBmdW5jdGlvbihmYW1pbHlMaXN0KSB7XHJcbiAgICAgIHZhciBmb250c1VzZWQgPSBbXTtcclxuXHJcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChhbGxGb250cywgZnVuY3Rpb24gKGZhbWlseSkge1xyXG4gICAgICAgIGlmIChmYW1pbHlMaXN0LmluZGV4T2YoZmFtaWx5KSAhPT0gLTEpIHtcclxuICAgICAgICAgIGZvbnRzVXNlZC5wdXNoKGZhbWlseSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBmb250c1VzZWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qIExvYWQgdGhlIEdvb2dsZSBmb250cy4gKi9cclxuICAgIGZ1bmN0aW9uIGxvYWRGb250cygpIHtcclxuICAgICAgdmFyIGZhbWlseSA9IFwiXCIsXHJcbiAgICAgICAgZm9udHMgPSBcIlwiLFxyXG4gICAgICAgIHVybCA9IFwiXCIsXHJcbiAgICAgICAgdXJscyA9IFtdLFxyXG4gICAgICAgIHNwYWNlcyA9IGZhbHNlLFxyXG4gICAgICAgIGZhbGxiYWNrID0gXCIsc2Fucy1zZXJpZjtcIixcclxuICAgICAgICBmb250QmFzZVVybCA9IFwiLy9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PVwiLFxyXG4gICAgICAgIGV4Y2x1ZGUgPSBbXCJCdWRhXCIsIFwiQ29kYSBDYXB0aW9uXCIsIFwiT3BlbiBTYW5zIENvbmRlbnNlZFwiLCBcIlVuaWZyYWt0dXJDb29rXCIsIFwiTW9sbGVcIl07XHJcblxyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbEZvbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZmFtaWx5ID0gYWxsRm9udHNbaV07XHJcblxyXG4gICAgICAgIGlmIChleGNsdWRlLmluZGV4T2YoZmFtaWx5KSA9PT0gLTEpIHtcclxuICAgICAgICAgIHVybCA9IGZvbnRCYXNlVXJsICsgZmFtaWx5O1xyXG5cclxuICAgICAgICAgIGFuZ3VsYXJMb2FkLmxvYWRDU1ModXJsKTtcclxuICAgICAgICAgIHVybHMucHVzaCh1cmwpO1xyXG5cclxuICAgICAgICAgIC8vIGNoZWNrIGZvciBzcGFjZXMgaW4gZmFtaWx5IG5hbWVcclxuICAgICAgICAgIGlmICgvXFxzLy50ZXN0KGZhbWlseSkpIHtcclxuICAgICAgICAgICAgc3BhY2VzID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoc3BhY2VzKSB7XHJcbiAgICAgICAgICAgIC8vIHdyYXAgZmFtaWx5IG5hbWUgaW4gc2luZ2xlIHF1b3Rlc1xyXG4gICAgICAgICAgICBmb250cyArPSBmYW1pbHkgKyBcIj0nXCIgKyBmYW1pbHkgKyBcIidcIiArIGZhbGxiYWNrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvbnRzICs9IGZhbWlseSArIFwiPVwiICsgZmFtaWx5ICsgZmFsbGJhY2s7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4geyBmb250czogZm9udHMsIHVybHM6IHVybHMgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFjdG9yeTtcclxuICB9XSk7XHJcblxyXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxyXG4gIC5zZXJ2aWNlKFwiaTE4bkxvYWRlclwiLCBbXCIkd2luZG93XCIsIFwiJHFcIiwgZnVuY3Rpb24gKCR3aW5kb3csICRxKSB7XHJcbiAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG5cclxuICAgICR3aW5kb3cuaTE4bi5pbml0KHsgXHJcbiAgICAgIGZhbGxiYWNrTG5nOiBcImVuXCIsXHJcbiAgICAgIHJlc0dldFBhdGg6IFwibG9jYWxlcy9fX25zX19fX19sbmdfXy5qc29uXCJcclxuICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgZGVmZXJyZWQucmVzb2x2ZSgkd2luZG93LmkxOG4pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG4gICAgfTtcclxuICB9XSk7XHJcblxyXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxyXG4gIC5mYWN0b3J5KFwiaW1hZ2VWYWxpZGF0b3JcIiwgW1wiJHFcIiwgZnVuY3Rpb24gKCRxKSB7XHJcbiAgICB2YXIgZmFjdG9yeSA9IHtcclxuICAgICAgLy8gVmVyaWZ5IHRoYXQgVVJMIGlzIGEgdmFsaWQgaW1hZ2UgZmlsZS5cclxuICAgICAgaXNJbWFnZTogZnVuY3Rpb24oc3JjKSB7XHJcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKSxcclxuICAgICAgICAgIGltYWdlID0gbmV3IEltYWdlKCk7XHJcblxyXG4gICAgICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cnVlKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpbWFnZS5vbmVycm9yID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGZhbHNlKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpbWFnZS5zcmMgPSBzcmM7XHJcblxyXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBmYWN0b3J5O1xyXG4gIH1dKTtcclxuXHJcbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXHJcbiAgLnNlcnZpY2UoXCJzZXR0aW5nc1NhdmVyXCIsIFtcIiRxXCIsIFwiJGxvZ1wiLCBcImdhZGdldHNBcGlcIiwgXCJzZXR0aW5nc1BhcnNlclwiLFxyXG4gIGZ1bmN0aW9uICgkcSwgJGxvZywgZ2FkZ2V0c0FwaSwgc2V0dGluZ3NQYXJzZXIpIHtcclxuXHJcbiAgICB0aGlzLnNhdmVTZXR0aW5ncyA9IGZ1bmN0aW9uIChzZXR0aW5ncywgdmFsaWRhdG9yKSB7XHJcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcbiAgICAgIHZhciBhbGVydHMgPSBbXSwgc3RyID0gXCJcIjtcclxuXHJcbiAgICAgIHNldHRpbmdzID0gcHJvY2Vzc1NldHRpbmdzKHNldHRpbmdzKTtcclxuXHJcbiAgICAgIGlmICh2YWxpZGF0b3IpIHtcclxuICAgICAgICBhbGVydHMgPSB2YWxpZGF0b3Ioc2V0dGluZ3MpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZihhbGVydHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICRsb2cuZGVidWcoXCJWYWxpZGF0aW9uIGZhaWxlZC5cIiwgYWxlcnRzKTtcclxuICAgICAgICBkZWZlcnJlZC5yZWplY3Qoe2FsZXJ0czogYWxlcnRzfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChzZXR0aW5ncy5wYXJhbXMuaGFzT3duUHJvcGVydHkoXCJsYXlvdXRVUkxcIikpIHtcclxuICAgICAgICAvLyBlbnN1cmUgdGhlIHVybCBpcyB0aGUgc3RhcnQgb2YgdGhlIHN0cmluZ1xyXG4gICAgICAgIHN0ciArPSBzZXR0aW5ncy5wYXJhbXMubGF5b3V0VVJMICsgXCI/XCI7XHJcbiAgICAgICAgLy8gZGVsZXRlIHRoaXMgcHJvcGVydHkgc28gaXRzIG5vdCBpbmNsdWRlZCBiZWxvdyBpbiBlbmNvZGVQYXJhbXMgY2FsbFxyXG4gICAgICAgIGRlbGV0ZSBzZXR0aW5ncy5wYXJhbXMubGF5b3V0VVJMO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzdHIgKz0gc2V0dGluZ3NQYXJzZXIuZW5jb2RlUGFyYW1zKHNldHRpbmdzLnBhcmFtcyk7XHJcblxyXG4gICAgICB2YXIgYWRkaXRpb25hbFBhcmFtc1N0ciA9XHJcbiAgICAgICAgc2V0dGluZ3NQYXJzZXIuZW5jb2RlQWRkaXRpb25hbFBhcmFtcyhzZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zKTtcclxuXHJcbiAgICAgIGdhZGdldHNBcGkucnBjLmNhbGwoXCJcIiwgXCJyc2NtZF9zYXZlU2V0dGluZ3NcIiwgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICRsb2cuZGVidWcoXCJlbmNvZGVkIHNldHRpbmdzXCIsIEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xyXG4gICAgICAgICRsb2cuZGVidWcoXCJTZXR0aW5ncyBzYXZlZC4gXCIsIHNldHRpbmdzKTtcclxuXHJcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICB9LCB7XHJcbiAgICAgICAgcGFyYW1zOiBzdHIsXHJcbiAgICAgICAgYWRkaXRpb25hbFBhcmFtczogYWRkaXRpb25hbFBhcmFtc1N0clxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBwcm9jZXNzU2V0dGluZ3Moc2V0dGluZ3MpIHtcclxuICAgICAgdmFyIG5ld1NldHRpbmdzID0gYW5ndWxhci5jb3B5KHNldHRpbmdzKTtcclxuXHJcbiAgICAgIGRlbGV0ZSBuZXdTZXR0aW5ncy5wYXJhbXMuaWQ7XHJcbiAgICAgIGRlbGV0ZSBuZXdTZXR0aW5ncy5wYXJhbXMuY29tcGFueUlkO1xyXG4gICAgICBkZWxldGUgbmV3U2V0dGluZ3MucGFyYW1zLnJzVztcclxuICAgICAgZGVsZXRlIG5ld1NldHRpbmdzLnBhcmFtcy5yc0g7XHJcblxyXG4gICAgICByZXR1cm4gbmV3U2V0dGluZ3M7XHJcbiAgICB9XHJcblxyXG4gIH1dKVxyXG5cclxuICAuc2VydmljZShcInNldHRpbmdzR2V0dGVyXCIsIFtcIiRxXCIsIFwiZ2FkZ2V0c0FwaVwiLCBcIiRsb2dcIiwgXCJzZXR0aW5nc1BhcnNlclwiLCBcIiR3aW5kb3dcIiwgXCJkZWZhdWx0U2V0dGluZ3NcIixcclxuICAgIGZ1bmN0aW9uICgkcSwgZ2FkZ2V0c0FwaSwgJGxvZywgc2V0dGluZ3NQYXJzZXIsICR3aW5kb3csIGRlZmF1bHRTZXR0aW5ncykge1xyXG5cclxuICAgICAgdGhpcy5nZXRBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgdmFyIGRlZmF1bHRBZGRpdGlvbmFsUGFyYW1zID0gZGVmYXVsdFNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMgfHwge307XHJcblxyXG4gICAgICAgIGdhZGdldHNBcGkucnBjLmNhbGwoXCJcIiwgXCJyc2NtZF9nZXRBZGRpdGlvbmFsUGFyYW1zXCIsIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gc2V0dGluZ3NQYXJzZXIucGFyc2VBZGRpdGlvbmFsUGFyYW1zKHJlc3VsdCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0ge307XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgJGxvZy5kZWJ1ZyhcImdldEFkZGl0aW9uYWxQYXJhbXMgcmV0dXJucyBcIiwgcmVzdWx0KTtcclxuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJC5leHRlbmQodHJ1ZSwgZGVmYXVsdEFkZGl0aW9uYWxQYXJhbXMsIHJlc3VsdCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMuZ2V0UGFyYW1zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBkZWZhdWx0UGFyYW1zID0gZGVmYXVsdFNldHRpbmdzLnBhcmFtcyB8fCB7fTtcclxuICAgICAgICByZXR1cm4gYW5ndWxhci5leHRlbmQoZGVmYXVsdFBhcmFtcyxcclxuICAgICAgICAgIHNldHRpbmdzUGFyc2VyLnBhcnNlUGFyYW1zKCR3aW5kb3cubG9jYXRpb24uc2VhcmNoKSk7XHJcbiAgICAgIH07XHJcbiAgfV0pXHJcblxyXG4gIC5zZXJ2aWNlKFwic2V0dGluZ3NQYXJzZXJcIiwgW2Z1bmN0aW9uICgpIHtcclxuICAgIHRoaXMucGFyc2VBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKGFkZGl0aW9uYWxQYXJhbXNTdHIpIHtcclxuICAgICAgaWYoYWRkaXRpb25hbFBhcmFtc1N0cikge1xyXG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGFkZGl0aW9uYWxQYXJhbXNTdHIpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB7fTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmVuY29kZUFkZGl0aW9uYWxQYXJhbXMgPSBmdW5jdGlvbiAoYWRkaXRpb25hbFBhcmFtcykge1xyXG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYWRkaXRpb25hbFBhcmFtcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZW5jb2RlUGFyYW1zID0gZnVuY3Rpb24gKHBhcmFtcykge1xyXG4gICAgICB2YXIgc3RyID0gW107XHJcbiAgICAgIGZvcih2YXIgcCBpbiBwYXJhbXMpIHtcclxuICAgICAgICBpZiAocGFyYW1zLmhhc093blByb3BlcnR5KHApKSB7XHJcbiAgICAgICAgICB2YXIgdmFsdWU7XHJcbiAgICAgICAgICBpZiAodHlwZW9mIHBhcmFtc1twXSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHBhcmFtc1twXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFsdWUgPSBwYXJhbXNbcF07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBzdHIucHVzaChcInVwX1wiICsgZW5jb2RlVVJJQ29tcG9uZW50KHApICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzdHIuam9pbihcIiZcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIHN0cmlwUHJlZml4KG5hbWUpIHtcclxuICAgICAgaWYobmFtZS5pbmRleE9mKFwidXBfXCIpID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIG5hbWUuc2xpY2UoMyk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnBhcnNlUGFyYW1zID0gZnVuY3Rpb24gKHBhcmFtc1N0cikge1xyXG4gICAgICAvL2dldCByaWQgb2YgcHJlY2VlZGluZyBcIj9cIlxyXG4gICAgICBpZihwYXJhbXNTdHJbMF0gPT09IFwiP1wiKSB7XHJcbiAgICAgICAgcGFyYW1zU3RyID0gcGFyYW1zU3RyLnNsaWNlKDEpO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgICAgdmFyIHZhcnMgPSBwYXJhbXNTdHIuc3BsaXQoXCImXCIpO1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgcGFpciA9IHZhcnNbaV0uc3BsaXQoXCI9XCIpO1xyXG4gICAgICAgIHZhciBuYW1lID0gc3RyaXBQcmVmaXgoZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMF0pKTtcclxuICAgICAgICAvL3NhdmUgc2V0dGluZ3Mgb25seSBpZiBpdCBoYXMgdXBfIHByZWZpeC4gSWdub3JlIG90aGVyd2lzZVxyXG4gICAgICAgIGlmIChuYW1lKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXN1bHRbbmFtZV0gPSBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICByZXN1bHRbbmFtZV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICB9XSlcclxuXHJcbiAgLnNlcnZpY2UoXCJzZXR0aW5nc0Nsb3NlclwiLCBbXCIkcVwiLCBcIiRsb2dcIiwgXCJnYWRnZXRzQXBpXCIsXHJcbiAgZnVuY3Rpb24gKCRxLCAkbG9nLCBnYWRnZXRzQXBpKSB7XHJcblxyXG4gICAgdGhpcy5jbG9zZVNldHRpbmdzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG5cclxuICAgICAgZ2FkZ2V0c0FwaS5ycGMuY2FsbChcIlwiLCBcInJzY21kX2Nsb3NlU2V0dGluZ3NcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJ1ZSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICB9O1xyXG5cclxuICB9XSlcclxuXHJcbiAgLnZhbHVlKFwiZGVmYXVsdFNldHRpbmdzXCIsIHt9KTtcclxuXHJcbihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG4gIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi52aXN1YWxpemF0aW9uXCIsIFtdKVxyXG4gICAgLmZhY3RvcnkoXCJ2aXN1YWxpemF0aW9uQXBpXCIsIFtcIiRxXCIsIFwiJHdpbmRvd1wiLCBmdW5jdGlvbiAoJHEsICR3aW5kb3cpIHtcclxuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuICAgICAgdmFyIHByb21pc2U7XHJcblxyXG4gICAgICB2YXIgZmFjdG9yeSA9IHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGlmICghcHJvbWlzZSkge1xyXG4gICAgICAgICAgICBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgICAgICAgaWYgKCEkd2luZG93Lmdvb2dsZS52aXN1YWxpemF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgJHdpbmRvdy5nb29nbGUuc2V0T25Mb2FkQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgkd2luZG93Lmdvb2dsZS52aXN1YWxpemF0aW9uKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCR3aW5kb3cuZ29vZ2xlLnZpc3VhbGl6YXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIHJldHVybiBmYWN0b3J5O1xyXG5cclxuICAgIH1dKTtcclxuXHJcbn0pKGFuZ3VsYXIpO1xyXG5cclxuLypnbG9iYWwgbW9tZW50ICovXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LnRpbWVkYXRlLnNldHRpbmdzXCIpXG4gIC5jb250cm9sbGVyKFwidGltZWRhdGVTZXR0aW5nc0NvbnRyb2xsZXJcIiwgW1wiJHNjb3BlXCIsIFwiJGxvZ1wiLFxuICAgIGZ1bmN0aW9uICgkc2NvcGUvKiwgJGxvZyovKSB7XG5cbiAgICAgICRzY29wZS5jdXJyZW50RGF0ZSA9IG1vbWVudCgpO1xuICAgICAgJHNjb3BlLnByZXZpZXdUZXh0ID0gXCJcIjtcblxuICAgICAgJHNjb3BlLmdldEZvcm1hdHRlZERhdGUgPSBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiAkc2NvcGUuY3VycmVudERhdGUuZm9ybWF0KGZvcm1hdCk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUudXBkYXRlUHJldmlld1RleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1vbWVudC5sb2NhbGUoJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMubGFuZ3VhZ2UpO1xuXG4gICAgICAgIHZhciB0ZXh0ID0gXCJcIjtcblxuICAgICAgICBpZiAoJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMudXNlVGltZXpvbmUpIHtcbiAgICAgICAgICAgJHNjb3BlLmN1cnJlbnREYXRlID0gbW9tZW50LnR6KCRzY29wZS5jdXJyZW50RGF0ZSwgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMudGltZXpvbmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRzY29wZS5jdXJyZW50RGF0ZSA9IG1vbWVudCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNob3dUaW1lKSB7XG4gICAgICAgICAgdGV4dCA9ICRzY29wZS5jdXJyZW50RGF0ZS5mb3JtYXQoJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMudGltZUZvcm1hdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc2hvd0RhdGUpIHtcbiAgICAgICAgICB0ZXh0ICs9ICgkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zaG93VGltZSkgPyBcIiBcIiA6IFwiXCI7XG4gICAgICAgICAgdGV4dCArPSAkc2NvcGUuY3VycmVudERhdGUuZm9ybWF0KCRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLmRhdGVGb3JtYXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLnByZXZpZXdUZXh0ID0gdGV4dDtcblxuICAgICAgfTtcblxuICAgICAgJHNjb3BlLiR3YXRjaChcInNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc2hvd1RpbWVcIiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAkc2NvcGUudXBkYXRlUHJldmlld1RleHQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgICRzY29wZS4kd2F0Y2goXCJzZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnRpbWVGb3JtYXRcIiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAkc2NvcGUudXBkYXRlUHJldmlld1RleHQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgICRzY29wZS4kd2F0Y2goXCJzZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNob3dEYXRlXCIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgJHNjb3BlLnVwZGF0ZVByZXZpZXdUZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUuJHdhdGNoKFwic2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5kYXRlRm9ybWF0XCIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgJHNjb3BlLnVwZGF0ZVByZXZpZXdUZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUuJHdhdGNoKFwic2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy51c2VUaW1lem9uZVwiLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiAhdmFsdWUpIHtcbiAgICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy50aW1lem9uZSA9IFwiXCI7XG4gICAgICAgICAgJHNjb3BlLnVwZGF0ZVByZXZpZXdUZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUuJHdhdGNoKFwic2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy50aW1lem9uZVwiLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICRzY29wZS51cGRhdGVQcmV2aWV3VGV4dCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgJHNjb3BlLiR3YXRjaChcInNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMubGFuZ3VhZ2VcIiwgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZVByZXZpZXdUZXh0KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH0pO1xuXG4gICAgfV0pXG4gIC52YWx1ZShcImRlZmF1bHRTZXR0aW5nc1wiLCB7XG4gICAgXCJwYXJhbXNcIjoge30sXG4gICAgXCJhZGRpdGlvbmFsUGFyYW1zXCI6IHtcbiAgICAgIFwic2hvd1RpbWVcIjogdHJ1ZSxcbiAgICAgIFwidGltZUZvcm1hdFwiOiBcImg6bW0gQVwiLFxuICAgICAgXCJzaG93RGF0ZVwiOiB0cnVlLFxuICAgICAgXCJkYXRlRm9ybWF0XCI6IFwiTU1NTSBERCwgWVlZWVwiLFxuICAgICAgXCJ1c2VUaW1lem9uZVwiOiBmYWxzZSxcbiAgICAgIFwidGltZXpvbmVcIjogXCJcIixcbiAgICAgIFwiZm9udFN0eWxlXCI6IHt9LFxuICAgICAgXCJsYW5ndWFnZVwiOiBcImVuXCIsXG4gICAgfVxuICB9KTtcbiJdfQ==
